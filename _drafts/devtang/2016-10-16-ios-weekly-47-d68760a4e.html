---
layout: post
title: 'iOS 移动开发周报 - 第 47 期'
time: 2016-10-16 23:34:00 +0800
site_name: devtang.com
source_url: http://blog.devtang.com/2016/10/16/ios-weekly-47/
images:
  4332b53d1e5eb5c7065c424cf3d8a70b: http://ww4.sinaimg.cn/mw690/65dc76a3jw1f1ngaau9arj20760763yr.jpg
  5a01919a481dfa38f86ef4967f126569: https://raw.githubusercontent.com/markohlebar/Import/master/Resources/usage.gif
  007bafaaedbbf9055c68782acf2551b9: http://ww3.sinaimg.cn/mw690/68212547jw1f87dsllmyzj20u00u0q4h.jpg
---
{% raw %}

		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc">
<li class="toc-item toc-level-2">
<a class="toc-link" href="#u65B0_u95FB"><span class="toc-number">1.</span> <span class="toc-text">新闻</span></a><ol class="toc-child">
<li class="toc-item toc-level-3"><a class="toc-link" href="#u82F9_u679C_u89E3_u91CA_Dash__u4E0B_u67B6_u7684_u539F_u56E0"><span class="toc-number">1.1.</span> <span class="toc-text">苹果解释 Dash 下架的原因</span></a></li>
<li class="toc-item toc-level-3"><a class="toc-link" href="#Swift_4"><span class="toc-number">1.2.</span> <span class="toc-text">Swift 4</span></a></li>
<li class="toc-item toc-level-3"><a class="toc-link" href="#iDev__u5927_u4F1A"><span class="toc-number">1.3.</span> <span class="toc-text">iDev 大会</span></a></li>
</ol>
</li>
<li class="toc-item toc-level-2">
<a class="toc-link" href="#u6587_u7AE0"><span class="toc-number">2.</span> <span class="toc-text">文章</span></a><ol class="toc-child">
<li class="toc-item toc-level-3"><a class="toc-link" href="#u95ED_u5305_u7684_escaping__u4E0E_non-escaping"><span class="toc-number">2.1.</span> <span class="toc-text">闭包的 escaping 与 non-escaping</span></a></li>
<li class="toc-item toc-level-3"><a class="toc-link" href="#u628A_u7B2C_u4E09_u65B9_iOS__u5E94_u7528_u8F6C_u6210_u52A8_u6001_u5E93"><span class="toc-number">2.2.</span> <span class="toc-text">把第三方 iOS 应用转成动态库</span></a></li>
</ol>
</li>
<li class="toc-item toc-level-2"><a class="toc-link" href="#u89C6_u9891"><span class="toc-number">3.</span> <span class="toc-text">视频</span></a></li>
<li class="toc-item toc-level-2"><a class="toc-link" href="#u5DE5_u5177"><span class="toc-number">4.</span> <span class="toc-text">工具</span></a></li>
<li class="toc-item toc-level-2"><a class="toc-link" href="#u6709_u8DA3"><span class="toc-number">5.</span> <span class="toc-text">有趣</span></a></li>
</ol>
		
		</div>
		
		<h2 id="u65B0_u95FB">
<a href="#u65B0_u95FB" class="headerlink" title="新闻"></a>新闻</h2>
<h3 id="u82F9_u679C_u89E3_u91CA_Dash__u4E0B_u67B6_u7684_u539F_u56E0">
<a href="#u82F9_u679C_u89E3_u91CA_Dash__u4E0B_u67B6_u7684_u539F_u56E0" class="headerlink" title="苹果解释 Dash 下架的原因"></a>苹果解释 Dash 下架的原因</h3>
<p>上周关于 Dash 被苹果下架的事情有了来自 <a href="http://www.loopinsight.com/2016/10/10/apple-responds-to-dash-controversy-with-proof/" target="_blank" rel="external">苹果的解释</a>，苹果说 Dash 进行了刷榜，具体来说，是在 Dash 的评价中发现了一些明显带有欺骗性的评分。苹果同时说这个决定是最终的，并且不可申述（final and can’t be appealed），所以这件事情可能最终的结果就是这样了。</p>
<p>我们从这件事情中可以看出，苹果对于刷榜的行为变得越来越严厉了。但是在国内，刷榜的行为还是普遍存在，而且大多数都没有受到惩罚。例如，我们公司的三款产品都没有刷榜，但是我们的竞争对手其实都有明显的刷榜行为。希望苹果能够有机会也整治一下国内的环境，让大家都在一个公平的环境中竞争。</p>
<h3 id="Swift_4">
<a href="#Swift_4" class="headerlink" title="Swift 4"></a>Swift 4</h3>
<p>是的，Swift 4 开始开发了，在 Swift 4 在 GitHub 的主页上，苹果公布了 Swift 4 的 <a href="https://github.com/apple/swift-evolution/blob/master/README.md#development-major-version--swift-40" target="_blank" rel="external">主要目标</a>。时间上，苹果计划在 2017 年晚些时候正式发布 Swift 4。苹果希望将 Swift 4 的开发分为两个阶段：</p>
<ul>
<li>第一阶段：关注于核心的一些需求，以及 ABI 的稳定性。苹果不希望在 Swift 4 中引入 ABI-breaking 的改变。</li>
<li>第二阶段：该阶段希望在 2017 年春能够开始讨论，在第一阶段的任务完成后，可以增加一些或大或小的新特性。</li>
</ul>
<h3 id="iDev__u5927_u4F1A">
<a href="#iDev__u5927_u4F1A" class="headerlink" title="iDev 大会"></a>iDev 大会</h3>
<p>​<a href="http://www.bagevent.com/event/207773" target="_blank" rel="external">iDev 大会</a>是一场由开发者自己办的技术会议，会议内容主要面向苹果的开发者，我是这次会议的出品人。</p>
<p>今年 iOS 的话题其实集中在 Swift 语言、函数式编程、跨平台方案，所以这方面的话题本次大会都有涉及。另外 iOS 安全一直是被人们较为忽视的一个方面，本次大会我在这方面也特别有设计议题讨论。</p>
<p>考虑到 iDev 大会希望涉及苹果全平台的技术，所以本次大会我们也安排了关于 macOS、watchOS 和 HomeKit 的议题。</p>
<p>对了，购票时输入我的优惠码：tangqiao，可以获得折扣票价再打 85 折哟。你也可直接访问以下网址获得优惠过的价格：<br><a href="http://www.bagevent.com/event/207773?discountCode=tangqiao" target="_blank" rel="external">http://www.bagevent.com/event/207773?discountCode=tangqiao</a></p>
<h2 id="u6587_u7AE0">
<a href="#u6587_u7AE0" class="headerlink" title="文章"></a>文章</h2>
<h3 id="u95ED_u5305_u7684_escaping__u4E0E_non-escaping">
<a href="#u95ED_u5305_u7684_escaping__u4E0E_non-escaping" class="headerlink" title="闭包的 escaping 与 non-escaping"></a>闭包的 escaping 与 non-escaping</h3>
<p><a href="https://oleb.net/blog/2016/10/optional-non-escaping-closures/" target="_blank" rel="external">Optional Non-Escaping Closures</a>： 本文讨论了 Swift 中的闭包的 escaping 的情况。所谓 escaping，就是指闭包在作为参数，传递给相应函数之后，相应函数执行完成了，但是闭包可能还需要被调用。所以，这个闭包似乎是逃离（escaping）了函数的作用时间。因为按理说函数执行完了，相应的参数应该就没用了，但是对于 escaping 的闭包，却不是这样。</p>
<p>什么情况下会出现这种情况呢？最常见的场景就是异步调用。比如我们发起一个网络请求，传入了一个闭包作为回调参数。这个闭包显然需要在网络请求结束时，才会被调用，这就是一个 escaping 的闭包。类似的还包括：我们把一些闭包放到 GCD 提供的 Dispatch Queue 中，也会造成 escaping 的闭包。</p>
<p>在本文中，作者讨论了一种比较特别的现象：只要一个闭包是 Optional 的，则它一定会是一个 escaping 的闭包。作者讨论了产生此问题的原因，并且提供了一些解决方案。</p>
<h3 id="u628A_u7B2C_u4E09_u65B9_iOS__u5E94_u7528_u8F6C_u6210_u52A8_u6001_u5E93">
<a href="#u628A_u7B2C_u4E09_u65B9_iOS__u5E94_u7528_u8F6C_u6210_u52A8_u6001_u5E93" class="headerlink" title="把第三方 iOS 应用转成动态库"></a>把第三方 iOS 应用转成动态库</h3>
<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTIyNTUyMQ==&amp;mid=2709545228&amp;idx=1&amp;sn=7a47a0de32e06f9c465319e8db8ca13f&amp;chksm=828f0bd2b5f882c46416ab20cd9ea482b3c57b202d876b75d5625a1bb036d40fe01d31c2679a&amp;mpshare=1&amp;scene=1&amp;srcid=1009N6R6XQyc1MDWhh0MfG7h#rd" target="_blank" rel="external">《黑科技：把第三方 iOS 应用转成动态库》</a>，本文介绍了一个自己写的工具，能够把第三方 iOS 应用转成动态库，并加载到自己的 App 中，文章最后会以支付宝为例，展示如何调用其中的 C 函数和 OC 方法。另外，本文首发在我的微信公众号：iOSDevTips 中，如果你还没有关注过，请扫码关注哟：</p>
<p><img src="/images/devtang.com/4332b53d1e5eb5c7065c424cf3d8a70b.jpg" alt=""></p>
<h2 id="u89C6_u9891">
<a href="#u89C6_u9891" class="headerlink" title="视频"></a>视频</h2>
<p>本周视频推荐 objc.io 出的一期视频：<a href="https://talk.objc.io/episodes/S01E15-building-parser-combinators-part-1" target="_blank" rel="external">手写一个 Parser</a>。</p>
<h2 id="u5DE5_u5177">
<a href="#u5DE5_u5177" class="headerlink" title="工具"></a>工具</h2>
<p>本周推荐的工具，是一个 Xcode 8 的效率工具。它可以方便你在任何时候输入需要 import 的内容。其实这类工具在别的平台都是 IDE 自动提供的，以前我在用 Eclipse 写后台的时候，用了一个需要 import 的库的类，只需要按 cmd + shift + o，IDE 就会自动把这些需要 import 的头文件帮你填上，以节省时间。Xcode 在这方面，还有挺多需要加强的。Anyway，Xcode 的 extension 这个机制也让我们能够自己动手丰衣足食了。</p>
<p>该工具在 GitHub 上的地址是 <a href="https://github.com/markohlebar/Import" target="_blank" rel="external">Import</a>，以下是使用起来的效果动画：</p>
<p><img src="/images/devtang.com/5a01919a481dfa38f86ef4967f126569.jpg" alt=""></p>
<h2 id="u6709_u8DA3">
<a href="#u6709_u8DA3" class="headerlink" title="有趣"></a>有趣</h2>
<p>本周的趣图来自 <a href="http://weibo.com/lexrus?from=feed&amp;loc=nickname" target="_blank" rel="external">汤圣罡</a>，由苹果的各种配件组成的一个笑脸，愿大家都有一个愉快的一天。</p>
<p><img src="/images/devtang.com/007bafaaedbbf9055c68782acf2551b9.jpg" alt=""></p>
  
	
{% endraw %}
