<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>自然语言处理工具包spaCy介绍 | IT技术干货</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="IT技术干货 KernelHacks 最好的技术站点 技术信息 纯干货">
    <link rel="canonical" href="http://iftti.com/posts/2016/2016-11-12-e8-87-aa-e7-84-b6-e8-af-ad-e8-a8-80-e5-a4-84-e7-90-86-e5-b7-a5-e5-85-b7-e5-8c-85spacy-e4-bb-8b-e7-bb-8d-408ddfd8f.html">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">

</head>


    <body>

    <header class="site-header">

  <div class="wrap">

    <a class="site-title" href="/">IT技术干货</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          
        
          <a class="page-link" href="/about/">About</a>
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>自然语言处理工具包spaCy介绍</h1>
    <p class="meta"><span class="time">Nov 12, 2016</span><span class="source_url"> • 来自 52nlp.cn <a name="52nlp.cn" href="http://www.52nlp.cn/%e8%87%aa%e7%84%b6%e8%af%ad%e8%a8%80%e5%a4%84%e7%90%86%e5%b7%a5%e5%85%b7%e5%8c%85spacy%e4%bb%8b%e7%bb%8d" target="_blank">[原文链接]</a></span></p>
  </header>

  <article class="post-content">
  

						<p><a href="https://spacy.io/" target="_blank">spaCy</a> 是一个Python自然语言处理工具包，诞生于2014年年中，号称“Industrial-Strength Natural Language Processing in Python”，是具有工业级强度的Python NLP工具包。spaCy里大量使用了 <a href="http://cython.org/" target="_blank">Cython</a> 来提高相关模块的性能，这个区别于学术性质更浓的Python NLTK，因此具有了业界应用的实际价值。</p>
<p>安装和编译 <a href="https://github.com/explosion/spaCy" target="_blank">spaCy</a> 比较方便，在ubuntu环境下，直接用pip安装即可：</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="text codecolorer">sudo apt-get install build-essential python-dev git<br>
sudo pip install -U spacy</div></div>
<p>不过安装完毕之后，需要下载相关的模型数据，以英文模型数据为例，可以用”all”参数下载所有的数据:</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="text codecolorer">sudo python -m spacy.en.download all</div></div>
<p>或者可以分别下载相关的模型和用glove训练好的词向量数据：</p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="python codecolorer">
<span class="co1"># 这个过程下载英文tokenizer，词性标注，句法分析，命名实体识别相关的模型</span><br>
python -m spacy.<span class="me1">en</span>.<span class="me1">download</span> <span class="kw3">parser</span><br>
<br>
<span class="co1"># 这个过程下载glove训练好的词向量数据</span><br>
python -m spacy.<span class="me1">en</span>.<span class="me1">download</span> glove</div></div>
<p>下载好的数据放在spacy安装目录下的data里，以我的ubuntu为例：</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="text codecolorer">textminer@textminer:/usr/local/lib/python2.7/dist-packages/spacy/data$ du -sh *<br>
776M    en-1.1.0<br>
774M    en_glove_cc_300_1m_vectors-1.0.0</div></div>
<p>进入到英文数据模型下：</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="text codecolorer">textminer@textminer:/usr/local/lib/python2.7/dist-packages/spacy/data/en-1.1.0$ du -sh *<br>
424M    deps<br>
8.0K    meta.json<br>
35M ner<br>
12M pos<br>
84K tokenizer<br>
300M    vocab<br>
6.3M    wordnet</div></div>
<p>可以用如下命令检查模型数据是否安装成功：</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="text codecolorer">textminer@textminer:~$ python -c "import spacy; spacy.load('en'); print('OK')"<br>
OK</div></div>
<p>也可以用pytest进行测试：</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:620px;height:450px;"><div class="text codecolorer"># 首先找到spacy的安装路径：<br>
python -c "import os; import spacy; print(os.path.dirname(spacy.__file__))"<br>
/usr/local/lib/python2.7/dist-packages/spacy<br>
<br>
# 再安装pytest:<br>
sudo python -m pip install -U pytest<br>
<br>
# 最后进行测试：<br>
python -m pytest /usr/local/lib/python2.7/dist-packages/spacy --vectors --model --slow<br>
============================= test session starts ==============================<br>
platform linux2 -- Python 2.7.12, pytest-3.0.4, py-1.4.31, pluggy-0.4.0<br>
rootdir: /usr/local/lib/python2.7/dist-packages/spacy, inifile: <br>
collected 318 items <br>
<br>
../../usr/local/lib/python2.7/dist-packages/spacy/tests/test_matcher.py ........<br>
../../usr/local/lib/python2.7/dist-packages/spacy/tests/matcher/test_entity_id.py ....<br>
../../usr/local/lib/python2.7/dist-packages/spacy/tests/matcher/test_matcher_bugfixes.py .....<br>
......<br>
../../usr/local/lib/python2.7/dist-packages/spacy/tests/vocab/test_vocab.py .......Xx<br>
../../usr/local/lib/python2.7/dist-packages/spacy/tests/website/test_api.py x...............<br>
../../usr/local/lib/python2.7/dist-packages/spacy/tests/website/test_home.py ............<br>
<br>
============== 310 passed, 5 xfailed, 3 xpassed in 53.95 seconds ===============</div></div>
<p>现在可以快速测试一下spaCy的相关功能，我们以英文数据为例，spaCy目前主要支持英文和德文，对其他语言的支持正在陆续加入：</p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="python codecolorer">textminer<span class="sy0">@</span>textminer:<span class="sy0">~</span>$ ipython<br>
Python 2.7.12 <span class="br0">(</span>default<span class="sy0">,</span> Jul  <span class="nu0">1</span> <span class="nu0">2016</span><span class="sy0">,</span> <span class="nu0">15</span>:<span class="nu0">12</span>:<span class="nu0">24</span><span class="br0">)</span> <br>
Type <span class="st0">"copyright"</span><span class="sy0">,</span> <span class="st0">"credits"</span> <span class="kw1">or</span> <span class="st0">"license"</span> <span class="kw1">for</span> more information.<br>
<br>
<span class="me1">IPython</span> 2.4.1 -- An enhanced Interactive Python.<br>
?         -<span class="sy0">&gt;</span> Introduction <span class="kw1">and</span> overview of IPython<span class="st0">'s features.<br>
%quickref -&gt; Quick reference.<br>
help      -&gt; Python'</span>s own <span class="kw2">help</span> system.<br>
<span class="kw2">object</span>?   -<span class="sy0">&gt;</span> Details about <span class="st0">'object'</span><span class="sy0">,</span> use <span class="st0">'object??'</span> <span class="kw1">for</span> extra details.<br>
<br>
<span class="me1">In</span> <span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span>: <span class="kw1">import</span> spacy          <br>
<br>
<span class="co1"># 加载英文模型数据，稍许等待</span><br>
In <span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span>: nlp <span class="sy0">=</span> spacy.<span class="me1">load</span><span class="br0">(</span><span class="st0">'en'</span><span class="br0">)</span>
</div></div>
<p><strong>Word tokenize功能，spaCy 1.2版本加了中文tokenize接口，基于<a href="https://github.com/fxsjy/jieba" target="_blank">Jieba</a>中文分词:</strong></p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="python codecolorer">In <span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span>: test_doc <span class="sy0">=</span> nlp<span class="br0">(</span>u<span class="st0">"it's word tokenize test for spacy"</span><span class="br0">)</span>            <br>
<br>
In <span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span>: <span class="kw1">print</span><span class="br0">(</span>test_doc<span class="br0">)</span><br>
it<span class="st0">'s word tokenize test for spacy<br>
<br>
In [5]: for token in test_doc:                                          <br>
    print(token)<br>
   ...:     <br>
it<br>
'</span>s<br>
word<br>
<span class="kw3">tokenize</span><br>
<span class="kw3">test</span><br>
<span class="kw1">for</span><br>
spacy</div></div>
<p><strong>英文断句:</strong></p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="python codecolorer">In <span class="br0">[</span><span class="nu0">6</span><span class="br0">]</span>: test_doc <span class="sy0">=</span> nlp<span class="br0">(</span>u<span class="st0">'Natural language processing (NLP) deals with the application of computational models to text or speech data. Application areas within NLP include automatic (machine) translation between languages; dialogue systems, which allow a human to interact with a machine using natural language; and information extraction, where the goal is to transform unstructured text into structured (database) representations that can be searched and browsed in flexible ways. NLP technologies are having a dramatic impact on the way people interact with computers, on the way people interact with each other through the use of language, and on the way people access the vast amount of linguistic data now in electronic form. From a scientific viewpoint, NLP involves fundamental questions of how to structure formal models (for example statistical models) of natural language phenomena, and of how to design algorithms that implement these models.'</span><span class="br0">)</span><br>
<br>
In <span class="br0">[</span><span class="nu0">7</span><span class="br0">]</span>: <span class="kw1">for</span> sent <span class="kw1">in</span> test_doc.<span class="me1">sents</span>:<br>
    <span class="kw1">print</span><span class="br0">(</span>sent<span class="br0">)</span><br>
   ...:     <br>
Natural language processing <span class="br0">(</span>NLP<span class="br0">)</span> deals <span class="kw1">with</span> the application of computational models to text <span class="kw1">or</span> speech data.<br>
<span class="me1">Application</span> areas within NLP include automatic <span class="br0">(</span>machine<span class="br0">)</span> translation between languages<span class="sy0">;</span> dialogue systems<span class="sy0">,</span> which allow a human to interact <span class="kw1">with</span> a machine using natural language<span class="sy0">;</span> <span class="kw1">and</span> information extraction<span class="sy0">,</span> where the goal <span class="kw1">is</span> to transform unstructured text into structured <span class="br0">(</span>database<span class="br0">)</span> representations that can be searched <span class="kw1">and</span> browsed <span class="kw1">in</span> flexible ways.<br>
<span class="me1">NLP</span> technologies are having a dramatic impact on the way people interact <span class="kw1">with</span> computers<span class="sy0">,</span> on the way people interact <span class="kw1">with</span> each other through the use of language<span class="sy0">,</span> <span class="kw1">and</span> on the way people access the vast amount of linguistic data now <span class="kw1">in</span> electronic form.<br>
<span class="me1">From</span> a scientific viewpoint<span class="sy0">,</span> NLP involves fundamental questions of how to structure formal models <span class="br0">(</span><span class="kw1">for</span> example statistical models<span class="br0">)</span> of natural language phenomena<span class="sy0">,</span> <span class="kw1">and</span> of how to design algorithms that implement these models.</div></div>
<p><strong><br>
词干化（Lemmatize):</strong></p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="python codecolorer">In <span class="br0">[</span><span class="nu0">8</span><span class="br0">]</span>: test_doc <span class="sy0">=</span> nlp<span class="br0">(</span>u<span class="st0">"you are best. it is lemmatize test for spacy. I love these books"</span><span class="br0">)</span><br>
<br>
In <span class="br0">[</span><span class="nu0">9</span><span class="br0">]</span>: <span class="kw1">for</span> <span class="kw3">token</span> <span class="kw1">in</span> test_doc:                                                      <br>
    <span class="kw1">print</span><span class="br0">(</span><span class="kw3">token</span><span class="sy0">,</span> <span class="kw3">token</span>.<span class="me1">lemma_</span><span class="sy0">,</span> <span class="kw3">token</span>.<span class="me1">lemma</span><span class="br0">)</span><br>
   ...:     <br>
<span class="br0">(</span>you<span class="sy0">,</span> u<span class="st0">'you'</span><span class="sy0">,</span> <span class="nu0">472</span><span class="br0">)</span><br>
<span class="br0">(</span>are<span class="sy0">,</span> u<span class="st0">'be'</span><span class="sy0">,</span> <span class="nu0">488</span><span class="br0">)</span><br>
<span class="br0">(</span>best<span class="sy0">,</span> u<span class="st0">'good'</span><span class="sy0">,</span> <span class="nu0">556</span><span class="br0">)</span><br>
<span class="br0">(</span>.<span class="sy0">,</span> u<span class="st0">'.'</span><span class="sy0">,</span> <span class="nu0">419</span><span class="br0">)</span><br>
<span class="br0">(</span>it<span class="sy0">,</span> u<span class="st0">'it'</span><span class="sy0">,</span> <span class="nu0">473</span><span class="br0">)</span><br>
<span class="br0">(</span><span class="kw1">is</span><span class="sy0">,</span> u<span class="st0">'be'</span><span class="sy0">,</span> <span class="nu0">488</span><span class="br0">)</span><br>
<span class="br0">(</span>lemmatize<span class="sy0">,</span> u<span class="st0">'lemmatize'</span><span class="sy0">,</span> <span class="nu0">1510296</span><span class="br0">)</span><br>
<span class="br0">(</span><span class="kw3">test</span><span class="sy0">,</span> u<span class="st0">'test'</span><span class="sy0">,</span> <span class="nu0">1351</span><span class="br0">)</span><br>
<span class="br0">(</span><span class="kw1">for</span><span class="sy0">,</span> u<span class="st0">'for'</span><span class="sy0">,</span> <span class="nu0">480</span><span class="br0">)</span><br>
<span class="br0">(</span>spacy<span class="sy0">,</span> u<span class="st0">'spacy'</span><span class="sy0">,</span> <span class="nu0">173783</span><span class="br0">)</span><br>
<span class="br0">(</span>.<span class="sy0">,</span> u<span class="st0">'.'</span><span class="sy0">,</span> <span class="nu0">419</span><span class="br0">)</span><br>
<span class="br0">(</span>I<span class="sy0">,</span> u<span class="st0">'i'</span><span class="sy0">,</span> <span class="nu0">570</span><span class="br0">)</span><br>
<span class="br0">(</span>love<span class="sy0">,</span> u<span class="st0">'love'</span><span class="sy0">,</span> <span class="nu0">644</span><span class="br0">)</span><br>
<span class="br0">(</span>these<span class="sy0">,</span> u<span class="st0">'these'</span><span class="sy0">,</span> <span class="nu0">642</span><span class="br0">)</span><br>
<span class="br0">(</span>books<span class="sy0">,</span> u<span class="st0">'book'</span><span class="sy0">,</span> <span class="nu0">1011</span><span class="br0">)</span>
</div></div>
<p><strong>词性标注(POS Tagging):</strong></p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="python codecolorer">In <span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span>: <span class="kw1">for</span> <span class="kw3">token</span> <span class="kw1">in</span> test_doc:                                                     <br>
    <span class="kw1">print</span><span class="br0">(</span><span class="kw3">token</span><span class="sy0">,</span> <span class="kw3">token</span>.<span class="me1">pos_</span><span class="sy0">,</span> <span class="kw3">token</span>.<span class="me1">pos</span><span class="br0">)</span><br>
   ....:     <br>
<span class="br0">(</span>you<span class="sy0">,</span> u<span class="st0">'PRON'</span><span class="sy0">,</span> <span class="nu0">92</span><span class="br0">)</span><br>
<span class="br0">(</span>are<span class="sy0">,</span> u<span class="st0">'VERB'</span><span class="sy0">,</span> <span class="nu0">97</span><span class="br0">)</span><br>
<span class="br0">(</span>best<span class="sy0">,</span> u<span class="st0">'ADJ'</span><span class="sy0">,</span> <span class="nu0">82</span><span class="br0">)</span><br>
<span class="br0">(</span>.<span class="sy0">,</span> u<span class="st0">'PUNCT'</span><span class="sy0">,</span> <span class="nu0">94</span><span class="br0">)</span><br>
<span class="br0">(</span>it<span class="sy0">,</span> u<span class="st0">'PRON'</span><span class="sy0">,</span> <span class="nu0">92</span><span class="br0">)</span><br>
<span class="br0">(</span><span class="kw1">is</span><span class="sy0">,</span> u<span class="st0">'VERB'</span><span class="sy0">,</span> <span class="nu0">97</span><span class="br0">)</span><br>
<span class="br0">(</span>lemmatize<span class="sy0">,</span> u<span class="st0">'ADJ'</span><span class="sy0">,</span> <span class="nu0">82</span><span class="br0">)</span><br>
<span class="br0">(</span><span class="kw3">test</span><span class="sy0">,</span> u<span class="st0">'NOUN'</span><span class="sy0">,</span> <span class="nu0">89</span><span class="br0">)</span><br>
<span class="br0">(</span><span class="kw1">for</span><span class="sy0">,</span> u<span class="st0">'ADP'</span><span class="sy0">,</span> <span class="nu0">83</span><span class="br0">)</span><br>
<span class="br0">(</span>spacy<span class="sy0">,</span> u<span class="st0">'NOUN'</span><span class="sy0">,</span> <span class="nu0">89</span><span class="br0">)</span><br>
<span class="br0">(</span>.<span class="sy0">,</span> u<span class="st0">'PUNCT'</span><span class="sy0">,</span> <span class="nu0">94</span><span class="br0">)</span><br>
<span class="br0">(</span>I<span class="sy0">,</span> u<span class="st0">'PRON'</span><span class="sy0">,</span> <span class="nu0">92</span><span class="br0">)</span><br>
<span class="br0">(</span>love<span class="sy0">,</span> u<span class="st0">'VERB'</span><span class="sy0">,</span> <span class="nu0">97</span><span class="br0">)</span><br>
<span class="br0">(</span>these<span class="sy0">,</span> u<span class="st0">'DET'</span><span class="sy0">,</span> <span class="nu0">87</span><span class="br0">)</span><br>
<span class="br0">(</span>books<span class="sy0">,</span> u<span class="st0">'NOUN'</span><span class="sy0">,</span> <span class="nu0">89</span><span class="br0">)</span>
</div></div>
<p><strong>命名实体识别（NER）：</strong></p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;"><div class="python codecolorer">In <span class="br0">[</span><span class="nu0">11</span><span class="br0">]</span>: test_doc <span class="sy0">=</span> nlp<span class="br0">(</span>u<span class="st0">"Rami Eid is studying at Stony Brook University in New York"</span><span class="br0">)</span><br>
<br>
In <span class="br0">[</span><span class="nu0">12</span><span class="br0">]</span>: <span class="kw1">for</span> ent <span class="kw1">in</span> test_doc.<span class="me1">ents</span>:<br>
    <span class="kw1">print</span><span class="br0">(</span>ent<span class="sy0">,</span> ent.<span class="me1">label_</span><span class="sy0">,</span> ent.<span class="me1">label</span><span class="br0">)</span><br>
   ....:     <br>
<span class="br0">(</span>Rami Eid<span class="sy0">,</span> u<span class="st0">'PERSON'</span><span class="sy0">,</span> <span class="nu0">346</span><span class="br0">)</span><br>
<span class="br0">(</span>Stony Brook University<span class="sy0">,</span> u<span class="st0">'ORG'</span><span class="sy0">,</span> <span class="nu0">349</span><span class="br0">)</span><br>
<span class="br0">(</span>New York<span class="sy0">,</span> u<span class="st0">'GPE'</span><span class="sy0">,</span> <span class="nu0">350</span><span class="br0">)</span>
</div></div>
<p><strong>名词短语提取：</strong></p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;height:450px;"><div class="python codecolorer">In <span class="br0">[</span><span class="nu0">13</span><span class="br0">]</span>: test_doc <span class="sy0">=</span> nlp<span class="br0">(</span>u<span class="st0">'Natural language processing (NLP) deals with the application of computational models to text or speech data. Application areas within NLP include automatic (machine) translation between languages; dialogue systems, which allow a human to interact with a machine using natural language; and information extraction, where the goal is to transform unstructured text into structured (database) representations that can be searched and browsed in flexible ways. NLP technologies are having a dramatic impact on the way people interact with computers, on the way people interact with each other through the use of language, and on the way people access the vast amount of linguistic data now in electronic form. From a scientific viewpoint, NLP involves fundamental questions of how to structure formal models (for example statistical models) of natural language phenomena, and of how to design algorithms that implement these models.'</span><span class="br0">)</span><br>
<br>
<br>
In <span class="br0">[</span><span class="nu0">14</span><span class="br0">]</span>: <span class="kw1">for</span> np <span class="kw1">in</span> test_doc.<span class="me1">noun_chunks</span>:<br>
    <span class="kw1">print</span><span class="br0">(</span>np<span class="br0">)</span><br>
   ....:     <br>
Natural language processing<br>
Natural language processing <span class="br0">(</span>NLP<span class="br0">)</span> deals<br>
the application<br>
computational models<br>
text<br>
speech<br>
data<br>
Application areas<br>
NLP<br>
automatic <span class="br0">(</span>machine<span class="br0">)</span> translation<br>
languages<br>
dialogue systems<br>
a human<br>
a machine<br>
natural language<br>
information extraction<br>
the goal<br>
unstructured text<br>
structured <span class="br0">(</span>database<span class="br0">)</span> representations<br>
flexible ways<br>
NLP technologies<br>
a dramatic impact<br>
the way<br>
people<br>
computers<br>
the way<br>
people<br>
the use<br>
language<br>
the way<br>
people<br>
the vast amount<br>
linguistic data<br>
electronic form<br>
a scientific viewpoint<br>
NLP<br>
fundamental questions<br>
formal models<br>
example<br>
natural language phenomena<br>
algorithms<br>
these models</div></div>
<p><strong>基于词向量计算两个单词的相似度：</strong></p>
<div class="codecolorer-container python default" style="overflow:auto;white-space:nowrap;width:620px;height:450px;"><div class="python codecolorer">In <span class="br0">[</span><span class="nu0">15</span><span class="br0">]</span>: test_doc <span class="sy0">=</span> nlp<span class="br0">(</span>u<span class="st0">"Apples and oranges are similar. Boots and hippos aren't."</span><span class="br0">)</span><br>
<br>
In <span class="br0">[</span><span class="nu0">16</span><span class="br0">]</span>: apples <span class="sy0">=</span> test_doc<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><br>
<br>
In <span class="br0">[</span><span class="nu0">17</span><span class="br0">]</span>: <span class="kw1">print</span><span class="br0">(</span>apples<span class="br0">)</span><br>
Apples<br>
<br>
In <span class="br0">[</span><span class="nu0">18</span><span class="br0">]</span>: oranges <span class="sy0">=</span> test_doc<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><br>
<br>
In <span class="br0">[</span><span class="nu0">19</span><span class="br0">]</span>: <span class="kw1">print</span><span class="br0">(</span>oranges<span class="br0">)</span><br>
oranges<br>
<br>
In <span class="br0">[</span><span class="nu0">20</span><span class="br0">]</span>: boots <span class="sy0">=</span> test_doc<span class="br0">[</span><span class="nu0">6</span><span class="br0">]</span><br>
<br>
In <span class="br0">[</span><span class="nu0">21</span><span class="br0">]</span>: <span class="kw1">print</span><span class="br0">(</span>boots<span class="br0">)</span><br>
Boots<br>
<br>
In <span class="br0">[</span><span class="nu0">22</span><span class="br0">]</span>: hippos <span class="sy0">=</span> test_doc<span class="br0">[</span><span class="nu0">8</span><span class="br0">]</span><br>
<br>
In <span class="br0">[</span><span class="nu0">23</span><span class="br0">]</span>: <span class="kw1">print</span><span class="br0">(</span>hippos<span class="br0">)</span><br>
hippos<br>
<br>
In <span class="br0">[</span><span class="nu0">24</span><span class="br0">]</span>: apples.<span class="me1">similarity</span><span class="br0">(</span>oranges<span class="br0">)</span><br>
Out<span class="br0">[</span><span class="nu0">24</span><span class="br0">]</span>: <span class="nu0">0.77809414836023805</span><br>
<br>
In <span class="br0">[</span><span class="nu0">25</span><span class="br0">]</span>: boots.<span class="me1">similarity</span><span class="br0">(</span>hippos<span class="br0">)</span><br>
Out<span class="br0">[</span><span class="nu0">25</span><span class="br0">]</span>: <span class="nu0">0.038474555379008429</span>
</div></div>
<p>当然，spaCy还包括句法分析的相关功能等。另外值得关注的是 spaCy 从1.0版本起，加入了对<a href="http://www.52nlp.cn/tag/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0" target="_blank">深度学习</a>工具的支持，例如 <a href="http://www.52nlp.cn/tag/tensorflow" target="_blank">Tensorflow</a> 和 Keras 等，这方面具体可以参考官方文档给出的一个对情感分析（<a href="http://sentimentanalysis.net/" target="_blank">Sentiment Analysis</a>）模型进行分析的例子：<a href="https://spacy.io/docs/usage/deep-learning" target="_blank">Hooking a deep learning model into spaCy</a>.</p>
<p>参考：<br>
<a href="https://spacy.io/docs/usage/" target="_blank">spaCy官方文档</a><br>
<a href="http://textminingonline.com/getting-started-with-spacy" target="_blank">Getting Started with spaCy</a></p>
<p>注：原创文章，转载请注明出处及保留链接“<a href="http://www.52nlp.cn">我爱自然语言处理</a>”：<a href="http://www.52nlp.cn">http://www.52nlp.cn</a></p>
<p>本文链接地址：<a href="http://www.52nlp.cn/?p=9386">自然语言处理工具包spaCy介绍</a> <a href="http://www.52nlp.cn/?p=9386">http://www.52nlp.cn/?p=9386</a></p>

											


  </article>

  <div class="meta">
  
    <a class="basic-alignment left" href="/posts/2016/2016-11-11-marathon-operation-platform.html-4a4dd0b53.html" title="Previous Post: Mesos 实战-3：Marathon 作为运维管理平台" data-instant>&laquo; Mesos 实战-3：Marathon 作为运维管理平台</a>
  
  
    <a class="basic-alignment right" href="/posts/2016/2016-11-14-what-is-rest.html-e03901700.html" title="Next Post: REST简介" data-instant>REST简介 &raquo;</a>
  
</div>
  <div id="related">
  <h2 class="subheader">Related Posts <small>They might be useful</small></h2>
  <ul class="posts">
    
      <li><span>22 May 2018</span> &raquo; <a href="http://iftti.com/posts/2018/2018-05-22-114031-4382c32a2.html">详解 Linux 文档属性、拥有者、群组、权限、差异</a></li>
    
      <li><span>21 May 2018</span> &raquo; <a href="http://iftti.com/posts/2018/2018-05-21-114016-1b3612333.html">分布式之消息队列复习精讲</a></li>
    
      <li><span>20 May 2018</span> &raquo; <a href="http://iftti.com/posts/2018/2018-05-20-114009-9d318dfaa.html">分布式之延时任务方案解析</a></li>
    
  </ul>
</div>

  
<comments>

<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1936498"></script>
<!-- UY END -->

</comments>

</div>
      <!-- JiaThis Button BEGIN -->
<div class="jiathis_share_slide jiathis_share_24x24" id="jiathis_share_slide">
<div class="jiathis_share_slide_top" id="jiathis_share_title"></div>
<div class="jiathis_share_slide_inner">
<div class="jiathis_style_24x24">
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_googleplus"></a>
<a class="jiathis_button_twitter"></a>
<a class="jiathis_button_linkedin"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_cqq"></a>
<a class="jiathis_button_renren"></a>
<a class="jiathis_button_evernote"></a>
<a class="jiathis_button_pocket"></a>
<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'
	,slide:{
		divid:'wrap',
		pos:'left',
		gt:'true'
	}
};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1936498" charset="utf-8"></script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jiathis_slide.js" charset="utf-8"></script>
</div></div></div>
<!-- JiaThis Button END -->
      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <h2 class="footer-heading">IT技术干货</h2>

    <div class="footer-col-1 column">
      <p class="text">IT技术干货 KernelHacks 最好的技术站点 技术信息 纯干货</p>
      <ul>
        <li>汇集最好的科技与互联网信息</li>
        <li>Liu Lantao</li>
        <li><a href="mailto:iftti@iftti.com">iftti@iftti.com</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/Lax">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <span class="username">Lax</span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/liulantao">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
                c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
                c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
                C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
                c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
                c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>
            <span class="username">@liulantao</span>
          </a>
        </li>
        <li>
          <a href="https://plus.google.com/+LiuLantao">
            <span class="icon googleplus">
              <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                width="16px" height="16px" viewBox="0 0 134.658 131.646" enable-background="new 0 0 134.658 131.646"
                xml:space="preserve">
                <g>
                  <path fill="#C2C2C2" d="M126.515,4.109H8.144c-2.177,0-3.94,1.763-3.94,3.938v115.546c0,2.179,1.763,3.942,3.94,3.942h118.371
                  c2.177,0,3.94-1.764,3.94-3.942V8.048C130.455,5.872,128.691,4.109,126.515,4.109z"/>
                  <g>
                    <path fill="#FFFFFF" d="M70.479,71.845l-3.983-3.093c-1.213-1.006-2.872-2.334-2.872-4.765c0-2.441,1.659-3.993,3.099-5.43
                    c4.64-3.652,9.276-7.539,9.276-15.73c0-8.423-5.3-12.854-7.84-14.956h6.849l7.189-4.517H60.418
                    c-5.976,0-14.588,1.414-20.893,6.619c-4.752,4.1-7.07,9.753-7.07,14.842c0,8.639,6.633,17.396,18.346,17.396
                    c1.106,0,2.316-0.109,3.534-0.222c-0.547,1.331-1.1,2.439-1.1,4.32c0,3.431,1.763,5.535,3.317,7.528
                    c-4.977,0.342-14.268,0.893-21.117,5.103c-6.523,3.879-8.508,9.525-8.508,13.51c0,8.202,7.731,15.842,23.762,15.842
                    c19.01,0,29.074-10.519,29.074-20.932C79.764,79.709,75.344,75.943,70.479,71.845z M56,59.107
                    c-9.51,0-13.818-12.294-13.818-19.712c0-2.888,0.547-5.87,2.428-8.199c1.773-2.218,4.861-3.657,7.744-3.657
                    c9.168,0,13.923,12.404,13.923,20.382c0,1.996-0.22,5.533-2.762,8.09C61.737,57.785,58.762,59.107,56,59.107z M56.109,103.65
                    c-11.826,0-19.452-5.657-19.452-13.523c0-7.864,7.071-10.524,9.504-11.405c4.64-1.561,10.611-1.779,11.607-1.779
                    c1.105,0,1.658,0,2.538,0.111c8.407,5.983,12.056,8.965,12.056,14.629C72.362,98.542,66.723,103.65,56.109,103.65z"/>
                    <polygon fill="#FFFFFF" points="98.393,58.938 98.393,47.863 92.923,47.863 92.923,58.938 81.866,58.938 81.866,64.469
                    92.923,64.469 92.923,75.612 98.393,75.612 98.393,64.469 109.506,64.469 109.506,58.938"/>
                  </g>
                </g>
              </svg>
            </span>
            <span class="username">+LiuLantao</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="footer-col-3 column">
      
<!--以下是QQ邮件列表订阅嵌入代码--><script >var nId = "6be92ef3590ee662cd5e6381ab2044c328716364f684cf3e",nWidth="auto",sColor="light",sText="填写您的邮件地址，订阅我们的精彩内容：" ;</script><script src="http://list.qq.com/zh_CN/htmledition/js/qf/page/qfcode.js" charset="gb18030"></script>

    </div>

  </div>

  <div class="wrap">
    <div>
      <a href="http://blog.liulantao.com">Blog</a> | <a href="http://1000bit.com">铅笔特评 1000bit</a> | <a href="http://visplanet.com">VisPlanet</a> | <a href="http://iftti.com">IT技术干货</a> | <a href="http://relax.org.cn">Relax</a> | <a href="http://hangzhou.io">杭州城市指南</a>
    </div>
  </div>

  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1658815-7', 'iftti.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>


</footer>


    </body>
</html>