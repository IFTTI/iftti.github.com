---
layout: post
title: '放弃测试优先式开发（TDD）'
time: 2017-01-14 00:00:00 +0800
site_name: jobbole.com
source_url: http://blog.jobbole.com/109861/
images:
  cd4270c3da00a9dc353237b47a9bd160: http://jbcdn2.b0.upaiyun.com/2016/12/8b28eb463f61fc4c63b814690dfc40e3.png
---
{% raw %}


        			<div class="textwidget">
</div>
		
		<p>测试优先或测试驱动开发（TDD）是你在编写程序前先编写测试的软件开发方法。你编写程序来通过测试，扩展测试或增加测试然后再扩展程序功能来通过这些测试。你先花费时间建立一系列的测试，然后你可以在每次程序修改时自动运行测试。这是为了确保每时每刻程序都能够运行并通过测试。你周期性地重构你的程序来提高它的结构并让它易读易改。</p>
<p>外界宣称测试优先式开发提高了测试覆盖率，并且在不改变现有功能基础上，能够更简单的改变程序。测试的作用就像文档一样，你有了一个关于程序应该做什么的详细又抽象的描述。</p>
<p>几个月前，我谨慎的决定体验测试优先式开发。作为一个退休的程序员，我编写的是我私人的项目，而不是一个有文档说明的客户端。所以我在此所说的话或许仅仅适用于没有严格程序文档的情况。</p>
<p>起初，我发现这个方法（测试驱动开发）很有用。但我开始实现一个 GUI 时，编写测试很困难，而且我认为编写测试所花费的时间并不值得。然后，我并没有完全（或许是不纯粹地）按照TDD的要求去实现，所以我没有对所有东西做自动化测试，有时在编写测试前就实现了一些东西。</p>
<p>但是，我并不是因为编写 GUI 自动化测试的（众所周知的）困难而放弃 TDD 。我放弃是因为我认为它在编程中鼓励保守主义，它鼓励你设计能通过测试的决策，而不是符合用户的正确决策，它使你专注于细节而不是架构，并且它并不能适用于主要的一类程序问题——那些由意外的数据引起的问题。</p>
<ul>
<li>因为你想确保你总是可以通过大多数的测试，当你改变并扩展程序时你倾向于思考这一点。你因此不情愿做出会导致大量测试失败的大范围的变更。从心理上讲，你变得保守并避免破坏大量测试。</li>
<li>往往对程序设计做测试比其他更容易。有时，最棒的设计是很难测试的，所以你不情愿采取这种方法，因为你知道你将花费大量时间设计并编写测试（对于我来说真的是一件无聊的事）。</li>
<li>对于我来说最严重的问题是 TDD 鼓励专注于整理细节来通过测试，而不是把程序看做一个整体。我每次开始编程时只有有限的上机时间，并且需要花费时间审视并思考程序整体。我认为这带来优雅又优秀的结构化程序。但是 TDD 让你深入程序不同部分的细节，很少能够退后一步审视大局。</li>
<li>根据我的经验，很多程序出现失败是因为处理的数据并不是程序所期待的。编写能够精确反映出你将要处理的坏数据的「坏数据」测试很困难，因为你需要成为一个领域专家并理解数据。「纯粹主义者」解决这点，当然，那就是你设计了数据校验检查，所以你不需要处理坏数据。但是现实中通常很难定义什么是「正确的数据」，并且有时你不得不处理你得到的数据而不是你预期的数据。</li>
</ul>
<p>所以，我回到原点开始先写代码，然后写测试。我继续在有意义的地方做自动化测试，但在我能清楚读懂代码并理解它做什么的时候，我不会花费大量荒谬的时间编写测试。思考优先比测试优先是一条更好的路。</p>
<p>附言。我很确定 TDD 纯粹主义者会说我做的不正确，所以没有真正从 TDD 受益。或许他们是对的。但是我还没有找到狂热者能够说服我。</p>

        
            <blockquote class="rewards">
        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>
        <a href="#rewardbox" id="rewards-button" class="fancybox"><span class="btn-bluet-blue href-style"><i class="fa fa-jpy"></i> 打赏译者</span></a>
    </blockquote>

    <div id="rewardbox">
        <h4>打赏支持我翻译更多好文章，谢谢！</h4>
                <p>任选一种支付方式</p>
                
    </div>

    
        
    <div class="post-adds">
        <span data-post-id="109861" class=" btn-bluet-bigger href-style vote-post-up   register-user-only "><i class="fa  fa-thumbs-o-up"></i> <h10 id="109861votetotal">1</h10> 赞</span>
        <span data-book-type="1" data-site-id="2" data-item-id="109861" data-item-type="1" class=" btn-bluet-bigger href-style bookmark-btn  register-user-only "><i class="fa fa-bookmark-o  "></i>  收藏</span>

                    <a href="#article-comment"><span class="btn-bluet-bigger href-style hide-on-480"><i class="fa fa-comments-o"></i>  评论</span></a>
        
        
        
        <!-- JiaThis Button BEGIN -->
        <div class="jiathis_style_24x24" style="display: inline-flex; position: relative; margin: 0; clear: both;float: right;">
            <a class="jiathis_button_tsina"></a>
            <a class="jiathis_button_weixin"></a>
            <a class="jiathis_button_qzone"></a>
            <a class="jiathis_button_fb hide-on-480"></a>
            <a href="http://www.jiathis.com/share?uid=1745061" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
        </div>

    </div>




        <!-- BEGIN #author-bio -->

<div id="author-bio">
	
	<h3 class="widget-title">
	关于作者：<a target="_blank" href="http://www.jobbole.com/members/snowhere">孙腾浩</a>
	</h3>
	<div class="alignleft">
		<a target="_blank" href="http://www.jobbole.com/members/snowhere">
			<img src="/images/jobbole.com/cd4270c3da00a9dc353237b47a9bd160.jpg">
		</a>
	</div>

    <div class="author-bio-info">

        <span class="author-bio-info-block">
            write the code, change the world.        </span>
        <span class="author-bio-info-block">
            <a href="http://www.jobbole.com/members/snowhere" target="_blank"><i class="fa fa-user"></i> 个人主页</a> ·
            <a href="http://blog.jobbole.com/author/snowhere/" target="_blank"><i class="fa fa-file-text-o"></i> 我的文章</a>

             · <a title="声望值" target="_blank" href="http://www.jobbole.com/members/snowhere/reputation/"><i class="fa fa-graduation-cap"></i> 10</a> · <a title="我的网站" target="_blank" href="http://snowhere.me/"><i class="fa fa-link"></i></a> <a title="QQ：459904593" target="_blank" href="#"><i class="fa fa-qq"></i></a> <a title="GitHub主页" target="_blank" href="https://github.com/Snowhere/"><i class="fa fa-github"></i></a>         </span>
    </div>
	<div class="clear"></div>
</div>

<!-- END #author-bio -->
	
{% endraw %}
