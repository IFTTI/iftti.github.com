---
layout: post
title: 'cowboy-高性能简洁的erlang版web框架'
time: 2014-02-27 00:00:00 +0800
site_name: yufeng.info
source_url: http://blog.yufeng.info/archives/3051
---
{% raw %}

			<div style="margin-top: 15px; font-style: italic">
<p><strong>原创文章，转载请注明：</strong> 转载自<a href="http://blog.yufeng.info/" onclick="_gaq.push(['_trackEvent', 'outbound-article-int', 'http://blog.yufeng.info/', '系统技术非业余研究']);">系统技术非业余研究</a></p>
<p><strong>本文链接地址:</strong> <a href="http://blog.yufeng.info/archives/3051" onclick="_gaq.push(['_trackEvent', 'outbound-article-int', 'http://blog.yufeng.info/archives/3051', 'cowboy-高性能简洁的erlang版web框架']);">cowboy-高性能简洁的erlang版web框架</a></p>
</div>
<p>大部分的分布式系统只要有业务价值，必须提供如API，监控，管理界面等等，而http是目前事实上的标准，换句话说分布式系统必须提供强大的web框架，编写业务才能容易上手。 Erlang系统第一天就是设计干这个的，自然有很多web框架，出名的如mochiweb, cowboy,chicagoboss, misultin,inets等框架，竞争也是非常激烈。今天我要推荐的是新秀：cowboy，项目在<a href="https://github.com/extend/cowboy" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'https://github.com/extend/cowboy', '这里']);">这里</a></p>
<p>那么Cowboy是什么呢？</p>
<blockquote><p>Cowboy is a small, fast and modular HTTP server written in Erlang.
</p></blockquote>
<p>其定位非常明确：</p>
<blockquote>
<p>Cowboy aims to provide a complete HTTP stack in a small code base. It is optimized for low latency and low memory usage, in part because it uses binary strings.</p>
<p>Cowboy provides routing capabilities, selectively dispatching requests to handlers written in Erlang.</p>
<p>Because it uses Ranch for managing connections, Cowboy can easily be embedded in any other application.</p>
<p>No parameterized module. No process dictionary. Clean Erlang code.</p>
</blockquote>
<p>目前还支持websocket和spdy协议(由<a href="http://leofs.org/" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'http://leofs.org/', 'leofs']);">leofs</a>赞助），是个完整的http协议栈实现，功能强劲。由于是最近才发展起来的，充分考虑了性能，强调代码的整洁，作者在产品层面对erlang的优缺点非常了解，实现的很优雅很高效。 目前多个项目都是用它支撑的，也反过来刺激它走的很稳很快，代码维护也很活跃，比如竞争对手misultin感觉没有超越的希望就放弃了。</p>
<blockquote>
<p>
Misultin development has been discontinued.</p>
<p>There currently are three main webserver libraries which basically do similar things:<br>
* Mochiweb<br>
* Cowboy<br>
* Misultin<br>
Mochiweb has been around the block for a while and it’s proven solid in production, I can only recommend it for all basic webserver needs you might have. Cowboy has a very interesting approach since it allows to use multiple TCP and UDP protocols on top of a common acceptor pool. It is a very modern approach, is very actively maintained and many projects are starting to be built around it.
</p>
</blockquote>
<p>在c实现中nginx是做的最好的，但是如果你用nginx写自己的业务代码的时候，你就会把整个系统的性能拖到实现者的水平，总体来讲性能不会太高。而基于cowboy的实现再加上erlang天然的优势，通常一台机器做到几万的QPS的业务，对实现者的要求非常低，可以大大促进生产力，额外的福利还有热升级和稳定可靠。</p>
<p>小结：技术在进步，思想也要放开。</p>
<p>祝玩的开心。
</p>
<div style="margin-top: 0; margin-bottom: 15px; color: #888888; font-size: 80%; font-style: italic">
<p>Post Footer automatically generated by <a href="http://easwy.com/blog/wordpress/wp-posturl/" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'http://easwy.com/blog/wordpress/wp-posturl/', 'wp-posturl plugin']);" style="color: #8888FF; text-decoration: underline;">wp-posturl plugin</a> for wordpress.</p>
</div>

			<div class="fixed"></div>
		
{% endraw %}
