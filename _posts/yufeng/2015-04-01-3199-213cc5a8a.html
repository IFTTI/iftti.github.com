---
layout: post
title: '集群引入inet_dist_{listen,connect}_options更精细参数微调'
time: 2015-04-01 00:00:00 +0800
site_name: yufeng.info
source_url: http://blog.yufeng.info/archives/3199
---
{% raw %}

			<div style="margin-top: 15px; font-style: italic">
<p><strong>原创文章，转载请注明：</strong> 转载自<a href="http://blog.yufeng.info/">系统技术非业余研究</a></p>
<p><strong>本文链接地址:</strong> <a href="http://blog.yufeng.info/archives/3199">集群引入inet_dist_{listen,connect}_options更精细参数微调</a></p>
</div>
<p>Erlang 17.5版本引入了inet_dist_{listen,connect}_options，对于结点间的互联socket可以有更精细的控制，RPC的时候性能可以微调：</p>
<blockquote><p>raimo/inet_tcp_dist-priority-option/OTP-12476:<br>
  Document kernel inet_dist_{listen,connect}_options<br>
  Test kernel inet_dist_{listen,connect}_options<br>
  Implement kernel inet_dist_{listen,connect}_options</p></blockquote>
<p>参看源码：https://github.com/erlang/otp/commit/14ddc5594d74979a15a256a41fba5f1297aeaa1a</p>
<p>随着Erlang集群和节点上千，节点之间的RPC的开销和延迟就会被放大. 因为每个节点间的互通都是通过tcp, 驱动上也都是gen_tcp所以理论上对于gen_tcp合用的参数都可以设置，在延迟和吞吐量之间来平衡。</p>
<p>祝玩得开心！</p>
<div style="margin-top: 0; margin-bottom: 15px; color: #888888; font-size: 80%; font-style: italic">
<p>Post Footer automatically generated by <a href="http://easwy.com/blog/wordpress/wp-posturl/" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'http://easwy.com/blog/wordpress/wp-posturl/', 'wp-posturl plugin']);" style="color: #8888FF; text-decoration: underline;">wp-posturl plugin</a> for wordpress.</p>
</div>

			<div class="fixed"></div>
		
{% endraw %}
