---
layout: post
title: '利用n和nvm管理Node的版本'
time: 2014-03-29 00:00:00 +0800
site_name: weizhifeng.net
source_url: http://weizhifeng.net/node-version-management-via-n-and-nvm.html
---
{% raw %}

	
	

	<h1>写在前面</h1>

<p>Node版本的迭代速度很快，版本很多（横跨0.6到0.11），升级Node版本成为了一个问题。目前有<code>n</code>和<code>nvm</code>这两个工具可以对Node进行无痛升级，本文简单介绍一下二者的使用。</p>

<h1>n</h1>

<p><code>n</code>是Node的一个模块，作者是<a href="https://github.com/visionmedia">TJ Holowaychuk</a>（鼎鼎大名的<a href="http://expressjs.com/">Express</a>框架作者），就像它的名字一样，它的理念就是简单：</p>

<pre><code>"no subshells, no profile setup, no convoluted api, just simple"
</code></pre>

<p>安装很简单：</p>

<pre><code>$ sudo npm install -g n
</code></pre>

<p>安装完成之后，直接输入<code>n</code>后输出当前已经安装的node版本以及正在使用的版本（前面有一个<code>o</code>），你可以通过移动上下方向键来选择要使用的版本，最后按回车生效。</p>

<pre><code>$ n
    0.10.1 
    0.10.15 
o   0.10.21 
    0.11.8
</code></pre>

<p>如果你要安装其他的版本（比如0.11.12），那么如下：</p>

<pre><code>$ n 0.11.12
install : 0.11.12
   mkdir : /usr/local/n/versions/0.11.12
   fetch : http://nodejs.org/dist/v0.11.12/node-v0.11.12-darwin-x64.tar.gz
####                                                     5.9%
</code></pre>

<p>安装最新的版本</p>

<pre><code>$ n latest
</code></pre>

<p>安装稳定版本</p>

<pre><code>$ n stable
</code></pre>

<p>删除某个版本</p>

<pre><code>$ n rm 0.10.1 
</code></pre>

<p>以指定的版本来执行脚本</p>

<pre><code>$ n use 0.10.21 some.js
</code></pre>

<h1>nvm</h1>

<p><a href="https://github.com/creationix/nvm">nvm</a>全称Node Version Manager，它与<code>n</code>的实现方式不同，其是通过shell脚本实现的。</p>

<p>安装方式有两种：</p>

<pre><code>$ curl https://raw.github.com/creationix/nvm/v0.4.0/install.sh | sh
</code></pre>

<p>或者</p>

<pre><code>$ wget -qO- https://raw.github.com/creationix/nvm/v0.4.0/install.sh | sh
</code></pre>

<p>以上脚本会把<code>nvm</code>库clone到<code>~/.nvm</code>，然后会在<code>~/.bash_profile</code>, <code>~/.zshrc</code>或<code>`~/.profile</code>末尾添加source，安装完成之后，你可以用以下命令来安装node</p>

<pre><code>$ nvm install 0.10
</code></pre>

<p>使用指定的版本</p>

<pre><code>$ nvm use 0.10
</code></pre>

<p>查看当前已经安装的版本</p>

<pre><code>$ nvm ls
.nvm
-&gt;  v0.10.24
</code></pre>

<p>查看正在使用的版本</p>

<pre><code>$ nvm current
v0.10.24
</code></pre>

<p>以指定版本执行脚本</p>

<pre><code>$ nvm run 0.10.24 myApp.js
</code></pre>

<p>卸载nvm</p>

<pre><code>$ rm -rf ~/.nvm
</code></pre>

<h1>总结</h1>

<p>以上就是两种Node版本管理工具的安装和基本使用方法，选择适合你的那一种口味。</p>

<h1>参考</h1>

<ul>
<li><a href="https://github.com/creationix/nvm">https://github.com/creationix/nvm</a></li>
<li><a href="https://github.com/visionmedia/n">https://github.com/visionmedia/n</a></li>
</ul>


	(完)

	<div class="post-info">
		29 Mar 2014  
	
		
	
		
	</div>
	
	<!-- disqus start -->
	
	
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
	
	<!-- disqus end -->

	<!-- related start -->
	
	<!-- related end -->
{% endraw %}
