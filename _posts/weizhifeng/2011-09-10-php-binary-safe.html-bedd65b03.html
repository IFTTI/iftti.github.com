---
layout: post
title: 'PHP二进制安全'
time: 2011-09-10 00:00:00 +0800
site_name: weizhifeng.net
source_url: http://weizhifeng.net/php-binary-safe.html
---
{% raw %}

	
	

	<h3>前言</h3>

<p>在PHP中经常看到一些函数有个标识「<a href="http://en.wikipedia.org/wiki/Binary-safe" title="Binary safe">binary safe</a>」，即二进制安全，这是个什么概念呢？ 在一个字符串中会包含很多的字符，这其中就包括NULL。「binary safe」的函数会把它的输入字符串原封不动的进行处理；而非「binary safe」的函数是在底层直接调用C的字符串相关的函数，而这些函数处理一个字符串会把NULL后边的内容忽略掉。</p>

<h3>例子</h3>

<p>以下例子中，如果函数<a href="http://cn2.php.net/manual/en/function.strlen.php" title="strlen">strlen</a>是binary safe的话，我们将得到7；如果函数是非binary safe的话，我们将得到3
，由于strlen是binary safe的，所以实际上以下的运行结果是7：</p>

<pre><code>&lt;?php
$str = "abcx00abc"; //x00为NULL
echo strlen($str);  //7
</code></pre>

<p>参考：</p>

<p><a href="http://stackoverflow.com/questions/3264514/in-php-what-does-it-mean-by-a-function-being-binary-safe">http://stackoverflow.com/questions/3264514/in-php-what-does-it-mean-by-a-function-being-binary-safe</a>
<a href="http://en.wikipedia.org/wiki/Binary-safe">http://en.wikipedia.org/wiki/Binary-safe</a></p>

	(完)

	<div class="post-info">
		10 Sep 2011  
	
		
	
		
	</div>
	
	<!-- disqus start -->
	
	
	
	
	<!-- disqus end -->

	<!-- related start -->
	
	<!-- related end -->
{% endraw %}
